!function n(r,s,a){function o(e,t){if(!s[e]){if(!r[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(h)return h(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}i=s[e]={exports:{}},r[e][0].call(i.exports,function(t){return o(r[e][1][t]||t)},i,i.exports,n,r,s,a)}return s[e].exports}for(var h="function"==typeof require&&require,t=0;t<a.length;t++)o(a[t]);return o}({1:[function(t,e,i){e.exports={Renderer:t("./map-fragment/draw/renderer").Renderer,Settings:t("./map-fragment/draw/renderer").Settings,MapReader:t("./map-fragment/reader/MapReader").MapReader}},{"./map-fragment/draw/renderer":3,"./map-fragment/reader/MapReader":5}],2:[function(t,e,i){const n=t("paper");function r(t){var e={strokeColor:new n.Color(180/255,93/255,60/255,.9)};return t.closed&&(e.fillColor=new n.Color(new n.Gradient([[t.fillColor,.38],new n.Color(1,1,1)],!1),t.bounds.topCenter,t.bounds.bottomCenter)),e}n.Item.prototype.select=function(t){if(this.mapSelected=!this.mapSelected,this.mapSelected&&void 0!==t){t=t(this);this.orgStyle={};for(const e in t)this.orgStyle[e]=this[e];this.style=t}else this.style=this.orgStyle};e.exports={Controls:class{constructor(t,e,i,n){this.renderer=t,this.reader=e,this.element=i,this.scope=n,this.view=n.view,this.element.onwheel=t=>this.zoom(t),this.activateDrag(),this.renderer.emitter.addEventListener("roomClick",t=>this.selectRoom(t.detail)),this.renderer.emitter.addEventListener("backgroundClick",()=>this.deselectRoom()),this.renderer.emitter.addEventListener("areaArrowClick",t=>this.goToRoomArea(t.detail));t=this.renderer.getBounds();this.view.center=t.center,this.view.zoom=Math.min(this.view.size.width/t.width,this.view.size.height/t.height),this.view.minZoom=this.view.zoom}zoom(t){t.preventDefault();var e=this.view.zoom,t=(this.deltaZoom(0<t.deltaY?.9:1.1),this.view.viewToProject(new n.Point(t.offsetX,t.offsetY))),e=e/this.view.zoom,i=t.subtract(this.view.center),t=t.subtract(i.multiply(e)).subtract(this.view.center);this.view.center=this.view.center.add(t)}setZoom(t){this.view.zoom=t,this.view.zoom=Math.min(Math.max(this.view.zoom,this.view.minZoom),50),this.element.dispatchEvent(new CustomEvent("zoom",{detail:this.view}))}deltaZoom(t){this.setZoom(this.view.zoom*t)}activateDrag(){var t=new n.Tool;t.activate(),t.onMouseDrag=t=>{this.toggleOptimizedDrag(!0),this.element.style.cursor="all-scroll";t=t.downPoint.subtract(t.point);this.view.translate(t.negate()),this.isDrag=!0,this.element.dispatchEvent(new CustomEvent("drag",{detail:this.view}))},t.onMouseDown=()=>{this.isDrag=!1,this.element.dispatchEvent(new CustomEvent("drag",{detail:this.view}))},t.onMouseUp=()=>{this.isDrag=!1,this.element.style.cursor="default",this.toggleOptimizedDrag(!1)}}toggleOptimizedDrag(t){this.renderer.settings.optimizeDrag&&(t?this.isDrag||(this.renderer.linkLayer.visible=!1,this.renderer.roomLayer.visible=!1,this.renderer.rasterLayer.visible=!0):(this.renderer.linkLayer.visible=!0,this.renderer.roomLayer.visible=!0,this.renderer.rasterLayer.visible=!1))}selectRoom(t){if(this.isDrag)return!1;this.deselectRoom(),this.renderer.renderPosition(t.id),t.render.select(r),t.exitsRenders.forEach(t=>t.select(r)),this.selected=t,this.element.dispatchEvent(new CustomEvent("roomSelected",{detail:t}))}deselectRoom(){if(this.isDrag)return!1;this.renderer.clearPosition(),this.renderer.clearHighlight(),void 0!==this.selected&&(this.selected.render.select(),this.selected.exitsRenders.forEach(t=>t.select()),delete this.selected,this.element.dispatchEvent(new CustomEvent("roomDeselected")))}centerRoom(t){t=this.renderer.area.getRoomById(t);void 0!==t&&(this.centerOnItem(t.render),this.selectRoom(t))}centerOnItem(t){this.view.center=t.localToGlobal(t.position)}goToRoomArea(t){t=this.reader.getRoomById(t);this.element.dispatchEvent(new CustomEvent("goToArea",{detail:t}))}move(t,e){this.view.scrollBy(new n.Point(50*t,50*e))}}}},{paper:7}],3:[function(t,e,i){const c=t("paper");t("../reader/MapReader").MapReader;const n=t("./controls").Controls,s={OPEN_DOOR:new c.Color(10/255,155/255,10/255),CLOSED_DOOR:new c.Color(226/255,205/255,59/255),LOCKED_DOOR:new c.Color(155/255,10/255,10/255),DEFAULT_BACKGROUND:new c.Color(0,0,0),DEFAULT:new c.Color(1,1,1)};class a{constructor(){this.isRound=!1,this.scale=55,this.roomSize=10,this.exitsSize=2,this.borders=!1,this.frameMode=!1,this.areaName=!0,this.showLabels=!0,this.uniformLevelSize=!1,this.fontFamily="sans-serif",this.mapBackground=s.DEFAULT_BACKGROUND,this.linesColor=s.DEFAULT,this.transparentLabels=!1,this.emboss=!1}}c.Item.prototype.registerClick=function(t){"undefined"!=typeof document&&(this.onClick=t)},c.Item.prototype.pointerReactor=function(t){"undefined"!=typeof document&&(this.onMouseEnter=()=>t.style.cursor="pointer",this.onMouseLeave=()=>t.style.cursor="default")};function u(t,e){for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e)return i}e.exports={Renderer:class{constructor(t,e,i,n,r){this.settings=new a,Object.assign(this.settings,r),this.reader=e,this.area=i,this.colors=n,this.scale=this.settings.scale,this.grideSize=this.settings.gridSize,this.roomSize=this.settings.roomSize,this.roomFactor=this.roomSize/20,this.exitFactor=.01*this.settings.exitsSize,this.roomDiagonal=this.roomFactor*Math.sqrt(2),this.innerExits=["up","down","u","d","in","out","i","u"],this.paper=new c.PaperScope,this.bounds=this.area.getAreaBounds(this.settings.uniformLevelSize),null==t?(t=new c.Size((this.bounds.width+14)*this.scale,(this.bounds.height+14)*this.scale),this.isVisual=!1):(this.isVisual=!0,this.emitter=new EventTarget),this.paper.setup(t),this.element=t,this.backgroundLayer=new c.Layer,this.bgLabels=new c.Layer,this.linkLayer=new c.Layer,this.roomLayer=new c.Layer,this.rasterLayer=new c.Layer,this.labelsLayer=new c.Layer,this.specialLinkLayer=new c.Layer,this.charsLayer=new c.Layer,this.overlayLayer=new c.Layer,this.exitsRendered={},this.defualtColor=new c.Color(this.colors.default[0]/255,this.colors.default[1]/255,this.colors.default[2]/255),this.highlights=new c.Group,this.highlights.locked=!0,this.path=[],this.render()}render(t=!1){this.pngRender=t,this.renderBackground(this.bounds.minX-7,this.bounds.minY-7,this.bounds.maxX+7,this.bounds.maxY+7),this.renderHeader(this.bounds.minX-3.5,this.bounds.maxY+3.5),this.area.rooms.filter(t=>t.z==this.area.zIndex).forEach(t=>{this.renderRoom(t)}),void 0!==this.area.labels&&this.settings.showLabels&&(this.bgLabels.activate(),this.area.labels.filter(t=>t.Z==this.area.zIndex).forEach(t=>this.renderLabel(t),this)),this.matrix=new c.Matrix(1,0,0,-1,7-this.bounds.minX,this.bounds.maxY+7).scale(this.scale,new c.Point(this.bounds.minX,this.bounds.maxY)),this.settings.optimizeDrag&&(this.rasterLayer.activate(),this.linkRaster=this.linkLayer.rasterize({resolution:2e3}),this.roomRaster=this.roomLayer.rasterize({resolution:2e3}),this.rasterLayer.visible=!1),this.transform(),this.isVisual&&(this.controls=new n(this,this.reader,this.element,this.paper),this.element.dispatchEvent(new CustomEvent("renderComplete",{detail:this})))}transform(){let e=+this.scale;this.paper.project.layers.forEach(t=>{t.applyMatrix=!1,t.matrix=new c.Matrix(1,0,0,-1,-this.bounds.minX+e,this.bounds.maxY+e).scale(this.scale,new c.Point(this.bounds.minX,this.bounds.maxY))})}renderBackground(t,e,i,n){this.backgroundLayer.activate();t=new c.Path.Rectangle(new c.Point(t,e),new c.Point(i,n));t.fillColor=new c.Color(this.settings.mapBackground),t.registerClick(()=>{this.emitter.dispatchEvent(new CustomEvent("backgroundClick"))})}renderHeader(t,e){this.settings.areaName&&(this.backgroundLayer.activate(),(t=new c.PointText(t,e)).fillColor=new c.Color(1,1,1,1),t.fontSize=2.5,t.fontFamily=this.settings.fontFamily,t.content=this.area.areaName,t.scale(1,-1))}renderRoom(e){this.roomLayer.activate();let t,i=(t=this.settings.isRound?new c.Path.Circle(new c.Point(e.x+this.roomFactor/2,e.y+this.roomFactor/2),this.roomFactor/2):new c.Path.Rectangle(new c.Point(e.x,e.y),new c.Size(this.roomFactor,this.roomFactor)),this.colors[e.env]);void 0===i&&(i=[114,1,0]);var n,r,s,a,o=new c.Color(i[0]/255,i[1]/255,i[2]/255,1);for(n in t.fillColor=this.settings.frameMode?new c.Color(this.settings.mapBackground):o,t.strokeWidth=this.exitFactor,t.strokeColor=!this.settings.borders||this.settings.frameMode?o:this.settings.linesColor,e.render=t,e.exitsRenders=null!=e.exitsRenders?e.exitsRenders:[],e.exits)this.innerExits.indexOf(n)<=-1?e.exits.hasOwnProperty(n)&&!e.customLines.hasOwnProperty(p(n))&&this.renderLink(e,e.exits[n],n):this.renderInnerExit(e,n);for(r in e.specialExits)e.specialExits.hasOwnProperty(r)&&!e.customLines.hasOwnProperty(r)&&this.renderSpecialLink(e,r,e.specialExits[r]);for(s in e.customLines)this.renderCustomLine(e,s,e.exits[s]??e.specialExits[s]);for(a in e.stubs)this.renderStub(e,h[e.stubs[a]]);if(this.settings.emboss){this.overlayLayer.activate();let t;.41<new c.Color(this.settings.linesColor).lightness?(t=new c.Path([e.render.bounds.topLeft,e.render.bounds.topRight,e.render.bounds.bottomRight])).strokeColor="#000000":(t=t=new c.Path([e.render.bounds.topLeft,e.render.bounds.bottomLeft,e.render.bounds.bottomRight])).strokeColor="#ffffff",t.strokeWidth=this.exitFactor}this.renderChar(e),t.pointerReactor(this.element),t.registerClick(()=>{this.emitter.dispatchEvent(new CustomEvent("roomClick",{detail:e}))})}renderLink(n,r,t){var s=new Array(n.id,r).sort().join("#");if(!this.exitsRendered[s]||void 0!==n.doors[p(t)]){this.linkLayer.activate();var a=this.area.getRoomById(r),o=new c.Point(this.getExitX(n.x,t),this.getExitY(n.y,t));let e=new c.Path,i;if(a){var h=u(a.exits,n.id),l=null==h;i=new c.Point(this.getExitX(a.x,h),this.getExitY(a.y,h)),l?this.renderArrow(o,i,this.settings.linesColor,[],this.exitFactor,this.settings.linesColor,!0):(e.moveTo(o),e.lineTo(i),e.strokeWidth=this.exitFactor,e.strokeColor=this.settings.linesColor)}else{i=new c.Point(n.x+this.roomFactor/2,n.y+this.roomFactor/2);let t=this.colors[this.reader.getRoomById(r).env];void 0===t&&(t=[114,1,0]),(e=this.renderArrow(o,i,new c.Color(t[0]/255,t[1]/255,t[2]/255),[],this.exitFactor)).rotate(180,o),e.scale(2),e.pointerReactor(this.element),e.registerClick(()=>this.emitter.dispatchEvent(new CustomEvent("areaArrowClick",{detail:r})))}return void 0!==n.doors[p(t)]&&this.renderDoors(o,i,n.doors[p(t)]),this.exitsRendered[s]=!0,n.exitsRenders.push(e),a&&(a.exitsRenders=null!=a.exitsRenders?a.exitsRenders:[],a.exitsRenders.push(e)),e}}renderSpecialLink(t,e,i){this.linkLayer.activate();let n;var r,s=new c.Point(t.x+this.roomFactor/2,t.y+this.roomFactor/2),a=this.area.getRoomById(e);let o;return a?((n=new c.Path).moveTo(s),r=u(a.exits,t.id),o=new c.Point(this.getExitX(a.x,r),this.getExitY(a.y,r)),n.lineTo(o),n.strokeWidth=1):(o=new c.Point(t.x+this.roomFactor/2,t.y+this.roomFactor/2),(n=this.renderArrow(s,o,this.defualtColor,[],this.exitFactor)).strokeColor=this.settings.linesColor,n.scale(1,s),n.rotate(180,s),n.registerClick(()=>this.emitter.dispatchEvent(new CustomEvent("areaArrowClick",{detail:e})))),t.exitsRenders.push(n),a&&(a.exitsRenders="undefined"!=a.exitsRenders?a.exitsRenders:[],a.exitsRenders.push(n)),n}renderCustomLine(t,i,e){if(void 0===t.customLines[i].points||0!==t.customLines[i].points.length){this.linkLayer.activate();var n=new c.Group,r=new c.Path,s=t.customLines[i].attributes.style,a=("dot line"===s?(r.dashArray=[.05,.05],r.dashOffset=.1):"dash line"===s?r.dashArray=[.4,.2]:"solid line"!==s&&console.log("Brak opisu stylu: "+s),void 0!==t.customLines[i].attributes.color?(s=t.customLines[i].attributes.color,r.strokeColor=new c.Color(s.r/255,s.g/255,s.b/255)):r.strokeColor=this.defualtColor,new c.Point(t.x+this.roomFactor/2,t.y+this.roomFactor/2));if(r.moveTo(a),void 0!==t.customLines[i].points){let e=[];for(var o in t.customLines[i].points.forEach(t=>e.push(t)),e){o=e[o],o=new c.Point(o.x+this.roomFactor/2,o.y+this.roomFactor/2),a=new c.Point(o);r.lineTo(a)}}return n.addChild(r),t.customLines[i].attributes.arrow&&1<r.segments.length&&(s=this.renderArrow(r.segments[r.segments.length-2].point,r.segments[r.segments.length-1].point,r.strokeColor,r.dashArray,this.exitFactor),n.addChild(s)),r.strokeWidth=this.exitFactor,r.orgStrokeColor=r.strokeColor,this.area.getRoomById(e)||(n.registerClick(()=>this.emitter.dispatchEvent(new CustomEvent("areaArrowClick",{detail:e}))),n.pointerReactor(this.element)),t.exitsRenders.push(n),n}}renderArrow(t,e,i,n,r,s,a){var o=e,o=new c.Path.RegularPolygon(o,3,this.roomDiagonal/6),h=(o.position=o.position.add(o.bounds.topCenter.subtract(o.bounds.center)),o.rotate(e.subtract(t).getAngle()+90,e),new c.Path.Line(t,o.bounds.center)),l=new c.Group([h,o]);return l.closed=!0,o.fillColor=i,o.strokeColor=i,o.strokeWidth=this.exitFactor,h.fillColor=s||i,h.strokeColor=s||i,h.dashArray=n,h.strokeWidth=this.exitFactor,a?(o.position=new c.Point(e.x+(t.x-e.x)/2,e.y+(t.y-e.y)/2),h.dashArray=[.1,.1],l.fillColor=new c.Color(1,0,0),o.scale(1.5)):h.strokeWidth=r,l}renderStub(t,e){this.linkLayer.activate();let i;var n;return-1<this.innerExits.indexOf(e)?i=this.renderInnerExit(t,e,!0):(n=new c.Point(t.x+.5*this.roomFactor,t.y+.5*this.roomFactor),t=new c.Point(this.getExitX(t.x,e),this.getExitY(t.y,e)),(i=new c.Path).moveTo(n),i.lineTo(t),i.pivot=n,i.scale(2),i.position=t,i.strokeWidth=this.exitFactor,i.strokeColor=this.settings.linesColor),i}renderInnerExit(t,e,i=!1){this.labelsLayer.activate();var n,r,s=new c.Group;return"down"!==e&&"d"!=e||s.addChild(this.renderInnerTriangle(t,e,i)),"up"!==e&&"u"!==e||(s.addChild(this.renderInnerTriangle(t,e,i)),s.rotate(180,t.render.bounds.center)),"in"!==e&&"i"!==e||((n=this.renderInnerTriangle(t,e,i)).rotate(90,t.render.bounds.center),n.scale(.4,t.render.bounds.center),n.position.x-=.01,(r=this.renderInnerTriangle(t,e,i)).scale(.4,t.render.bounds.center),r.rotate(270,t.render.bounds.center),r.position.x+=.01,s.addChild(n),s.addChild(r)),"out"!==e&&"o"!==e||((n=this.renderInnerTriangle(t,e,i)).rotate(270,t.render.bounds.center),n.scale(.5,t.render.bounds.rightCenter),n.rotate(180),n.position.x-=.01,(r=this.renderInnerTriangle(t,e,i)).rotate(90,t.render.bounds.center),r.scale(.5,t.render.bounds.leftCenter),r.rotate(180),r.position.x+=.01,s.addChild(n),s.addChild(r)),this.settings.isRound&&s.scale(.8,.8,new c.Point(t.render.bounds.center)),s.locked=!0,s}renderInnerTriangle(t,e,i){var n=new c.Path.RegularPolygon(new c.Point(t.render.bounds.bottomCenter).subtract(new c.Point(0,.2*this.roomFactor)),3,.3*this.roomFactor),r=(n.scale(1.2,.75),this.lightnessDependantColor(t)),i=(n.strokeWidth=this.exitFactor,i||(n.fillColor=new c.Color(r,r,r,.75)),n.strokeColor=new c.Color(r,r,r),t.doors[o(e)]);if(void 0!==i)switch(i){case 1:n.strokeColor=s.OPEN_DOOR;break;case 2:n.strokeColor=s.CLOSED_DOOR;break;default:n.strokeColor=s.LOCKED_DOOR}return n.bringToFront(),n}renderChar(t){var e,i;this.charsLayer.activate(),t.roomChar&&(e=.85*this.roomFactor/t.roomChar.length,i=this.pngRender?t.render.position.x-.1:t.render.position.x,i=new c.PointText(i,t.render.position.y+e/4),t.userData&&void 0!==t.userData["system.fallback_symbol_color"]?i.fillColor=t.userData["system.fallback_symbol_color"]:i.fillColor=this.lightnessDependantColor(t),i.fontSize=e,i.content=t.roomChar,i.justification="center",i.locked=!0,i.scale(1,-1))}renderDoors(t,e,i){this.specialLinkLayer.activate();var n=(t.x+e.x)/2,t=(t.y+e.y)/2,r=new c.Path.Rectangle(n-.5,t-.5,1,1);switch(r.scale(.5*this.roomFactor,r.center),i){case 1:r.strokeColor=s.OPEN_DOOR;break;case 2:r.strokeColor=s.CLOSED_DOOR;break;default:r.strokeColor=s.LOCKED_DOOR}r.strokeWidth=this.exitFactor}renderLabel(t){var e=new c.Path.Rectangle(new c.Point(t.X,t.Y-t.Height),new c.Size(t.Width,t.Height)),e=(this.settings.transparentLabels||(e.fillColor=new c.Color(t.BgColor.r/255,t.BgColor.g/255,t.BgColor.b/255)),new c.PointText(e.bounds.center.add(0,1.2))),i=(e.fillColor=new c.Color(t.FgColor.r/255,t.FgColor.g/255,t.FgColor.b/255),Math.min(.75,t.Width/(t.Text.length/2)));e.fontSize=4,e.content=t.Text,e.fontFamily=this.settings.fontFamily,e.justification="center",e.locked=!0,e.scale(i/4,-i/4)}lightnessDependantColor(t){return.41<t.render.fillColor.lightness?.1:.9}getXMid(t){return t+this.roomFactor/2}getYMid(t){return t+this.roomFactor/2}getExitX(t,e){if(this.settings.isRound)return t+.5*this.roomFactor;switch(e){case"west":case"w":case"northwest":case"nw":case"southwest":case"sw":return t;case"east":case"e":case"northeast":case"ne":case"southeast":case"se":return t+this.roomFactor;default:return t+.5*this.roomFactor}}getExitY(t,e){if(this.settings.isRound)return t+.5*this.roomFactor;switch(e){case"north":case"n":case"northwest":case"nw":case"northeast":case"ne":return t+this.roomFactor;case"south":case"s":case"southwest":case"sw":case"southeast":case"se":return t;default:return t+.5*this.roomFactor}}getRealPoint(t,e){return this.matrix.transform(new c.Point(t,e))}getBounds(){return this.backgroundLayer.getBounds()}renderPosition(t,e){this.clearPosition(),this.overlayLayer.activate();t=this.area.getRoomById(t),t=new c.Shape.Circle(new c.Point(t.x+.5*this.roomFactor,t.y+.5*this.roomFactor),.6*this.roomDiagonal);t.fillColor=new c.Color(.5,.1,.1,.2),t.strokeWidth=5*this.exitFactor,t.hadowColor=new c.Color(1,1,1),t.shadowBlur=12,void 0===e&&(e=[0,.9,.7]),t.strokeColor=new c.Color(e[0],e[1],e[2]),t.dashArray=[.05,.05],this.position=t}clearPosition(){void 0!==this.position&&this.position.remove()}renderSelection(t,e){this.clearSelection(),this.overlayLayer.activate();t=this.area.getRoomById(t),t=new c.Path.Rectangle(new c.Point(t.x-.05,t.y-.05),new c.Size(this.roomFactor+.1,this.roomFactor+.1));t.fillColor=new c.Color(1,1,1,0),t.strokeWidth=this.exitFactor,void 0===e&&(e=[0,.9,.7]),t.strokeColor=new c.Color(e[0],e[1],e[2]),this.selection=t}clearSelection(){void 0!==this.selection&&this.selection.remove()}renderHighlight(t,e){this.overlayLayer.activate();var t=this.area.getRoomById(t),i=new c.Shape.Circle(new c.Point(t.x+.5*this.roomFactor,t.y+.5*this.roomFactor),.6*this.roomDiagonal);i.fillColor=new c.Color(.5,.1,.1,.2),i.strokeWidth=4*this.exitFactor,i.shadowColor=t.render.fillColor,i.shadowBlur=12,void 0===e&&(e=[.4,.9,.3]),i.strokeColor=new c.Color(e[0],e[1],e[2]),i.dashArray=[.1,.1],i.locked=!0,this.highlights.addChild(i)}clearHighlight(){this.highlights.removeChildren()}renderPath(i,n){this.overlayLayer.activate();let r=new c.Group;return i.forEach(t=>{t=this.area.getRoomById(t);if(t){let e=new c.Point(t.x+.5*this.roomFactor,t.y+.5*this.roomFactor);Object.values(t.exits).concat(Object.values(t.specialExits)).forEach(t=>{-1<i.indexOf(t)&&(t=this.area.getRoomById(t))&&(t=new c.Point(t.x+.5*this.roomFactor,t.y+.5*this.roomFactor),(t=new c.Path.Line(e,t)).strokeWidth=4*this.exitFactor,void 0===n&&(n=[.4,.9,.3]),t.strokeColor=new c.Color(n[0],n[1],n[2]),this.path.push(t),r.addChild(t))})}}),r.locked=!0,r}clearPath(){this.path.forEach(t=>t.remove()),this.path=[]}clear(){this.paper.clear()}exportSvg(t,e){let i="content";if(void 0!==t){var n=this.reader.roomIndex[t];if(void 0===n)throw new Error(`Room ${t} not found.`);i=new c.Rectangle(this.getRealPoint(new c.Point(n.x,n.y)).subtract(e*this.scale),2*e*this.scale,2*e*this.scale)}return this.paper.project.exportSVG({asString:!0,bounds:i})}},Settings:a};let r={north:"n",south:"s",east:"e",west:"w",northeast:"ne",northwest:"nw",southeast:"se",southwest:"sw",up:"u",down:"d",in:"i",out:"o"},h={1:"n",2:"ne",3:"nw",4:"e",5:"w",6:"s",7:"se",8:"sw",9:"u",10:"d",11:"i",12:"o"};function o(t){var e=u(r,t);return void 0!==e?e:t}function p(t){return void 0!==r[t]?r[t]:t}},{"../reader/MapReader":5,"./controls":2,paper:7}],4:[function(t,e,i){e.exports={Area:class r{constructor(t,e,i,n,r,s){this.areaId=parseInt(t),this.areaName=e,this.rooms=[],this.labels=n,i.forEach(t=>this.rooms[t.id]=t),this.levels=s,this.zIndex=r}getAreaBounds(s=!1){if(void 0===this.bounds){let e=9999999999,i=9999999999,n=-9999999999,r=-9999999999;this.rooms.forEach(t=>{!s&&t.z!==this.zIndex||(e=Math.min(e,t.x),i=Math.min(i,t.y),n=Math.max(n,t.x),r=Math.max(r,t.y))}),this.labels.forEach(t=>{!s&&t.Z!==this.zIndex||(e=Math.min(e,t.X),i=Math.min(i,t.Y),n=Math.max(n,t.X+t.Width),r=Math.max(r,t.Y+t.Height))}),this.bounds={minX:e,minY:i,maxX:n,maxY:r}}return this.bounds}getRoomById(t){return this.rooms[t]}getLevels(){return this.levels}getZIndex(){return this.zIndex}limit(t,e){let i={xMin:(t=this.rooms[t]).x-e,xMax:t.x+e,yMin:t.y-e,yMax:t.y+e},n=this.rooms.filter(t=>i.xMin<t.x&&i.xMax>t.x&&i.yMin<t.y&&i.yMax>t.y).map(t=>t.id);return new r(this.areaId,this.areaName,this.rooms.filter(t=>n.includes(t.id)||0<Object.values(t.exits).filter(t=>n.includes(t)).length),this.labels.filter(t=>i.xMin<t.X&&i.xMax>t.X&&i.yMin<t.Y&&i.yMax>t.Y),this.zIndex,this.levels)}}}},{}],5:[function(t,e,i){let a=t("./Area").Area;e.exports={MapReader:class{constructor(t,e){this.mapDataIndex={},this.roomIndex={},this.data=t,this.data.sort(function(t,e){return t.areaName<e.areaName?-1:t.areaName>e.areaName?1:0}),t.forEach((e,t)=>{this.mapDataIndex[e.areaId]=t,e.rooms.forEach(t=>{t.areaId=e.areaId,this.roomIndex[t.id]=t})}),this.colors={},e.forEach(t=>{this.colors[parseInt(t.envId)]=t.colors}),this.colors.default=[255,255,255]}getAreas(){return this.data}getArea(t,e,i){var n=this.data[this.mapDataIndex[t]];let r=new Set,s=new a(t,n.areaName,n.rooms.filter(t=>{r.add(parseInt(t.z));let e=!0;return e=i?i.xMin<t.x&&i.xMax>t.x&&i.yMin<t.y&&i.yMax>t.y:e}),n.labels.filter(t=>{let e=!0;return e=i?i.xMin<t.X&&i.xMax>t.X&&i.yMin<t.Y&&i.yMax>t.Y:e}),e,r);return s=0<n.rooms.length&&!r.has(e)?this.getArea(t,r.values().next().value):s}getAreaProperties(t){return this.data[this.mapDataIndex[t]]}getAreaByRoomId(t,e){t=this.getRoomById(t);if(void 0!==t)return this.getArea(t.areaId,t.z,e)}getColors(){return this.colors}getRoomById(t){return this.roomIndex[t]}}}},{"./Area":4}],6:[function(t,e,i){var n,r;n=this,r=function(t){"use strict";var r={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},e="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",D={5:e,"5module":e+" export import",6:e+" const class extends export import super"},B=/^in(stanceof)?$/,e="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࣇऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-鿼ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞿꟂ-ꟊꟵ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",V=new RegExp("["+e+"]"),j=new RegExp("["+e+"‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࣓-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿᫀᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷹᷻-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿]"),F=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,107,20,28,22,13,52,76,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8952,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42717,35,4148,12,221,3,5761,15,7472,3104,541,1507,4938],z=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,4759,9,787719,239];function i(t,e){for(var i=65536,n=0;n<e.length;n+=2){if(t<(i+=e[n]))return!1;if(t<=(i+=e[n+1]))return!0}}function a(t,e){return t<65?36===t:t<91||(t<97?95===t:t<123||(t<=65535?170<=t&&V.test(String.fromCharCode(t)):!1!==e&&i(t,F)))}function o(t,e){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||(t<=65535?170<=t&&j.test(String.fromCharCode(t)):!1!==e&&(i(t,F)||i(t,z)))))}function n(t,e){void 0===e&&(e={}),this.label=t,this.keyword=e.keyword,this.beforeExpr=!!e.beforeExpr,this.startsExpr=!!e.startsExpr,this.isLoop=!!e.isLoop,this.isAssign=!!e.isAssign,this.prefix=!!e.prefix,this.postfix=!!e.postfix,this.binop=e.binop||null,this.updateContext=null}function s(t,e){return new n(t,{beforeExpr:!0,binop:e})}var e={beforeExpr:!0},h={startsExpr:!0},l={};function c(t,e){return(e=void 0===e?{}:e).keyword=t,l[t]=new n(t,e)}var m={num:new n("num",h),regexp:new n("regexp",h),string:new n("string",h),name:new n("name",h),privateId:new n("privateId",h),eof:new n("eof"),bracketL:new n("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new n("]"),braceL:new n("{",{beforeExpr:!0,startsExpr:!0}),braceR:new n("}"),parenL:new n("(",{beforeExpr:!0,startsExpr:!0}),parenR:new n(")"),comma:new n(",",e),semi:new n(";",e),colon:new n(":",e),dot:new n("."),question:new n("?",e),questionDot:new n("?."),arrow:new n("=>",e),template:new n("template"),invalidTemplate:new n("invalidTemplate"),ellipsis:new n("...",e),backQuote:new n("`",h),dollarBraceL:new n("${",{beforeExpr:!0,startsExpr:!0}),eq:new n("=",{beforeExpr:!0,isAssign:!0}),assign:new n("_=",{beforeExpr:!0,isAssign:!0}),incDec:new n("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new n("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:s("||",1),logicalAND:s("&&",2),bitwiseOR:s("|",3),bitwiseXOR:s("^",4),bitwiseAND:s("&",5),equality:s("==/!=/===/!==",6),relational:s("</>/<=/>=",7),bitShift:s("<</>>/>>>",8),plusMin:new n("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:s("%",10),star:s("*",10),slash:s("/",10),starstar:new n("**",{beforeExpr:!0}),coalesce:s("??",1),_break:c("break"),_case:c("case",e),_catch:c("catch"),_continue:c("continue"),_debugger:c("debugger"),_default:c("default",e),_do:c("do",{isLoop:!0,beforeExpr:!0}),_else:c("else",e),_finally:c("finally"),_for:c("for",{isLoop:!0}),_function:c("function",h),_if:c("if"),_return:c("return",e),_switch:c("switch"),_throw:c("throw",e),_try:c("try"),_var:c("var"),_const:c("const"),_while:c("while",{isLoop:!0}),_with:c("with"),_new:c("new",{beforeExpr:!0,startsExpr:!0}),_this:c("this",h),_super:c("super",h),_class:c("class",h),_extends:c("extends",e),_export:c("export"),_import:c("import",h),_null:c("null",h),_true:c("true",h),_false:c("false",h),_in:c("in",{beforeExpr:!0,binop:7}),_instanceof:c("instanceof",{beforeExpr:!0,binop:7}),_typeof:c("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:c("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:c("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},u=/\r\n?|\n|\u2028|\u2029/,p=new RegExp(u.source,"g");function d(t,e){return 10===t||13===t||!e&&(8232===t||8233===t)}var f=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,g=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,e=Object.prototype,q=e.hasOwnProperty,U=e.toString;function _(t,e){return q.call(t,e)}var H=Array.isArray||function(t){return"[object Array]"===U.call(t)};function v(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}function y(t,e){this.line=t,this.column=e}function b(t,e,i){this.start=e,this.end=i,null!==t.sourceFile&&(this.source=t.sourceFile)}function w(t,e){for(var i=1,n=0;;){p.lastIndex=n;var r=p.exec(t);if(!(r&&r.index<e))return new y(i,e-n);++i,n=r.index+r[0].length}}var x={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!(y.prototype.offset=function(t){return new y(this.line,this.column+t)}),allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},W=!1;function G(t){var e,i,a,o,n={};for(e in x)n[e]=(t&&_(t,e)?t:x)[e];return"latest"===n.ecmaVersion?n.ecmaVersion=1e8:null==n.ecmaVersion?(!W&&"object"==typeof console&&console.warn&&(W=!0,console.warn("Since Acorn 8.0.0, options.ecmaVersion is required.\nDefaulting to 2020, but this will stop working in the future.")),n.ecmaVersion=11):2015<=n.ecmaVersion&&(n.ecmaVersion-=2009),null==n.allowReserved&&(n.allowReserved=n.ecmaVersion<5),H(n.onToken)&&(i=n.onToken,n.onToken=function(t){return i.push(t)}),H(n.onComment)&&(n.onComment=(o=(a=n).onComment,function(t,e,i,n,r,s){t={type:t?"Block":"Line",value:e,start:i,end:n};a.locations&&(t.loc=new b(this,r,s)),a.ranges&&(t.range=[i,n]),o.push(t)})),n}function K(t,e){return 2|(t?4:0)|(e?8:0)}function S(t,e,i){this.options=t=G(t),this.sourceFile=t.sourceFile,this.keywords=v(D[6<=t.ecmaVersion?6:"module"===t.sourceType?"5module":5]);var n="",n=(!0!==t.allowReserved&&(n=r[6<=t.ecmaVersion?6:5===t.ecmaVersion?5:3],"module"===t.sourceType)&&(n+=" await"),this.reservedWords=v(n),(n?n+" ":"")+r.strict);this.reservedWordsStrict=v(n),this.reservedWordsStrictBind=v(n+" "+r.strictBind),this.input=String(e),this.containsEsc=!1,i?(this.pos=i,this.lineStart=this.input.lastIndexOf("\n",i-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(u).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=m.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===t.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),0===this.pos&&t.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null,this.privateNameStack=[]}var h={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},inNonArrowFunction:{configurable:!0}},e=(S.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)},h.inFunction.get=function(){return 0<(2&this.currentVarScope().flags)},h.inGenerator.get=function(){return 0<(8&this.currentVarScope().flags)&&!this.currentVarScope().inClassFieldInit},h.inAsync.get=function(){return 0<(4&this.currentVarScope().flags)&&!this.currentVarScope().inClassFieldInit},h.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,t=t.inClassFieldInit;return 0<(64&e)||t},h.allowDirectSuper.get=function(){return 0<(128&this.currentThisScope().flags)},h.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},h.inNonArrowFunction.get=function(){var t=this.currentThisScope(),e=t.flags,t=t.inClassFieldInit;return 0<(2&e)||t},S.extend=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var i=this,n=0;n<t.length;n++)i=t[n](i);return i},S.parse=function(t,e){return new this(e,t).parse()},S.parseExpressionAt=function(t,e,i){i=new this(i,t,e);return i.nextToken(),i.parseExpression()},S.tokenizer=function(t,e){return new this(e,t)},Object.defineProperties(S.prototype,h),S.prototype),Z=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;function C(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}e.strictDirective=function(t){for(;;){g.lastIndex=t,t+=g.exec(this.input)[0].length;var e,i,n,r=Z.exec(this.input.slice(t));if(!r)return!1;if("use strict"===(r[1]||r[2]))return g.lastIndex=t+r[0].length,i=(e=g.exec(this.input)).index+e[0].length,";"===(n=this.input.charAt(i))||"}"===n||u.test(e[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(n)||"!"===n&&"="===this.input.charAt(i+1));t+=r[0].length,g.lastIndex=t,t+=g.exec(this.input)[0].length,";"===this.input[t]&&t++}},e.eat=function(t){return this.type===t&&(this.next(),!0)},e.isContextual=function(t){return this.type===m.name&&this.value===t&&!this.containsEsc},e.eatContextual=function(t){return!!this.isContextual(t)&&(this.next(),!0)},e.expectContextual=function(t){this.eatContextual(t)||this.unexpected()},e.canInsertSemicolon=function(){return this.type===m.eof||this.type===m.braceR||u.test(this.input.slice(this.lastTokEnd,this.start))},e.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},e.semicolon=function(){this.eat(m.semi)||this.insertSemicolon()||this.unexpected()},e.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0},e.expect=function(t){this.eat(t)||this.unexpected()},e.unexpected=function(t){this.raise(null!=t?t:this.start,"Unexpected token")},e.checkPatternErrors=function(t,e){t&&(-1<t.trailingComma&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element"),-1<(e=e?t.parenthesizedAssign:t.parenthesizedBind))&&this.raiseRecoverable(e,"Parenthesized pattern")},e.checkExpressionErrors=function(t,e){var i;return!!t&&(i=t.shorthandAssign,t=t.doubleProto,e?(0<=i&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),void(0<=t&&this.raiseRecoverable(t,"Redefinition of __proto__ property"))):0<=i||0<=t)},e.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},e.isSimpleAssignTarget=function(t){return"ParenthesizedExpression"===t.type?this.isSimpleAssignTarget(t.expression):"Identifier"===t.type||"MemberExpression"===t.type};var h=S.prototype,X=(h.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==m.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var n=0,r=Object.keys(this.undefinedExports);n<r.length;n+=1){var s=r[n];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")},{kind:"loop"}),Y={kind:"switch"},Q=(h.isLet=function(t){if(!(this.options.ecmaVersion<6)&&this.isContextual("let")){g.lastIndex=this.pos;var e=g.exec(this.input),e=this.pos+e[0].length,i=this.input.charCodeAt(e);if(91===i)return!0;if(!t){if(123===i)return!0;if(a(i,!0)){for(var n=e+1;o(this.input.charCodeAt(n),!0);)++n;t=this.input.slice(e,n);if(!B.test(t))return!0}}}return!1},h.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;g.lastIndex=this.pos;var t=g.exec(this.input),t=this.pos+t[0].length;return!(u.test(this.input.slice(this.pos,t))||"function"!==this.input.slice(t,t+8)||t+8!==this.input.length&&o(this.input.charAt(t+8)))},h.parseStatement=function(t,e,i){var n,r,s=this.type,a=this.startNode();switch(this.isLet(t)&&(s=m._var,n="let"),s){case m._break:case m._continue:return this.parseBreakContinueStatement(a,s.keyword);case m._debugger:return this.parseDebuggerStatement(a);case m._do:return this.parseDoStatement(a);case m._for:return this.parseForStatement(a);case m._function:return t&&(this.strict||"if"!==t&&"label"!==t)&&6<=this.options.ecmaVersion&&this.unexpected(),this.parseFunctionStatement(a,!1,!t);case m._class:return t&&this.unexpected(),this.parseClass(a,!0);case m._if:return this.parseIfStatement(a);case m._return:return this.parseReturnStatement(a);case m._switch:return this.parseSwitchStatement(a);case m._throw:return this.parseThrowStatement(a);case m._try:return this.parseTryStatement(a);case m._const:case m._var:return n=n||this.value,t&&"var"!==n&&this.unexpected(),this.parseVarStatement(a,n);case m._while:return this.parseWhileStatement(a);case m._with:return this.parseWithStatement(a);case m.braceL:return this.parseBlock(!0,a);case m.semi:return this.parseEmptyStatement(a);case m._export:case m._import:if(10<this.options.ecmaVersion&&s===m._import){g.lastIndex=this.pos;var o=g.exec(this.input),o=this.pos+o[0].length,o=this.input.charCodeAt(o);if(40===o||46===o)return this.parseExpressionStatement(a,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule)||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'"),s===m._import?this.parseImport(a):this.parseExport(a,i);default:return this.isAsyncFunction()?(t&&this.unexpected(),this.next(),this.parseFunctionStatement(a,!0,!t)):(o=this.value,r=this.parseExpression(),s===m.name&&"Identifier"===r.type&&this.eat(m.colon)?this.parseLabeledStatement(a,o,r,t):this.parseExpressionStatement(a,r))}},h.parseBreakContinueStatement=function(t,e){for(var i="break"===e,n=(this.next(),this.eat(m.semi)||this.insertSemicolon()?t.label=null:this.type!==m.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon()),0);n<this.labels.length;++n){var r=this.labels[n];if(null==t.label||r.name===t.label.name){if(null!=r.kind&&(i||"loop"===r.kind))break;if(t.label&&i)break}}return n===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")},h.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")},h.parseDoStatement=function(t){return this.next(),this.labels.push(X),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(m._while),t.test=this.parseParenExpression(),6<=this.options.ecmaVersion?this.eat(m.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")},h.parseForStatement=function(t){this.next();var e,i,n=9<=this.options.ecmaVersion&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;return this.labels.push(X),this.enterScope(0),this.expect(m.parenL),this.type===m.semi?(-1<n&&this.unexpected(n),this.parseFor(t,null)):(e=this.isLet(),this.type===m._var||this.type===m._const||e?(i=this.startNode(),e=e?"let":this.value,this.next(),this.parseVar(i,!0,e),this.finishNode(i,"VariableDeclaration"),(this.type===m._in||6<=this.options.ecmaVersion&&this.isContextual("of"))&&1===i.declarations.length?(9<=this.options.ecmaVersion&&(this.type===m._in?-1<n&&this.unexpected(n):t.await=-1<n),this.parseForIn(t,i)):(-1<n&&this.unexpected(n),this.parseFor(t,i))):(e=new C,i=this.parseExpression(!(-1<n)||"await",e),this.type===m._in||6<=this.options.ecmaVersion&&this.isContextual("of")?(9<=this.options.ecmaVersion&&(this.type===m._in?-1<n&&this.unexpected(n):t.await=-1<n),this.toAssignable(i,!1,e),this.checkLValPattern(i),this.parseForIn(t,i)):(this.checkExpressionErrors(e,!0),-1<n&&this.unexpected(n),this.parseFor(t,i))))},h.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,k|(i?0:$),!1,e)},h.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(m._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")},h.parseReturnStatement=function(t){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(m.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")},h.parseSwitchStatement=function(t){var e;this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(m.braceL),this.labels.push(Y),this.enterScope(0);for(var i,n=!1;this.type!==m.braceR;)this.type===m._case||this.type===m._default?(i=this.type===m._case,e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),i?e.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,e.test=null),this.expect(m.colon)):(e||this.unexpected(),e.consequent.push(this.parseStatement(null)));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")},h.parseThrowStatement=function(t){return this.next(),u.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")},[]),k=(h.parseTryStatement=function(t){var e,i;return this.next(),t.block=this.parseBlock(),t.handler=null,this.type===m._catch&&(e=this.startNode(),this.next(),this.eat(m.parenL)?(e.param=this.parseBindingAtom(),i="Identifier"===e.param.type,this.enterScope(i?32:0),this.checkLValPattern(e.param,i?4:2),this.expect(m.parenR)):(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")),t.finalizer=this.eat(m._finally)?this.parseBlock():null,t.handler||t.finalizer||this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")},h.parseVarStatement=function(t,e){return this.next(),this.parseVar(t,!1,e),this.semicolon(),this.finishNode(t,"VariableDeclaration")},h.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(X),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")},h.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")},h.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")},h.parseLabeledStatement=function(t,e,i,n){for(var r=0,s=this.labels;r<s.length;r+=1)s[r].name===e&&this.raise(i.start,"Label '"+e+"' is already declared");for(var a=this.type.isLoop?"loop":this.type===m._switch?"switch":null,o=this.labels.length-1;0<=o;o--){var h=this.labels[o];if(h.statementStart!==t.start)break;h.statementStart=this.start,h.kind=a}return this.labels.push({name:e,kind:a,statementStart:this.start}),t.body=this.parseStatement(n?-1===n.indexOf("label")?n+"label":n:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")},h.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")},h.parseBlock=function(t,e,i){for(void 0===t&&(t=!0),(e=void 0===e?this.startNode():e).body=[],this.expect(m.braceL),t&&this.enterScope(0);this.type!==m.braceR;){var n=this.parseStatement(null);e.body.push(n)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")},h.parseFor=function(t,e){return t.init=e,this.expect(m.semi),t.test=this.type===m.semi?null:this.parseExpression(),this.expect(m.semi),t.update=this.type===m.parenR?null:this.parseExpression(),this.expect(m.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")},h.parseForIn=function(t,e){var i=this.type===m._in;return this.next(),"VariableDeclaration"===e.type&&null!=e.declarations[0].init&&(!i||this.options.ecmaVersion<8||this.strict||"var"!==e.kind||"Identifier"!==e.declarations[0].id.type)&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(m.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")},h.parseVar=function(t,e,i){for(t.declarations=[],t.kind=i;;){var n=this.startNode();if(this.parseVarId(n,i),this.eat(m.eq)?n.init=this.parseMaybeAssign(e):"const"!==i||this.type===m._in||6<=this.options.ecmaVersion&&this.isContextual("of")?"Identifier"===n.id.type||e&&(this.type===m._in||this.isContextual("of"))?n.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),t.declarations.push(this.finishNode(n,"VariableDeclarator")),!this.eat(m.comma))break}return t},h.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,"var"===e?1:2,!1)},1),$=2;function E(t,e){var i=t.computed,t=t.key;return!i&&("Identifier"===t.type&&t.name===e||"Literal"===t.type&&t.value===e)}h.parseFunction=function(t,e,i,n){this.initFunction(t),(9<=this.options.ecmaVersion||6<=this.options.ecmaVersion&&!n)&&(this.type===m.star&&e&$&&this.unexpected(),t.generator=this.eat(m.star)),8<=this.options.ecmaVersion&&(t.async=!!n),e&k&&(t.id=4&e&&this.type!==m.name?null:this.parseIdent(),!t.id||e&$||this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?1:2:3));var n=this.yieldPos,r=this.awaitPos,s=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(K(t.async,t.generator)),e&k||(t.id=this.type===m.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1),this.yieldPos=n,this.awaitPos=r,this.awaitIdentPos=s,this.finishNode(t,e&k?"FunctionDeclaration":"FunctionExpression")},h.parseFunctionParams=function(t){this.expect(m.parenL),t.params=this.parseBindingList(m.parenR,!1,8<=this.options.ecmaVersion),this.checkYieldAwaitInDefaultParams()},h.parseClass=function(t,e){this.next();var i=this.strict,n=(this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t),this.enterClassBody()),r=this.startNode(),s=!1;for(r.body=[],this.expect(m.braceL);this.type!==m.braceR;){var a=this.parseClassElement(null!==t.superClass);a&&(r.body.push(a),"MethodDefinition"===a.type&&"constructor"===a.kind?(s&&this.raise(a.start,"Duplicate constructor in the same class"),s=!0):"PrivateIdentifier"===a.key.type&&function(t,e){var i=e.key.name,n=t[i],r="true";"MethodDefinition"!==e.type||"get"!==e.kind&&"set"!==e.kind||(r=(e.static?"s":"i")+e.kind);if("iget"===n&&"iset"===r||"iset"===n&&"iget"===r||"sget"===n&&"sset"===r||"sset"===n&&"sget"===r)t[i]="true";else{if(n)return 1;t[i]=r}}(n,a)&&this.raiseRecoverable(a.key.start,"Identifier '#"+a.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(r,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")},h.parseClassElement=function(t){var e,i,n,r,s,a,o;return this.eat(m.semi)?null:(e=this.options.ecmaVersion,o="",r=n=!1,(i=this.startNode()).static=!(s="method"),this.eatContextual("static")&&(this.isClassElementNameStart()||this.type===m.star?i.static=!0:o="static"),!o&&8<=e&&this.eatContextual("async")&&(!this.isClassElementNameStart()&&this.type!==m.star||this.canInsertSemicolon()?o="async":r=!0),!o&&(9<=e||!r)&&this.eat(m.star)&&(n=!0),o||r||n||(a=this.value,(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?s=a:o=a)),o?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=o,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===m.parenL||"method"!==s||n||r?(o=(a=!i.static&&E(i,"constructor"))&&t,a&&"method"!==s&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=a?"constructor":s,this.parseClassMethod(i,n,r,o)):this.parseClassField(i),i)},h.isClassElementNameStart=function(){return this.type===m.name||this.type===m.privateId||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword},h.parseClassElementName=function(t){this.type===m.privateId?("constructor"===this.value&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)},h.parseClassMethod=function(t,e,i,n){var r=t.key,r=("constructor"===t.kind?(e&&this.raise(r.start,"Constructor can't be a generator"),i&&this.raise(r.start,"Constructor can't be an async method")):t.static&&E(t,"prototype")&&this.raise(r.start,"Classes may not have a static property named prototype"),t.value=this.parseMethod(e,i,n));return"get"===t.kind&&0!==r.params.length&&this.raiseRecoverable(r.start,"getter should have no params"),"set"===t.kind&&1!==r.params.length&&this.raiseRecoverable(r.start,"setter should have exactly one param"),"set"===t.kind&&"RestElement"===r.params[0].type&&this.raiseRecoverable(r.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")},h.parseClassField=function(t){var e,i;return E(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&E(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(m.eq)?(i=(e=this.currentThisScope()).inClassFieldInit,e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i):t.value=null,this.semicolon(),this.finishNode(t,"PropertyDefinition")},h.parseClassId=function(t,e){this.type===m.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,2,!1)):(!0===e&&this.unexpected(),t.id=null)},h.parseClassSuper=function(t){t.superClass=this.eat(m._extends)?this.parseExprSubscripts():null},h.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared},h.exitClassBody=function(){for(var t=this.privateNameStack.pop(),e=t.declared,i=t.used,t=this.privateNameStack.length,n=0===t?null:this.privateNameStack[t-1],r=0;r<i.length;++r){var s=i[r];_(e,s.name)||(n?n.used.push(s):this.raiseRecoverable(s.start,"Private field '#"+s.name+"' must be declared in an enclosing class"))}},h.parseExport=function(t,e){if(this.next(),this.eat(m.star))return 11<=this.options.ecmaVersion&&(this.eatContextual("as")?(t.exported=this.parseIdent(!0),this.checkExport(e,t.exported.name,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==m.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration");var i,n;if(this.eat(m._default))return this.checkExport(e,"default",this.lastTokStart),this.type===m._function||(i=this.isAsyncFunction())?(n=this.startNode(),this.next(),i&&this.next(),t.declaration=this.parseFunction(n,4|k,!1,i)):this.type===m._class?(n=this.startNode(),t.declaration=this.parseClass(n,"nullableID")):(t.declaration=this.parseMaybeAssign(),this.semicolon()),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseStatement(null),"VariableDeclaration"===t.declaration.type?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id.name,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==m.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var r=0,s=t.specifiers;r<s.length;r+=1){var a=s[r];this.checkUnreserved(a.local),this.checkLocalExport(a.local)}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")},h.checkExport=function(t,e,i){t&&(_(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)},h.checkPatternExport=function(t,e){var i=e.type;if("Identifier"===i)this.checkExport(t,e.name,e.start);else if("ObjectPattern"===i)for(var n=0,r=e.properties;n<r.length;n+=1){var s=r[n];this.checkPatternExport(t,s)}else if("ArrayPattern"===i)for(var a=0,o=e.elements;a<o.length;a+=1){var h=o[a];h&&this.checkPatternExport(t,h)}else"Property"===i?this.checkPatternExport(t,e.value):"AssignmentPattern"===i?this.checkPatternExport(t,e.left):"RestElement"===i?this.checkPatternExport(t,e.argument):"ParenthesizedExpression"===i&&this.checkPatternExport(t,e.expression)},h.checkVariableExport=function(t,e){if(t)for(var i=0,n=e;i<n.length;i+=1){var r=n[i];this.checkPatternExport(t,r.id)}},h.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},h.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(m.braceL);!this.eat(m.braceR);){if(i)i=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;var n=this.startNode();n.local=this.parseIdent(!0),n.exported=this.eatContextual("as")?this.parseIdent(!0):n.local,this.checkExport(t,n.exported.name,n.exported.start),e.push(this.finishNode(n,"ExportSpecifier"))}return e},h.parseImport=function(t){return this.next(),this.type===m.string?(t.specifiers=Q,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===m.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")},h.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===m.name){var i=this.startNode();if(i.local=this.parseIdent(),this.checkLValSimple(i.local,2),t.push(this.finishNode(i,"ImportDefaultSpecifier")),!this.eat(m.comma))return t}if(this.type===m.star)i=this.startNode(),this.next(),this.expectContextual("as"),i.local=this.parseIdent(),this.checkLValSimple(i.local,2),t.push(this.finishNode(i,"ImportNamespaceSpecifier"));else for(this.expect(m.braceL);!this.eat(m.braceR);){if(e)e=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;var n=this.startNode();n.imported=this.parseIdent(!0),this.eatContextual("as")?n.local=this.parseIdent():(this.checkUnreserved(n.imported),n.local=n.imported),this.checkLValSimple(n.local,2),t.push(this.finishNode(n,"ImportSpecifier"))}return t},h.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)},h.isDirectiveCandidate=function(t){return"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"string"==typeof t.expression.value&&('"'===this.input[t.start]||"'"===this.input[t.start])};e=S.prototype,e.toAssignable=function(t,e,i){if(6<=this.options.ecmaVersion&&t)switch(t.type){case"Identifier":this.inAsync&&"await"===t.name&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var n=0,r=t.properties;n<r.length;n+=1){var s=r[n];this.toAssignable(s,e),"RestElement"!==s.type||"ArrayPattern"!==s.argument.type&&"ObjectPattern"!==s.argument.type||this.raise(s.argument.start,"Unexpected token")}break;case"Property":"init"!==t.kind&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),"AssignmentPattern"===t.argument.type&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==t.operator&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t},e.toAssignableList=function(t,e){for(var i,n=t.length,r=0;r<n;r++){var s=t[r];s&&this.toAssignable(s,e)}return n&&(i=t[n-1],6===this.options.ecmaVersion)&&e&&i&&"RestElement"===i.type&&"Identifier"!==i.argument.type&&this.unexpected(i.argument.start),t},e.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")},e.parseRestBinding=function(){var t=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==m.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")},e.parseBindingAtom=function(){if(6<=this.options.ecmaVersion)switch(this.type){case m.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(m.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case m.braceL:return this.parseObj(!0)}return this.parseIdent()},e.parseBindingList=function(t,e,i){for(var n=[],r=!0;!this.eat(t);)if(r?r=!1:this.expect(m.comma),e&&this.type===m.comma)n.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===m.ellipsis){var s=this.parseRestBinding();this.parseBindingListItem(s),n.push(s),this.type===m.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}s=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(s),n.push(s)}return n},e.parseBindingListItem=function(t){return t},e.parseMaybeDefault=function(t,e,i){return i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(m.eq)?i:((t=this.startNodeAt(t,e)).left=i,t.right=this.parseMaybeAssign(),this.finishNode(t,"AssignmentPattern"))},e.checkLValSimple=function(t,e,i){var n=0!==(e=void 0===e?0:e);switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(n?"Binding ":"Assigning to ")+t.name+" in strict mode"),n&&(2===e&&"let"===t.name&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(_(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),5!==e)&&this.declareName(t.name,e,t.start);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":n&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return n&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(n?"Binding":"Assigning to")+" rvalue")}},e.checkLValPattern=function(t,e,i){switch(void 0===e&&(e=0),t.type){case"ObjectPattern":for(var n=0,r=t.properties;n<r.length;n+=1){var s=r[n];this.checkLValInnerPattern(s,e,i)}break;case"ArrayPattern":for(var a=0,o=t.elements;a<o.length;a+=1){var h=o[a];h&&this.checkLValInnerPattern(h,e,i)}break;default:this.checkLValSimple(t,e,i)}},e.checkLValInnerPattern=function(t,e,i){switch(void 0===e&&(e=0),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}},h=S.prototype;h.checkPropClash=function(t,e,i){if(!(9<=this.options.ecmaVersion&&"SpreadElement"===t.type||6<=this.options.ecmaVersion&&(t.computed||t.method||t.shorthand))){var n=t.key;switch(n.type){case"Identifier":r=n.name;break;case"Literal":r=String(n.value);break;default:return}var r,t=t.kind;6<=this.options.ecmaVersion?"__proto__"===r&&"init"===t&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=n.start):this.raiseRecoverable(n.start,"Redefinition of __proto__ property")),e.proto=!0):((i=e[r="$"+r])?("init"===t?this.strict&&i.init||i.get||i.set:i.init||i[t])&&this.raiseRecoverable(n.start,"Redefinition of property"):i=e[r]={init:!1,get:!1,set:!1},i[t]=!0)}},h.parseExpression=function(t,e){var i=this.start,n=this.startLoc,r=this.parseMaybeAssign(t,e);if(this.type!==m.comma)return r;var s=this.startNodeAt(i,n);for(s.expressions=[r];this.eat(m.comma);)s.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(s,"SequenceExpression")},h.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var n=!1,r=-1,s=-1,a=(e?(r=e.parenthesizedAssign,s=e.trailingComma,e.parenthesizedAssign=e.trailingComma=-1):(e=new C,n=!0),this.start),o=this.startLoc,h=(this.type!==m.parenL&&this.type!==m.name||(this.potentialArrowAt=this.start,this.potentialArrowInForAwait="await"===t),this.parseMaybeConditional(t,e));return i&&(h=i.call(this,h,a,o)),this.type.isAssign?((i=this.startNodeAt(a,o)).operator=this.value,this.type===m.eq&&(h=this.toAssignable(h,!1,e)),n||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=h.start&&(e.shorthandAssign=-1),this.type===m.eq?this.checkLValPattern(h):this.checkLValSimple(h),i.left=h,this.next(),i.right=this.parseMaybeAssign(t),this.finishNode(i,"AssignmentExpression")):(n&&this.checkExpressionErrors(e,!0),-1<r&&(e.parenthesizedAssign=r),-1<s&&(e.trailingComma=s),h)},h.parseMaybeConditional=function(t,e){var i=this.start,n=this.startLoc,r=this.parseExprOps(t,e);return!this.checkExpressionErrors(e)&&this.eat(m.question)?((e=this.startNodeAt(i,n)).test=r,e.consequent=this.parseMaybeAssign(),this.expect(m.colon),e.alternate=this.parseMaybeAssign(t),this.finishNode(e,"ConditionalExpression")):r},h.parseExprOps=function(t,e){var i=this.start,n=this.startLoc,r=this.parseMaybeUnary(e,!1);return this.checkExpressionErrors(e)||r.start===i&&"ArrowFunctionExpression"===r.type?r:this.parseExprOp(r,i,n,-1,t)},h.parseExprOp=function(t,e,i,n,r){var s,a,o,h,l,c=this.type.binop;if(null!=c&&(!r||this.type!==m._in)&&n<c)return s=this.type===m.logicalOR||this.type===m.logicalAND,(a=this.type===m.coalesce)&&(c=m.logicalAND.binop),o=this.value,this.next(),h=this.start,l=this.startLoc,h=this.parseExprOp(this.parseMaybeUnary(null,!1),h,l,c,r),l=this.buildBinary(e,i,t,h,o,s||a),(s&&this.type===m.coalesce||a&&(this.type===m.logicalOR||this.type===m.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(l,e,i,n,r);return t},h.buildBinary=function(t,e,i,n,r,s){t=this.startNodeAt(t,e);return t.left=i,t.operator=r,t.right=n,this.finishNode(t,s?"LogicalExpression":"BinaryExpression")},h.parseMaybeUnary=function(t,e,i){var n,r=this.start,s=this.startLoc;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))n=this.parseAwait(),e=!0;else if(this.type.prefix){var a=this.startNode(),o=this.type===m.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,o),this.checkExpressionErrors(t,!0),o?this.checkLValSimple(a.argument):this.strict&&"delete"===a.operator&&"Identifier"===a.argument.type?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):"delete"===a.operator&&function t(e){return"MemberExpression"===e.type&&"PrivateIdentifier"===e.property.type||"ChainExpression"===e.type&&t(e.expression)}(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):e=!0,n=this.finishNode(a,o?"UpdateExpression":"UnaryExpression")}else{if(n=this.parseExprSubscripts(t),this.checkExpressionErrors(t))return n;for(;this.type.postfix&&!this.canInsertSemicolon();){var h=this.startNodeAt(r,s);h.operator=this.value,h.prefix=!1,h.argument=n,this.checkLValSimple(n),this.next(),n=this.finishNode(h,"UpdateExpression")}}return i||!this.eat(m.starstar)?n:e?void this.unexpected(this.lastTokStart):this.buildBinary(r,s,n,this.parseMaybeUnary(null,!1),"**",!1)},h.parseExprSubscripts=function(t){var e=this.start,i=this.startLoc,n=this.parseExprAtom(t);return"ArrowFunctionExpression"===n.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd)||(n=this.parseSubscripts(n,e,i),t&&"MemberExpression"===n.type&&(t.parenthesizedAssign>=n.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=n.start&&(t.parenthesizedBind=-1),t.trailingComma>=n.start)&&(t.trailingComma=-1)),n},h.parseSubscripts=function(t,e,i,n){for(var r=8<=this.options.ecmaVersion&&"Identifier"===t.type&&"async"===t.name&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start==5&&this.potentialArrowAt===t.start,s=!1;;){var a,o=this.parseSubscript(t,e,i,n,r,s);if(o.optional&&(s=!0),o===t||"ArrowFunctionExpression"===o.type)return s&&((a=this.startNodeAt(e,i)).expression=o,o=this.finishNode(a,"ChainExpression")),o;t=o}},h.parseSubscript=function(t,e,i,n,r,s){var a=11<=this.options.ecmaVersion,o=a&&this.eat(m.questionDot),h=(n&&o&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions"),this.eat(m.bracketL));if(h||o&&this.type!==m.parenL&&this.type!==m.backQuote||this.eat(m.dot)){var l=this.startNodeAt(e,i);l.object=t,h?(l.property=this.parseExpression(),this.expect(m.bracketR)):this.type===m.privateId&&"Super"!==t.type?l.property=this.parsePrivateIdent():l.property=this.parseIdent("never"!==this.options.allowReserved),l.computed=!!h,a&&(l.optional=o),t=this.finishNode(l,"MemberExpression")}else if(!n&&this.eat(m.parenL)){var h=new C,l=this.yieldPos,n=this.awaitPos,c=this.awaitIdentPos,u=(this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.parseExprList(m.parenR,8<=this.options.ecmaVersion,!1,h));if(r&&!o&&!this.canInsertSemicolon()&&this.eat(m.arrow))return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),0<this.awaitIdentPos&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=l,this.awaitPos=n,this.awaitIdentPos=c,this.parseArrowExpression(this.startNodeAt(e,i),u,!0);this.checkExpressionErrors(h,!0),this.yieldPos=l||this.yieldPos,this.awaitPos=n||this.awaitPos,this.awaitIdentPos=c||this.awaitIdentPos;r=this.startNodeAt(e,i);r.callee=t,r.arguments=u,a&&(r.optional=o),t=this.finishNode(r,"CallExpression")}else this.type===m.backQuote&&((o||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions"),(h=this.startNodeAt(e,i)).tag=t,h.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(h,"TaggedTemplateExpression"));return t},h.parseExprAtom=function(t){this.type===m.slash&&this.readRegexp();var e=this.potentialArrowAt===this.start;switch(this.type){case m._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),a=this.startNode(),this.next(),this.type!==m.parenL||this.allowDirectSuper||this.raise(a.start,"super() call outside constructor of a subclass"),this.type!==m.dot&&this.type!==m.bracketL&&this.type!==m.parenL&&this.unexpected(),this.finishNode(a,"Super");case m._this:return a=this.startNode(),this.next(),this.finishNode(a,"ThisExpression");case m.name:var i=this.start,n=this.startLoc,r=this.containsEsc,s=this.parseIdent(!1);if(8<=this.options.ecmaVersion&&!r&&"async"===s.name&&!this.canInsertSemicolon()&&this.eat(m._function))return this.parseFunction(this.startNodeAt(i,n),0,!1,!0);if(e&&!this.canInsertSemicolon()){if(this.eat(m.arrow))return this.parseArrowExpression(this.startNodeAt(i,n),[s],!1);if(8<=this.options.ecmaVersion&&"async"===s.name&&this.type===m.name&&!r&&(!this.potentialArrowInForAwait||"of"!==this.value||this.containsEsc))return s=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(m.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(i,n),[s],!0)}return s;case m.regexp:var a,r=this.value;return(a=this.parseLiteral(r.value)).regex={pattern:r.pattern,flags:r.flags},a;case m.num:case m.string:return this.parseLiteral(this.value);case m._null:case m._true:case m._false:return(a=this.startNode()).value=this.type===m._null?null:this.type===m._true,a.raw=this.type.keyword,this.next(),this.finishNode(a,"Literal");case m.parenL:i=this.start,n=this.parseParenAndDistinguishExpression(e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(n)&&(t.parenthesizedAssign=i),t.parenthesizedBind<0)&&(t.parenthesizedBind=i),n;case m.bracketL:return a=this.startNode(),this.next(),a.elements=this.parseExprList(m.bracketR,!0,!0,t),this.finishNode(a,"ArrayExpression");case m.braceL:return this.parseObj(!1,t);case m._function:return a=this.startNode(),this.next(),this.parseFunction(a,0);case m._class:return this.parseClass(this.startNode(),!1);case m._new:return this.parseNew();case m.backQuote:return this.parseTemplate();case m._import:return 11<=this.options.ecmaVersion?this.parseExprImport():this.unexpected();default:this.unexpected()}},h.parseExprImport=function(){var t=this.startNode(),e=(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.parseIdent(!0));switch(this.type){case m.parenL:return this.parseDynamicImport(t);case m.dot:return t.meta=e,this.parseImportMeta(t);default:this.unexpected()}},h.parseDynamicImport=function(t){var e;return this.next(),t.source=this.parseMaybeAssign(),this.eat(m.parenR)||(e=this.start,this.eat(m.comma)&&this.eat(m.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)),this.finishNode(t,"ImportExpression")},h.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),"meta"!==t.property.name&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),"module"===this.options.sourceType||this.options.allowImportExportEverywhere||this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")},h.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),110===e.raw.charCodeAt(e.raw.length-1)&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")},h.parseParenExpression=function(){this.expect(m.parenL);var t=this.parseExpression();return this.expect(m.parenR),t},h.parseParenAndDistinguishExpression=function(t){var e,i=this.start,n=this.startLoc,r=8<=this.options.ecmaVersion;if(6<=this.options.ecmaVersion){this.next();var s,a=this.start,o=this.startLoc,h=[],l=!0,c=!1,u=new C,p=this.yieldPos,d=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==m.parenR;){if(l?l=!1:this.expect(m.comma),r&&this.afterTrailingComma(m.parenR,!0)){c=!0;break}if(this.type===m.ellipsis){s=this.start,h.push(this.parseParenItem(this.parseRestBinding())),this.type===m.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}h.push(this.parseMaybeAssign(!1,u,this.parseParenItem))}var f=this.start,g=this.startLoc;if(this.expect(m.parenR),t&&!this.canInsertSemicolon()&&this.eat(m.arrow))return this.checkPatternErrors(u,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=p,this.awaitPos=d,this.parseParenArrowList(i,n,h);h.length&&!c||this.unexpected(this.lastTokStart),s&&this.unexpected(s),this.checkExpressionErrors(u,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=d||this.awaitPos,1<h.length?((e=this.startNodeAt(a,o)).expressions=h,this.finishNodeAt(e,"SequenceExpression",f,g)):e=h[0]}else e=this.parseParenExpression();return this.options.preserveParens?((t=this.startNodeAt(i,n)).expression=e,this.finishNode(t,"ParenthesizedExpression")):e},h.parseParenItem=function(t){return t},h.parseParenArrowList=function(t,e,i){return this.parseArrowExpression(this.startNodeAt(t,e),i)};function J(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1}function A(t,e,i){this.type="",this.start=e,this.end=0,t.options.locations&&(this.loc=new b(t,i)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[e,0])}var tt=[],e=(h.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t,e,i=this.startNode(),n=this.parseIdent(!0);return 6<=this.options.ecmaVersion&&this.eat(m.dot)?(i.meta=n,n=this.containsEsc,i.property=this.parseIdent(!0),"target"!==i.property.name&&this.raiseRecoverable(i.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(i.start,"'new.target' must not contain escaped characters"),this.inNonArrowFunction||this.raiseRecoverable(i.start,"'new.target' can only be used in functions"),this.finishNode(i,"MetaProperty")):(n=this.start,t=this.startLoc,e=this.type===m._import,i.callee=this.parseSubscripts(this.parseExprAtom(),n,t,!0),e&&"ImportExpression"===i.callee.type&&this.raise(n,"Cannot use new with import()"),this.eat(m.parenL)?i.arguments=this.parseExprList(m.parenR,8<=this.options.ecmaVersion,!1):i.arguments=tt,this.finishNode(i,"NewExpression"))},h.parseTemplateElement=function(t){var t=t.isTagged,e=this.startNode();return this.type===m.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),e.value={raw:this.value,cooked:null}):e.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),e.tail=this.type===m.backQuote,this.finishNode(e,"TemplateElement")},h.parseTemplate=function(t){var e=(t=void 0===t?{}:t).isTagged,i=(void 0===e&&(e=!1),this.startNode()),n=(this.next(),i.expressions=[],this.parseTemplateElement({isTagged:e}));for(i.quasis=[n];!n.tail;)this.type===m.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(m.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(m.braceR),i.quasis.push(n=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")},h.isAsyncProp=function(t){return!t.computed&&"Identifier"===t.key.type&&"async"===t.key.name&&(this.type===m.name||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword||9<=this.options.ecmaVersion&&this.type===m.star)&&!u.test(this.input.slice(this.lastTokEnd,this.start))},h.parseObj=function(t,e){var i=this.startNode(),n=!0,r={};for(i.properties=[],this.next();!this.eat(m.braceR);){if(n)n=!1;else if(this.expect(m.comma),5<=this.options.ecmaVersion&&this.afterTrailingComma(m.braceR))break;var s=this.parseProperty(t,e);t||this.checkPropClash(s,r,e),i.properties.push(s)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")},h.parseProperty=function(t,e){var i,n,r,s,a=this.startNode();if(9<=this.options.ecmaVersion&&this.eat(m.ellipsis))return t?(a.argument=this.parseIdent(!1),this.type===m.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(a,"RestElement")):(this.type===m.parenL&&e&&(e.parenthesizedAssign<0&&(e.parenthesizedAssign=this.start),e.parenthesizedBind<0)&&(e.parenthesizedBind=this.start),a.argument=this.parseMaybeAssign(!1,e),this.type===m.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(a,"SpreadElement"));6<=this.options.ecmaVersion&&(a.method=!1,a.shorthand=!1,(t||e)&&(r=this.start,s=this.startLoc),t||(i=this.eat(m.star)));var o=this.containsEsc;return this.parsePropertyName(a),!t&&!o&&8<=this.options.ecmaVersion&&!i&&this.isAsyncProp(a)?(n=!0,i=9<=this.options.ecmaVersion&&this.eat(m.star),this.parsePropertyName(a,e)):n=!1,this.parsePropertyValue(a,t,i,n,r,s,e,o),this.finishNode(a,"Property")},h.parsePropertyValue=function(t,e,i,n,r,s,a,o){(i||n)&&this.type===m.colon&&this.unexpected(),this.eat(m.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),t.kind="init"):6<=this.options.ecmaVersion&&this.type===m.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,n)):e||o||!(5<=this.options.ecmaVersion)||t.computed||"Identifier"!==t.key.type||"get"!==t.key.name&&"set"!==t.key.name||this.type===m.comma||this.type===m.braceR||this.type===m.eq?6<=this.options.ecmaVersion&&!t.computed&&"Identifier"===t.key.type?((i||n)&&this.unexpected(),this.checkUnreserved(t.key),"await"!==t.key.name||this.awaitIdentPos||(this.awaitIdentPos=r),t.kind="init",e?t.value=this.parseMaybeDefault(r,s,this.copyNode(t.key)):this.type===m.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),t.value=this.parseMaybeDefault(r,s,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected():((i||n)&&this.unexpected(),t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1),o="get"===t.kind?0:1,t.value.params.length!==o?(e=t.value.start,"get"===t.kind?this.raiseRecoverable(e,"getter should have no params"):this.raiseRecoverable(e,"setter should have exactly one param")):"set"===t.kind&&"RestElement"===t.value.params[0].type&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params"))},h.parsePropertyName=function(t){if(6<=this.options.ecmaVersion){if(this.eat(m.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(m.bracketR),t.key;t.computed=!1}return t.key=this.type===m.num||this.type===m.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},h.initFunction=function(t){t.id=null,6<=this.options.ecmaVersion&&(t.generator=t.expression=!1),8<=this.options.ecmaVersion&&(t.async=!1)},h.parseMethod=function(t,e,i){var n=this.startNode(),r=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(n),6<=this.options.ecmaVersion&&(n.generator=t),8<=this.options.ecmaVersion&&(n.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|K(e,n.generator)|(i?128:0)),this.expect(m.parenL),n.params=this.parseBindingList(m.parenR,!1,8<=this.options.ecmaVersion),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1,!0),this.yieldPos=r,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(n,"FunctionExpression")},h.parseArrowExpression=function(t,e,i){var n=this.yieldPos,r=this.awaitPos,s=this.awaitIdentPos;return this.enterScope(16|K(i,!1)),this.initFunction(t),8<=this.options.ecmaVersion&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1),this.yieldPos=n,this.awaitPos=r,this.awaitIdentPos=s,this.finishNode(t,"ArrowFunctionExpression")},h.parseFunctionBody=function(t,e,i){var n=e&&this.type!==m.braceL,r=this.strict,s=!1;n?(t.body=this.parseMaybeAssign(),t.expression=!0,this.checkParams(t,!1)):(n=7<=this.options.ecmaVersion&&!this.isSimpleParamList(t.params),r&&!n||(s=this.strictDirective(this.end))&&n&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"),n=this.labels,this.labels=[],s&&(this.strict=!0),this.checkParams(t,!r&&!s&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,5),t.body=this.parseBlock(!1,void 0,s&&!r),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=n),this.exitScope()},h.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1)if("Identifier"!==i[e].type)return!1;return!0},h.checkParams=function(t,e){for(var i=Object.create(null),n=0,r=t.params;n<r.length;n+=1){var s=r[n];this.checkLValInnerPattern(s,1,e?null:i)}},h.parseExprList=function(t,e,i,n){for(var r=[],s=!0;!this.eat(t);){if(s)s=!1;else if(this.expect(m.comma),e&&this.afterTrailingComma(t))break;var a=void 0;i&&this.type===m.comma?a=null:this.type===m.ellipsis?(a=this.parseSpread(n),n&&this.type===m.comma&&n.trailingComma<0&&(n.trailingComma=this.start)):a=this.parseMaybeAssign(!1,n),r.push(a)}return r},h.checkUnreserved=function(t){var e=t.start,i=t.end,t=t.name;this.inGenerator&&"yield"===t&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===t&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&"arguments"===t&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.keywords.test(t)&&this.raise(e,"Unexpected keyword '"+t+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(e,i).indexOf("\\")||(this.strict?this.reservedWordsStrict:this.reservedWords).test(t)&&(this.inAsync||"await"!==t||this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+t+"' is reserved"))},h.parseIdent=function(t,e){var i=this.startNode();return this.type===m.name?i.name=this.value:this.type.keyword?(i.name=this.type.keyword,"class"!==i.name&&"function"!==i.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(!!t),this.finishNode(i,"Identifier"),t||(this.checkUnreserved(i),"await"!==i.name)||this.awaitIdentPos||(this.awaitIdentPos=i.start),i},h.parsePrivateIdent=function(){var t=this.startNode();return this.type===m.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),0===this.privateNameStack.length?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t),t},h.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===m.semi||this.canInsertSemicolon()||this.type!==m.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(m.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")},h.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0),this.finishNode(t,"AwaitExpression")},S.prototype),h=(e.raise=function(t,e){var i=w(this.input,t),e=(e+=" ("+i.line+":"+i.column+")",new SyntaxError(e));throw e.pos=t,e.loc=i,e.raisedAt=this.pos,e},e.raiseRecoverable=e.raise,e.curPosition=function(){if(this.options.locations)return new y(this.curLine,this.pos-this.lineStart)},S.prototype),e=(h.enterScope=function(t){this.scopeStack.push(new J(t))},h.exitScope=function(){this.scopeStack.pop()},h.treatFunctionsAsVarInScope=function(t){return 2&t.flags||!this.inModule&&1&t.flags},h.declareName=function(t,e,i){var n=!1;if(2===e){var r=this.currentScope(),n=-1<r.lexical.indexOf(t)||-1<r.functions.indexOf(t)||-1<r.var.indexOf(t);r.lexical.push(t),this.inModule&&1&r.flags&&delete this.undefinedExports[t]}else if(4===e)this.currentScope().lexical.push(t);else if(3===e){r=this.currentScope();n=this.treatFunctionsAsVar?-1<r.lexical.indexOf(t):-1<r.lexical.indexOf(t)||-1<r.var.indexOf(t),r.functions.push(t)}else for(var s=this.scopeStack.length-1;0<=s;--s){var a=this.scopeStack[s];if(-1<a.lexical.indexOf(t)&&!(32&a.flags&&a.lexical[0]===t)||!this.treatFunctionsAsVarInScope(a)&&-1<a.functions.indexOf(t)){n=!0;break}if(a.var.push(t),this.inModule&&1&a.flags&&delete this.undefinedExports[t],3&a.flags)break}n&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")},h.checkLocalExport=function(t){-1===this.scopeStack[0].lexical.indexOf(t.name)&&-1===this.scopeStack[0].var.indexOf(t.name)&&(this.undefinedExports[t.name]=t)},h.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},h.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(3&e.flags)return e}},h.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(3&e.flags&&!(16&e.flags))return e}},S.prototype);function et(t,e,i,n){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=n),this.options.ranges&&(t.range[1]=i),t}e.startNode=function(){return new A(this,this.start,this.startLoc)},e.startNodeAt=function(t,e){return new A(this,t,e)},e.finishNode=function(t,e){return et.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)},e.finishNodeAt=function(t,e,i,n){return et.call(this,t,e,i,n)};function T(t,e,i,n,r){this.token=t,this.isExpr=!!e,this.preserveSpace=!!i,this.override=n,this.generator=!!r}var I={b_stat:new T("{",!(e.copyNode=function(t){var e,i=new A(this,t.start,this.startLoc);for(e in t)i[e]=t[e];return i})),b_expr:new T("{",!0),b_tmpl:new T("${",!1),p_stat:new T("(",!1),p_expr:new T("(",!0),q_tmpl:new T("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new T("function",!1),f_expr:new T("function",!0),f_expr_gen:new T("function",!0,!1,null,!0),f_gen:new T("function",!1,!1,null,!0)},h=S.prototype,e=(h.initialContext=function(){return[I.b_stat]},h.braceIsBlock=function(t){var e=this.curContext();return e===I.f_expr||e===I.f_stat||(t!==m.colon||e!==I.b_stat&&e!==I.b_expr?t===m._return||t===m.name&&this.exprAllowed?u.test(this.input.slice(this.lastTokEnd,this.start)):t===m._else||t===m.semi||t===m.eof||t===m.parenR||t===m.arrow||(t===m.braceL?e===I.b_stat:t!==m._var&&t!==m._const&&t!==m.name&&!this.exprAllowed):!e.isExpr)},h.inGeneratorContext=function(){for(var t=this.context.length-1;1<=t;t--){var e=this.context[t];if("function"===e.token)return e.generator}return!1},h.updateContext=function(t){var e,i=this.type;i.keyword&&t===m.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr},m.parenR.updateContext=m.braceR.updateContext=function(){var t;1===this.context.length?this.exprAllowed=!0:((t=this.context.pop())===I.b_stat&&"function"===this.curContext().token&&(t=this.context.pop()),this.exprAllowed=!t.isExpr)},m.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?I.b_stat:I.b_expr),this.exprAllowed=!0},m.dollarBraceL.updateContext=function(){this.context.push(I.b_tmpl),this.exprAllowed=!0},m.parenL.updateContext=function(t){t=t===m._if||t===m._for||t===m._with||t===m._while;this.context.push(t?I.p_stat:I.p_expr),this.exprAllowed=!0},m.incDec.updateContext=function(){},m._function.updateContext=m._class.updateContext=function(t){!t.beforeExpr||t===m._else||t===m.semi&&this.curContext()!==I.p_stat||t===m._return&&u.test(this.input.slice(this.lastTokEnd,this.start))||(t===m.colon||t===m.braceL)&&this.curContext()===I.b_stat?this.context.push(I.f_stat):this.context.push(I.f_expr),this.exprAllowed=!1},m.backQuote.updateContext=function(){this.curContext()===I.q_tmpl?this.context.pop():this.context.push(I.q_tmpl),this.exprAllowed=!1},m.star.updateContext=function(t){t===m._function&&(t=this.context.length-1,this.context[t]===I.f_expr?this.context[t]=I.f_expr_gen:this.context[t]=I.f_gen),this.exprAllowed=!0},m.name.updateContext=function(t){var e=!1;6<=this.options.ecmaVersion&&t!==m.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e},"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS"),h=e+" Extended_Pictographic",it={9:e,10:h,11:h,12:"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS Extended_Pictographic EBase EComp EMod EPres ExtPict"},nt="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",e="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",h=e+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",rt=h+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",st={9:e,10:h,11:rt,12:"Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi"},at={};function P(t){t=at[t]={binary:v(it[t]+" "+nt),nonBinary:{General_Category:v(nt),Script:v(st[t])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}P(9),P(10),P(11),P(12);function L(t){this.parser=t,this.validFlags="gim"+(6<=t.options.ecmaVersion?"uy":"")+(9<=t.options.ecmaVersion?"s":""),this.unicodeProperties=at[12<=t.options.ecmaVersion?12:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]}e=S.prototype;function O(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function ot(t){return 36===t||40<=t&&t<=43||46===t||63===t||91<=t&&t<=94||123<=t&&t<=125}function ht(t){return 65<=t&&t<=90||97<=t&&t<=122}function lt(t){return ht(t)||95===t}function N(t){return 48<=t&&t<=57}function ct(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function ut(t){return 65<=t&&t<=70?t-65+10:97<=t&&t<=102?t-97+10:t-48}function pt(t){return 48<=t&&t<=55}L.prototype.reset=function(t,e,i){var n=-1!==i.indexOf("u");this.start=0|t,this.source=e+"",this.flags=i,this.switchU=n&&6<=this.parser.options.ecmaVersion,this.switchN=n&&9<=this.parser.options.ecmaVersion},L.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)},L.prototype.at=function(t,e){void 0===e&&(e=!1);var i,n=this.source,r=n.length;return r<=t?-1:(i=n.charCodeAt(t),!(!e&&!this.switchU||i<=55295||57344<=i||r<=t+1)&&56320<=(e=n.charCodeAt(t+1))&&e<=57343?(i<<10)+e-56613888:i)},L.prototype.nextIndex=function(t,e){void 0===e&&(e=!1);var i,n=this.source,r=n.length;return r<=t?r:(i=n.charCodeAt(t),!e&&!this.switchU||i<=55295||57344<=i||r<=t+1||(e=n.charCodeAt(t+1))<56320||57343<e?t+1:t+2)},L.prototype.current=function(t){return this.at(this.pos,t=void 0===t?!1:t)},L.prototype.lookahead=function(t){return this.at(this.nextIndex(this.pos,t=void 0===t?!1:t),t)},L.prototype.advance=function(t){this.pos=this.nextIndex(this.pos,t=void 0===t?!1:t)},L.prototype.eat=function(t,e){return this.current(e=void 0===e?!1:e)===t&&(this.advance(e),!0)},e.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,n=0;n<i.length;n++){var r=i.charAt(n);-1===e.indexOf(r)&&this.raise(t.start,"Invalid regular expression flag"),-1<i.indexOf(r,n+1)&&this.raise(t.start,"Duplicate regular expression flag")}},e.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&9<=this.options.ecmaVersion&&0<t.groupNames.length&&(t.switchN=!0,this.regexp_pattern(t))},e.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets"),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var n=i[e];-1===t.groupNames.indexOf(n)&&t.raise("Invalid named capture referenced")}},e.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")},e.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););},e.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):!(t.switchU?!this.regexp_eatAtom(t):!this.regexp_eatExtendedAtom(t))&&(this.regexp_eatQuantifier(t),!0)},e.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(9<=this.options.ecmaVersion&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1},e.regexp_eatQuantifier=function(t,e){return!!this.regexp_eatQuantifierPrefix(t,e=void 0===e?!1:e)&&(t.eat(63),!0)},e.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)},e.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var n,r=-1;if(this.regexp_eatDecimalDigits(t)&&(n=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue),t.eat(125)))return-1!==r&&r<n&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1},e.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)},e.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1},e.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1},e.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(9<=this.options.ecmaVersion?this.regexp_groupSpecifier(t):63===t.current()&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1},e.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)},e.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1},e.regexp_eatSyntaxCharacter=function(t){var e=t.current();return!!ot(e)&&(t.lastIntValue=e,t.advance(),!0)},e.regexp_eatPatternCharacters=function(t){for(var e,i=t.pos;-1!==(e=t.current())&&!ot(e);)t.advance();return t.pos!==i},e.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return!(-1===e||36===e||40<=e&&e<=43||46===e||63===e||91===e||94===e||124===e||(t.advance(),0))},e.regexp_groupSpecifier=function(t){t.eat(63)&&(this.regexp_eatGroupName(t)?(-1!==t.groupNames.indexOf(t.lastStringValue)&&t.raise("Duplicate capture group name"),t.groupNames.push(t.lastStringValue)):t.raise("Invalid group"))},e.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1},e.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=O(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=O(t.lastIntValue);return!0}return!1},e.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=11<=this.options.ecmaVersion,n=t.current(i);return t.advance(i),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(n=t.lastIntValue),a(i=n,!0)||36===i||95===i?(t.lastIntValue=n,!0):(t.pos=e,!1)},e.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=11<=this.options.ecmaVersion,n=t.current(i);return t.advance(i),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(n=t.lastIntValue),o(i=n,!0)||36===i||95===i||8204===i||8205===i?(t.lastIntValue=n,!0):(t.pos=e,!1)},e.regexp_eatAtomEscape=function(t){return!!(this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t))||(t.switchU&&(99===t.current()&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)},e.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1},e.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1},e.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)},e.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1},e.regexp_eatZero=function(t){return 48===t.current()&&!N(t.lookahead())&&(t.lastIntValue=0,t.advance(),!0)},e.regexp_eatControlEscape=function(t){var e=t.current();return 116===e?(t.lastIntValue=9,t.advance(),!0):110===e?(t.lastIntValue=10,t.advance(),!0):118===e?(t.lastIntValue=11,t.advance(),!0):102===e?(t.lastIntValue=12,t.advance(),!0):114===e&&(t.lastIntValue=13,t.advance(),!0)},e.regexp_eatControlLetter=function(t){var e=t.current();return!!ht(e)&&(t.lastIntValue=e%32,t.advance(),!0)},e.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){var i=t.pos,e=(e=void 0===e?!1:e)||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var n=t.lastIntValue;if(e&&55296<=n&&n<=56319){var r=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var s=t.lastIntValue;if(56320<=s&&s<=57343)return t.lastIntValue=1024*(n-55296)+(s-56320)+65536,!0}t.pos=r,t.lastIntValue=n}return!0}if(e&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&0<=(s=t.lastIntValue)&&s<=1114111)return!0;e&&t.raise("Invalid unicode escape"),t.pos=i}return!1},e.regexp_eatIdentityEscape=function(t){var e;return t.switchU?!!this.regexp_eatSyntaxCharacter(t)||!!t.eat(47)&&(t.lastIntValue=47,!0):!(99===(e=t.current())||t.switchN&&107===e||(t.lastIntValue=e,t.advance(),0))},e.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(49<=e&&e<=57){for(;t.lastIntValue=10*t.lastIntValue+(e-48),t.advance(),48<=(e=t.current())&&e<=57;);return!0}return!1},e.regexp_eatCharacterClassEscape=function(t){var e,i=t.current();if(100===(e=i)||68===e||115===e||83===e||119===e||87===e)return t.lastIntValue=-1,t.advance(),!0;if(t.switchU&&9<=this.options.ecmaVersion&&(80===i||112===i)){if(t.lastIntValue=-1,t.advance(),t.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(t)&&t.eat(125))return!0;t.raise("Invalid property name")}return!1},e.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i,n=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t))return i=t.lastStringValue,this.regexp_validateUnicodePropertyNameAndValue(t,n,i),!0}return t.pos=e,!!this.regexp_eatLoneUnicodePropertyNameOrValue(t)&&(n=t.lastStringValue,this.regexp_validateUnicodePropertyNameOrValue(t,n),!0)},e.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){_(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")},e.regexp_validateUnicodePropertyNameOrValue=function(t,e){t.unicodeProperties.binary.test(e)||t.raise("Invalid property name")},e.regexp_eatUnicodePropertyName=function(t){var e;for(t.lastStringValue="";lt(e=t.current());)t.lastStringValue+=O(e),t.advance();return""!==t.lastStringValue},e.regexp_eatUnicodePropertyValue=function(t){var e,i;for(t.lastStringValue="";lt(i=e=t.current())||N(i);)t.lastStringValue+=O(e),t.advance();return""!==t.lastStringValue},e.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)},e.regexp_eatCharacterClass=function(t){if(t.eat(91)){if(t.eat(94),this.regexp_classRanges(t),t.eat(93))return!0;t.raise("Unterminated character class")}return!1},e.regexp_classRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e,i=t.lastIntValue;t.eat(45)&&this.regexp_eatClassAtom(t)&&(e=t.lastIntValue,!t.switchU||-1!==i&&-1!==e||t.raise("Invalid character class"),-1!==i)&&-1!==e&&e<i&&t.raise("Range out of order in character class")}},e.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;t.switchU&&(99!==(i=t.current())&&!pt(i)||t.raise("Invalid class escape"),t.raise("Invalid escape")),t.pos=e}var i=t.current();return 93!==i&&(t.lastIntValue=i,t.advance(),!0)},e.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)},e.regexp_eatClassControlLetter=function(t){var e=t.current();return!(!N(e)&&95!==e||(t.lastIntValue=e%32,t.advance(),0))},e.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1},e.regexp_eatDecimalDigits=function(t){var e,i=t.pos;for(t.lastIntValue=0;N(e=t.current());)t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();return t.pos!==i},e.regexp_eatHexDigits=function(t){var e,i=t.pos;for(t.lastIntValue=0;ct(e=t.current());)t.lastIntValue=16*t.lastIntValue+ut(e),t.advance();return t.pos!==i},e.regexp_eatLegacyOctalEscapeSequence=function(t){var e,i;return!!this.regexp_eatOctalDigit(t)&&(e=t.lastIntValue,this.regexp_eatOctalDigit(t)?(i=t.lastIntValue,e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=64*e+8*i+t.lastIntValue:t.lastIntValue=8*e+i):t.lastIntValue=e,!0)},e.regexp_eatOctalDigit=function(t){var e=t.current();return pt(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)},e.regexp_eatFixedHexDigits=function(t,e){for(var i=t.pos,n=t.lastIntValue=0;n<e;++n){var r=t.current();if(!ct(r))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+ut(r),t.advance()}return!0};function M(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new b(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])}h=S.prototype;function dt(t){return"function"!=typeof BigInt?null:BigInt(t.replace(/_/g,""))}function R(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}h.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new M(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},h.getToken=function(){return this.next(),new M(this)},"undefined"!=typeof Symbol&&(h[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===m.eof,value:t}}}}),h.curContext=function(){return this.context[this.context.length-1]},h.nextToken=function(){var t=this.curContext();return t&&t.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(m.eof):t.override?t.override(this):void this.readToken(this.fullCharCodeAtPos())},h.readToken=function(t){return a(t,6<=this.options.ecmaVersion)||92===t?this.readWord():this.getTokenFromCode(t)},h.fullCharCodeAtPos=function(){var t,e=this.input.charCodeAt(this.pos);return e<=55295||56320<=e||(t=this.input.charCodeAt(this.pos+1))<=56319||57344<=t?e:(e<<10)+t-56613888},h.skipBlockComment=function(){var t,e=this.options.onComment&&this.curPosition(),i=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(-1===n&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(p.lastIndex=i;(t=p.exec(this.input))&&t.index<this.pos;)++this.curLine,this.lineStart=t.index+t[0].length;this.options.onComment&&this.options.onComment(!0,this.input.slice(i+2,n),i,this.pos,e,this.curPosition())},h.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),n=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!d(n);)n=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())},h.skipSpace=function(){t:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(!(8<t&&t<14||5760<=t&&f.test(String.fromCharCode(t))))break t;++this.pos}}},h.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)},h.readToken_dot=function(){var t,e=this.input.charCodeAt(this.pos+1);return 48<=e&&e<=57?this.readNumber(!0):(t=this.input.charCodeAt(this.pos+2),6<=this.options.ecmaVersion&&46===e&&46===t?(this.pos+=3,this.finishToken(m.ellipsis)):(++this.pos,this.finishToken(m.dot)))},h.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===t?this.finishOp(m.assign,2):this.finishOp(m.slash,1)},h.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,n=42===t?m.star:m.modulo;return 7<=this.options.ecmaVersion&&42===t&&42===e&&(++i,n=m.starstar,e=this.input.charCodeAt(this.pos+2)),61===e?this.finishOp(m.assign,i+1):this.finishOp(n,i)},h.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e!==t)return 61===e?this.finishOp(m.assign,2):this.finishOp(124===t?m.bitwiseOR:m.bitwiseAND,1);if(12<=this.options.ecmaVersion&&61===this.input.charCodeAt(this.pos+2))return this.finishOp(m.assign,3);return this.finishOp(124===t?m.logicalOR:m.logicalAND,2)},h.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(m.assign,2):this.finishOp(m.bitwiseXOR,1)},h.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?45!==e||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!u.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(m.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===e?this.finishOp(m.assign,2):this.finishOp(m.plusMin,1)},h.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=62===t&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+i)?this.finishOp(m.assign,i+1):this.finishOp(m.bitShift,i)):33!==e||60!==t||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?this.finishOp(m.relational,i=61===e?2:i):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},h.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return 61===e?this.finishOp(m.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===t&&62===e&&6<=this.options.ecmaVersion?(this.pos+=2,this.finishToken(m.arrow)):this.finishOp(61===t?m.eq:m.prefix,1)},h.readToken_question=function(){var t=this.options.ecmaVersion;if(11<=t){var e=this.input.charCodeAt(this.pos+1);if(46===e){var i=this.input.charCodeAt(this.pos+2);if(i<48||57<i)return this.finishOp(m.questionDot,2)}if(63===e){if(12<=t)if(61===this.input.charCodeAt(this.pos+2))return this.finishOp(m.assign,3);return this.finishOp(m.coalesce,2)}}return this.finishOp(m.question,1)},h.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(13<=t&&(++this.pos,a(e=this.fullCharCodeAtPos(),!0)||92===e))return this.finishToken(m.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+R(e)+"'")},h.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(m.parenL);case 41:return++this.pos,this.finishToken(m.parenR);case 59:return++this.pos,this.finishToken(m.semi);case 44:return++this.pos,this.finishToken(m.comma);case 91:return++this.pos,this.finishToken(m.bracketL);case 93:return++this.pos,this.finishToken(m.bracketR);case 123:return++this.pos,this.finishToken(m.braceL);case 125:return++this.pos,this.finishToken(m.braceR);case 58:return++this.pos,this.finishToken(m.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(m.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(120===e||88===e)return this.readRadixNumber(16);if(6<=this.options.ecmaVersion){if(111===e||79===e)return this.readRadixNumber(8);if(98===e||66===e)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(m.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+R(t)+"'")},h.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)},h.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var n=this.input.charAt(this.pos);if(u.test(n)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if("["===n)e=!0;else if("]"===n&&e)e=!1;else if("/"===n&&!e)break;t="\\"===n}++this.pos}var r=this.input.slice(i,this.pos),s=(++this.pos,this.pos),a=this.readWord1(),s=(this.containsEsc&&this.unexpected(s),this.regexpState||(this.regexpState=new L(this))),s=(s.reset(i,r,a),this.validateRegExpFlags(s),this.validateRegExpPattern(s),null);try{s=new RegExp(r,a)}catch(t){}return this.finishToken(m.regexp,{pattern:r,flags:a,value:s})},h.readInt=function(t,e,i){for(var n=12<=this.options.ecmaVersion&&void 0===e,r=i&&48===this.input.charCodeAt(this.pos),i=this.pos,s=0,a=0,o=0,h=null==e?1/0:e;o<h;++o,++this.pos){var l=this.input.charCodeAt(this.pos),c=void 0;if(n&&95===l)r&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===a&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===o&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=l;else{if(t<=(c=97<=l?l-97+10:65<=l?l-65+10:48<=l&&l<=57?l-48:1/0))break;a=l,s=s*t+c}}return n&&95===a&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===i||null!=e&&this.pos-i!==e?null:s},h.readRadixNumber=function(t){var e=this.pos,i=(this.pos+=2,this.readInt(t));return null==i&&this.raise(this.start+2,"Expected number in radix "+t),11<=this.options.ecmaVersion&&110===this.input.charCodeAt(this.pos)?(i=dt(this.input.slice(e,this.pos)),++this.pos):a(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,i)},h.readNumber=function(t){var e=this.pos,i=(t||null!==this.readInt(10,void 0,!0)||this.raise(e,"Invalid number"),2<=this.pos-e&&48===this.input.charCodeAt(e)),n=(i&&this.strict&&this.raise(e,"Invalid number"),this.input.charCodeAt(this.pos));if(!i&&!t&&11<=this.options.ecmaVersion&&110===n)return t=dt(this.input.slice(e,this.pos)),++this.pos,a(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,t);i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),46!==n||i||(++this.pos,this.readInt(10),n=this.input.charCodeAt(this.pos)),69!==n&&101!==n||i||(43!==(n=this.input.charCodeAt(++this.pos))&&45!==n||++this.pos,null===this.readInt(10)&&this.raise(e,"Invalid number")),a(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");t=this.input.slice(e,this.pos);n=i?parseInt(t,8):parseFloat(t.replace(/_/g,""));return this.finishToken(m.num,n)},h.readCodePoint=function(){var t,e;return 123===this.input.charCodeAt(this.pos)?(this.options.ecmaVersion<6&&this.unexpected(),t=++this.pos,e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,1114111<e&&this.invalidStringToken(t,"Code point out of bounds")):e=this.readHexChar(4),e},h.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var n=this.input.charCodeAt(this.pos);if(n===t)break;92===n?(e=(e+=this.input.slice(i,this.pos))+this.readEscapedChar(!1),i=this.pos):(d(n,10<=this.options.ecmaVersion)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(m.string,e)};var ft={};h.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t!==ft)throw t;this.readInvalidTemplateToken()}this.inTemplateElement=!1},h.invalidStringToken=function(t,e){if(this.inTemplateElement&&9<=this.options.ecmaVersion)throw ft;this.raise(t,e)},h.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(96===i||36===i&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==m.template&&this.type!==m.invalidTemplate?(t+=this.input.slice(e,this.pos),this.finishToken(m.template,t)):36===i?(this.pos+=2,this.finishToken(m.dollarBraceL)):(++this.pos,this.finishToken(m.backQuote));if(92===i)t=(t+=this.input.slice(e,this.pos))+this.readEscapedChar(!0),e=this.pos;else if(d(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:t+="\n";break;default:t+=String.fromCharCode(i)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}},h.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(m.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},h.readEscapedChar=function(t){var e,i,n=this.input.charCodeAt(++this.pos);switch(++this.pos,n){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return R(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t)return e=this.pos-1,this.invalidStringToken(e,"Invalid escape sequence in template string"),null;default:return 48<=n&&n<=55?(e=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],255<(i=parseInt(e,8))&&(e=e.slice(0,-1),i=parseInt(e,8)),this.pos+=e.length-1,n=this.input.charCodeAt(this.pos),"0"===e&&56!==n&&57!==n||!this.strict&&!t||this.invalidStringToken(this.pos-1-e.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)):d(n)?"":String.fromCharCode(n)}},h.readHexChar=function(t){var e=this.pos,t=this.readInt(16,t);return null===t&&this.invalidStringToken(e,"Bad character escape sequence"),t},h.readWord1=function(){for(var t="",e=!(this.containsEsc=!1),i=this.pos,n=6<=this.options.ecmaVersion;this.pos<this.input.length;){var r=this.fullCharCodeAtPos();if(o(r,n))this.pos+=r<=65535?1:2;else{if(92!==r)break;this.containsEsc=!0,t+=this.input.slice(i,this.pos);var r=this.pos,s=(117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos,this.readCodePoint());(e?a:o)(s,n)||this.invalidStringToken(r,"Invalid Unicode escape"),t+=R(s),i=this.pos}e=!1}return t+this.input.slice(i,this.pos)},h.readWord=function(){var t=this.readWord1(),e=m.name;return this.keywords.test(t)&&(e=l[t]),this.finishToken(e,t)};S.acorn={Parser:S,version:"8.2.4",defaultOptions:x,Position:y,SourceLocation:b,getLineInfo:w,Node:A,TokenType:n,tokTypes:m,keywordTypes:l,TokContext:T,tokContexts:I,isIdentifierChar:o,isIdentifierStart:a,Token:M,isNewLine:d,lineBreak:u,lineBreakG:p,nonASCIIwhitespace:f},t.Node=A,t.Parser=S,t.Position=y,t.SourceLocation=b,t.TokContext=T,t.Token=M,t.TokenType=n,t.defaultOptions=x,t.getLineInfo=w,t.isIdentifierChar=o,t.isIdentifierStart=a,t.isNewLine=d,t.keywordTypes=l,t.lineBreak=u,t.lineBreakG=p,t.nonASCIIwhitespace=f,t.parse=function(t,e){return S.parse(t,e)},t.parseExpressionAt=function(t,e,i){return S.parseExpressionAt(t,e,i)},t.tokContexts=I,t.tokTypes=m,t.tokenizer=function(t,e){return S.tokenizer(t,e)},t.version="8.2.4",Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof i&&void 0!==e?r(i):"function"==typeof define&&define.amd?define(["exports"],r):r((n=n||self).acorn={})},{}],7:[function(Bt,Vt,t){(function(b,V){var f,s,a,C,k,E,i,T=(b=b||Bt("./node/self.js")).window,I=b.document,j=new function(){function r(t,e){for(var i in this)this.hasOwnProperty(i)&&t.call(e,this[i],i,this)}function i(t,e,i){var n;return t&&((n=p(t,"length"))&&"number"==typeof n.value?o:r).call(t,e,i=i||t),i}var s=/^(statics|enumerable|beans|preserve)$/,t=[],n=t.slice,a=Object.create,p=Object.getOwnPropertyDescriptor,d=Object.defineProperty,o=t.forEach||function(t,e){for(var i=0,n=this.length;i<n;i++)t.call(e,this[i],i,this)},h=Object.assign||function(t){for(var e=1,i=arguments.length;e<i;e++){var n,r=arguments[e];for(n in r)r.hasOwnProperty(n)&&(t[n]=r[n])}return t};function l(a,o,h,l,c){var u={};function t(t,e){var i,n="function"==typeof(e="string"==typeof(e=e||(e=p(o,t))&&(e.get?e:e.value))&&"#"===e[0]?a[e.substring(1)]||e:e),r=e,s=c||n&&!e.base?e&&e.get?t in a:a[t]:null;c&&s||(n&&s&&(e.base=s),n&&!1!==l&&(i=t.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(u[i[3].toLowerCase()+i[4]]=i[2]),r&&!n&&r.get&&"function"==typeof r.get&&f.isPlainObject(r)||(r={value:r,writable:!0}),(p(a,t)||{configurable:!0}).configurable&&(r.configurable=!0,r.enumerable=null!=h?h:!i),d(a,t,r))}if(o){for(var e in o)o.hasOwnProperty(e)&&!s.test(e)&&t(e);for(var e in u){var i=u[e],n=a["set"+i],i=a["get"+i]||n&&a["is"+i];!i||!0!==l&&0!==i.length||t(e,{get:i,set:n})}}return a}function f(){for(var t=0,e=arguments.length;t<e;t++){var i=arguments[t];i&&h(this,i)}return this}return l(f,{inject:function(t){var e,i,n;t&&(e=!0===t.statics?t:t.statics,i=t.beans,n=t.preserve,e!==t&&l(this.prototype,t,t.enumerable,i,n),l(this,e,null,i,n));for(var r=1,s=arguments.length;r<s;r++)this.inject(arguments[r]);return this},extend:function(){for(var t,e,i,n=this,r=0,s=arguments.length;r<s&&(!t||!e);r++)i=arguments[r],t=t||i.initialize,e=e||i.prototype;return e=(t=t||function(){n.apply(this,arguments)}).prototype=e||a(this.prototype),d(e,"constructor",{value:t,writable:!0,configurable:!0}),l(t,this),arguments.length&&this.inject.apply(t,arguments),t.base=n,t}}).inject({enumerable:!1,initialize:f,set:f,inject:function(){for(var t=0,e=arguments.length;t<e;t++){var i=arguments[t];i&&l(this,i,i.enumerable,i.beans,i.preserve)}return this},extend:function(){var t=a(this);return t.inject.apply(t,arguments)},each:function(t,e){return i(this,t,e)},clone:function(){return new this.constructor(this)},statics:{set:h,each:i,create:a,define:d,describe:p,clone:function(t){return h(new t.constructor,t)},isPlainObject:function(t){t=null!=t&&t.constructor;return t&&(t===Object||t===f||"Object"===t.name)},pick:function(t,e){return t!==V?t:e},slice:function(t,e,i){return n.call(t,e,i)}}})},t=(void 0!==Vt&&(Vt.exports=j),j.inject({enumerable:!1,toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+j.each(this,function(t,e){/^_/.test(e)||this.push(e+": "+("number"==(e=typeof t)?w.instance.number(t):"string"==e?"'"+t+"'":t))},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return j.importJSON(t,this)},exportJSON:function(t){return j.exportJSON(this,t)},toJSON:function(){return j.serialize(this)},set:function(t,e){return t&&j.filter(this,t,e,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function t(){var e=t.base.apply(this,arguments),i=e.prototype._class;return i&&!j.exports[i]&&(j.exports[i]=e),e},equals:function(t,e){if(t===e)return!0;if(t&&t.equals)return t.equals(e);if(e&&e.equals)return e.equals(t);if(t&&e&&"object"==typeof t&&"object"==typeof e){if(Array.isArray(t)&&Array.isArray(e)){if((i=t.length)!==e.length)return!1;for(;i--;)if(!j.equals(t[i],e[i]))return!1}else{var i,n=Object.keys(t);if((i=n.length)!==Object.keys(e).length)return!1;for(;i--;){var r=n[i];if(!e.hasOwnProperty(r)||!j.equals(t[r],e[r]))return!1}}return!0}return!1},read:function(t,e,i,n){var r,s,a,o;return this===j?(r=this.peek(t,e),t.__index++,r):(s=(r=this.prototype)._readIndex,e=e||s&&t.__index||0,a=t.length,n=n||a-e,(o=t[e])instanceof this||i&&i.readNull&&null==o&&n<=1?(s&&(t.__index=e+1),o&&i&&i.clone?o.clone():o):(o=j.create(r),s&&(o.__read=!0),o=o.initialize.apply(o,0<e||e+n<a?j.slice(t,e,e+n):t)||o,s&&(t.__index=e+o.__read,(i=o.__filtered)&&(t.__filtered=i,o.__filtered=V),o.__read=V),o))},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,e,i,n){for(var r,s=[],e=e||0,a=n?e+n:t.length,o=e;o<a;o++)s.push(Array.isArray(r=t[o])?this.read(r,0,i):this.read(t,o,i,1));return s},readNamed:function(t,e,i,n,r){var s,a,o=this.getNamed(t,e),h=o!==V;return h&&((a=t.__filtered)||(s=this.getSource(t),(a=t.__filtered=j.create(s)).__unfiltered=s),a[e]=V),this.read(h?[o]:t,i,n,r)},readSupported:function(i,n){var t=this.getSource(i),r=this,s=!1;return t&&Object.keys(t).forEach(function(t){var e;t in n&&((e=r.readNamed(i,t))!==V&&(n[t]=e),s=!0)}),s},getSource:function(t){var e,i=t.__source;return i===V&&(e=1===t.length&&t[0],i=t.__source=e&&j.isPlainObject(e)?e:null),i},getNamed:function(t,e){var i=this.getSource(t);if(i)return e?i[e]:t.__filtered||i},hasNamed:function(t,e){return!!this.getNamed(t,e)},filter:function(i,n,r,t){var s;function e(t){var e;r&&t in r||s&&t in s||(e=n[t])!==V&&(i[t]=e)}if(t){for(var a,o={},h=0,l=t.length;h<l;h++)(a=t[h])in n&&(e(a),o[a]=!0);s=o}return Object.keys(n.__unfiltered||n).forEach(e),i},isPlainValue:function(t,e){return j.isPlainObject(t)||Array.isArray(t)||e&&"string"==typeof t},serialize:function(t,e,i,n){e=e||{};var r=!n;if(r&&(e.formatter=new w(e.precision),n={length:0,definitions:{},references:{},add:function(t,e){var i="#"+t._id,n=this.references[i];return n||(this.length++,e=e.call(t),(t=t._class)&&e[0]!==t&&e.unshift(t),this.definitions[i]=e,n=this.references[i]=[i]),n}}),t&&t._serialize){var s=t._serialize(e,n),a=t._class;!a||t._compactSerialize||!r&&i||s[0]===a||s.unshift(a)}else if(Array.isArray(t)){s=[];for(var o=0,h=t.length;o<h;o++)s[o]=j.serialize(t[o],e,i,n)}else if(j.isPlainObject(t)){s={};for(var l=Object.keys(t),o=0,h=l.length;o<h;o++){var c=l[o];s[c]=j.serialize(t[c],e,i,n)}}else s="number"==typeof t?e.formatter.number(t,e.precision):t;return r&&0<n.length?[["dictionary",n.definitions],s]:s},deserialize:function(t,e,i,n,r){var s=t,a=!i,o=a&&t&&t.length&&"dictionary"===t[0][0];if(i=i||{},Array.isArray(t)){var h=t[0],l="dictionary"===h;if(1==t.length&&/^#/.test(h))return i.dictionary[h];s=[];for(var c,u=(h=j.exports[h])?1:0,p=t.length;u<p;u++)s.push(j.deserialize(t[u],e,i,l,o));h&&(c=s,s=e?e(h,c,a||r):new h(c))}else if(j.isPlainObject(t))for(var d in s={},n&&(i.dictionary=s),t)s[d]=j.deserialize(t[d],e,i);return o?s[1]:s},exportJSON:function(t,e){t=j.serialize(t,e);return e&&0==e.asString?t:JSON.stringify(t)},importJSON:function(t,s){return j.deserialize("string"==typeof t?JSON.parse(t):t,function(t,e,i){var n,i=i&&s&&s.constructor===t,r=i?s:j.create(t.prototype);return!(1===e.length&&r instanceof z)||!i&&r instanceof Z||(n=e[0],j.isPlainObject(n)&&(n.insert=!1,i)&&(e=e.concat([{insert:!0}]))),(i?r.set:t).apply(r,e),i&&(s=null),r})},push:function(t,e){var i=e.length;if(i<4096)t.push.apply(t,e);else{var n=t.length;t.length+=i;for(var r=0;r<i;r++)t[n+r]=e[r]}return t},splice:function(t,e,i,n){var r=e&&e.length,s=i===V;(i=s?t.length:i)>t.length&&(i=t.length);for(var a=0;a<r;a++)e[a]._index=i+a;if(s)return j.push(t,e),[];for(var s=[i,n],o=(e&&j.push(s,e),t.splice.apply(t,s)),a=0,h=o.length;a<h;a++)o[a]._index=V;for(a=i+r,h=t.length;a<h;a++)t[a]._index=a;return o},capitalize:function(t){return t.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}}),{on:function(t,e){var i,n;return"string"!=typeof t?j.each(t,function(t,e){this.on(e,t)},this):(i=(i=this._eventTypes)&&i[t],-1===(n=(n=this._callbacks=this._callbacks||{})[t]=n[t]||[]).indexOf(e)&&(n.push(e),i)&&i.install&&1===n.length&&i.install.call(this,t)),this},off:function(t,e){var i,n;if("string"==typeof t)return i=(i=this._eventTypes)&&i[t],(n=this._callbacks&&this._callbacks[t])&&(!e||-1!==(e=n.indexOf(e))&&1===n.length?(i&&i.uninstall&&i.uninstall.call(this,t),delete this._callbacks[t]):-1!==e&&n.splice(e,1)),this;j.each(t,function(t,e){this.off(e,t)},this)},once:function(e,i){return this.on(e,function t(){i.apply(this,arguments),this.off(e,t)})},emit:function(t,e){if(!(r=this._callbacks&&this._callbacks[t]))return!1;var i=j.slice(arguments,1),n=e&&e.target&&!e.currentTarget,r=r.slice();n&&(e.currentTarget=this);for(var s=0,a=r.length;s<a;s++)if(0==r[s].apply(this,i)){e&&e.stop&&e.stop();break}return n&&delete e.currentTarget,!0},responds:function(t){return!(!this._callbacks||!this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e,i=this._eventTypes,n=this._callbacks,r=t?"install":"uninstall";if(i)for(var s in n)0<n[s].length&&(e=(e=i[s])&&e[r])&&e.call(this,s)},statics:{inject:function t(s){var a,e=s._events;return e&&(a={},j.each(e,function(t,e){var i="string"==typeof t,n=i?t:e,e=j.capitalize(n),r=n.substring(2).toLowerCase();a[r]=i?{}:t,n="_"+n,s["get"+e]=function(){return this[n]},s["set"+e]=function(t){var e=this[n];e&&this.off(r,e),t&&this.on(r,t),this[n]=t}}),s._eventTypes=a),t.base.apply(this,arguments)}}}),c=j.extend({_class:"PaperScope",initialize:function t(){(B=this).settings=new j({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=t._id++,t._scopes[this._id]=this;var e,i,s,n=t.prototype;this.support||(e=A.getContext(1,1)||{},n.support={nativeDash:"setLineDash"in e||"mozDash"in e,nativeBlendModes:gt.nativeModes},A.release(e)),this.agent||(e=b.navigator.userAgent.toLowerCase(),i=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(e)||[])[0],s=n.agent=n.browser={platform:n="darwin"===i?"mac":i},n&&(s[n]=!0),e.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(t,e,i,n,r){s.chrome||(n="opera"===e?n:/^(node|trident)$/.test(e)?r:i,s.version=n,s.versionNumber=parseFloat(n),s.name=e={trident:"msie",jsdom:"node"}[e]||e,s[e]=!0)}),s.chrome&&delete s.webkit,s.atom&&delete s.chrome)},version:"0.12.15",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,e){t=B.PaperScript.execute(t,this,e);return D.updateFocus(),t},install:function(e){var t,i=this;for(t in j.each(["project","view","tool"],function(t){j.define(e,t,{configurable:!0,get:function(){return i[t]}})}),this)!/^_/.test(t)&&this[t]&&(e[t]=this[t])},setup:function(t){return(B=this).project=new h(t),this},createCanvas:function(t,e){return A.getCanvas(t,e)},activate:function(){B=this},clear:function(){for(var t=this.projects,e=this.tools,i=t.length-1;0<=i;i--)t[i].remove();for(i=e.length-1;0<=i;i--)e[i].remove()},remove:function(){this.clear(),delete c._scopes[this._id]},statics:new function(){function t(i){return i+="Attribute",function(t,e){return t[i](e)||t[i]("data-paper-"+e)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),e=j.extend(t,{initialize:function(t){this._scope=B,this._index=this._scope[this._list].push(this)-1,!t&&this._scope[this._reference]||this.activate()},activate:function(){var t;return!!this._scope&&((t=this._scope[this._reference])&&t!==this&&t.emit("deactivate"),(this._scope[this._reference]=this).emit("activate",t),!0)},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(j.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),!(this._scope=null))},getView:function(){return this._scope.getView()}}),K={findItemBoundsCollisions:function(t,e,i){function n(t){for(var e=new Array(t.length),i=0;i<t.length;i++){var n=t[i].getBounds();e[i]=[n.left,n.top,n.right,n.bottom]}return e}var r=n(t),t=e&&e!==t?n(e):r;return this.findBoundsCollisions(r,t,i||0)},findCurveBoundsCollisions:function(t,e,i,n){function r(t){for(var e=Math.min,i=Math.max,n=new Array(t.length),r=0;r<t.length;r++){var s=t[r];n[r]=[e(s[0],s[2],s[4],s[6]),e(s[1],s[3],s[5],s[7]),i(s[0],s[2],s[4],s[6]),i(s[1],s[3],s[5],s[7])]}return n}var s=r(t),t=e&&e!==t?r(e):s;if(n){for(var a=this.findBoundsCollisions(s,t,i||0,!1,!0),o=this.findBoundsCollisions(s,t,i||0,!0,!0),h=[],l=0,c=a.length;l<c;l++)h[l]={hor:a[l],ver:o[l]};return h}return this.findBoundsCollisions(s,t,i||0)},findBoundsCollisions:function(t,e,i,n,r){var s=!e||t===e,a=s?t:t.concat(e),o=t.length,h=a.length;function l(t,e,i){for(var n=0,r=t.length;n<r;){var s=r+n>>>1;a[t[s]][e]<i?n=1+s:r=s}return n-1}for(var c=n?1:0,u=2+c,p=n?0:1,d=2+p,f=new Array(h),g=0;g<h;g++)f[g]=g;f.sort(function(t,e){return a[t][c]-a[e][c]});for(var m=[],_=new Array(o),g=0;g<h;g++){var v=f[g],y=a[v],b=s?v:v-o,w=v<o,x=s||!w,S=w?[]:null;if(m.length){var C=l(m,u,y[c]-i)+1;if(m.splice(0,C),s&&r)for(var S=S.concat(m),k=0;k<m.length;k++)_[T=m[k]].push(b);else for(var E=y[d],A=y[p],k=0;k<m.length;k++){var T=m[k],I=a[T],P=T<o,L=s||o<=T;(r||(w&&L||x&&P)&&E>=I[p]-i&&A<=I[d]+i)&&(w&&L&&S.push(s?T:T-o),x)&&P&&_[T].push(b)}}w&&(t===e&&S.push(v),_[v]=S),m.length?(C=l(m,u,y[u]),m.splice(C+1,0,v)):m.push(v)}for(g=0;g<_.length;g++){var O=_[g];O&&O.sort(function(t,e){return t-e})}return _}},w=j.extend({initialize:function(t){this.precision=j.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,e,i){return this.number(t)+(i||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}}),F=(w.instance=new w,new function(){var p=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],d=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],_=Math.abs,v=Math.sqrt,y=Math.pow,e=Math.log2||function(t){return Math.log(t)*Math.LOG2E},b=1e-12,w=112e-18;function x(t,e,i){return t<e?e:i<t?i:t}function c(t,e,i){function n(t){var e=134217729*t,e=t-e+e;return[e,t-e]}var r,s,a=e*e-t*i,o=e*e+t*i;return 3*_(a)<o&&(o=n(t),r=n(e),s=n(i),a=(e=e*e)-(t=t*i)+(r[0]*r[0]-e+2*r[0]*r[1]+r[1]*r[1]-(o[0]*s[0]-t+o[0]*s[1]+o[1]*s[0]+o[1]*s[1]))),a}function S(){var t=Math.max.apply(Math,arguments);return t&&(t<1e-8||1e8<t)?y(2,-Math.round(e(t))):0}return{EPSILON:b,MACHINE_EPSILON:w,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(v(2)-1)/3,isZero:function(t){return-b<=t&&t<=b},isMachineZero:function(t){return-w<=t&&t<=w},clamp:x,integrate:function(t,e,i,n){for(var r=p[n-2],s=d[n-2],a=.5*(i-e),o=a+e,h=0,l=n+1>>1,c=1&n?s[h++]*t(o):0;h<l;){var u=a*r[h];c+=s[h++]*(t(o+u)+t(o-u))}return a*c},findRoot:function(t,e,i,n,r,s,a){for(var o=0;o<s;o++){var h=t(i),l=h/e(i),c=i-l;if(_(l)<a){i=c;break}i=0<h?(r=i,c<=n?.5*(n+r):c):(n=i,r<=c?.5*(n+r):c)}return x(i,n,r)},solveQuadratic:function(t,e,i,n,r,s){var a,o=1/0;if(_(t)<b){if(_(e)<b)return _(i)<b?-1:0;a=-i/e}else{var h=c(t,e*=-.5,i);h&&_(h)<w&&(l=S(_(t),_(e),_(i)))&&(h=c(t*=l,e*=l,i*=l)),-w<=h&&(l=h<0?0:v(h),o=0===(h=e+(e<0?-l:l))?-(a=i/t):(a=h/t,i/h))}var e=0,l=null==r,t=r-b,i=s+b;return isFinite(a)&&(l||t<a&&a<i)&&(n[e++]=l?a:x(a,r,s)),o!==a&&isFinite(o)&&(l||t<o&&o<i)&&(n[e++]=l?o:x(o,r,s)),e},solveCubic:function(e,i,n,r,t,s,a){var o,h,l,c,u,p=S(_(e),_(i),_(n),_(r));function d(t){t=e*(o=t);c=(t+(h=t+i))*o+(l=h*o+n),u=l*o+r}if(p&&(e*=p,i*=p,n*=p,r*=p),_(e)<b)e=i,h=n,l=r,o=1/0;else if(_(r)<b)h=i,l=n,o=0;else{d(-i/e/3);var p=u/e,f=y(_(p),1/3),g=p<0?-1:1,p=-c/e,p=0<p?1.324717957244746*Math.max(f,v(p)):f,m=o-g*p;if(m!==o){for(;d(m),g*o<g*(m=0===c?o:o-u/c/(1+w)););_(e)*o*o>_(r/o)&&(h=((l=-r/o)-n)/o)}}f=F.solveQuadratic(e,h,l,t,s,a),p=null==s;return isFinite(o)&&(0===f||0<f&&o!==t[0]&&o!==t[1])&&(p||s-b<o&&o<a+b)&&(t[f++]=p?o:x(o,s,a)),f}}}),o={_id:1,_pools:{},get:function(t){return t?(this._pools[t]||(this._pools[t]={_id:1}))._id++:this._id++}},L=j.extend({_class:"Point",_readIndex:!0,initialize:function(t,e){var i,n=typeof t,r=this.__read,s=0;return"number"==n?(this._set(t,(i="number"==typeof e)?e:t),r&&(s=i?2:1)):"undefined"==n||null===t?(this._set(0,0),r&&(s=null===t?1:0)):(e="string"==n?t.split(/[\s,]+/)||[]:t,s=1,Array.isArray(e)?this._set(+e[0],+(1<e.length?e[1]:e[0])):"x"in e?this._set(e.x||0,e.y||0):"width"in e?this._set(e.width||0,e.height||0):"angle"in e?(this._set(e.length||0,0),this.setAngle(e.angle||0)):(this._set(0,0),s=0)),r&&(this.__read=s),this},set:"#initialize",_set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new L(this.x,this.y)},toString:function(){var t=w.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){t=t.formatter;return[t.number(this.x),t.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){var e;this.isZero()?(e=this._angle||0,this._set(Math.cos(e)*t,Math.sin(e)*t)):(e=t/this.getLength(),F.isZero(e)&&this.getAngle(),this._set(this.x*e,this.y*e))},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){var t,e;return arguments.length?(e=L.read(arguments),t=this.getLength()*e.getLength(),F.isZero(t)?NaN:(e=this.dot(e)/t,Math.acos(e<-1?-1:1<e?1:e))):this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){var e;this._angle=t,this.isZero()||(e=this.getLength(),this._set(Math.cos(t)*e,Math.sin(t)*e))},getQuadrant:function(){return 0<=this.x?0<=this.y?1:4:0<=this.y?2:3}},{beans:!1,getDirectedAngle:function(){var t=L.read(arguments);return 180*Math.atan2(this.cross(t),this.dot(t))/Math.PI},getDistance:function(){var t=arguments,e=L.read(t),i=e.x-this.x,e=e.y-this.y,i=i*i+e*e;return j.read(t)?i:Math.sqrt(i)},normalize:function(t){t===V&&(t=1);var e=this.getLength(),t=0!==e?t/e:0,e=new L(this.x*t,this.y*t);return 0<=t&&(e._angle=this._angle),e},rotate:function(t,e){if(0===t)return this.clone();t=t*Math.PI/180;var i=e?this.subtract(e):this,n=Math.sin(t),t=Math.cos(t),i=new L(i.x*t-i.y*n,i.x*n+i.y*t);return e?i.add(e):i},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=L.read(arguments);return new L(this.x+t.x,this.y+t.y)},subtract:function(){var t=L.read(arguments);return new L(this.x-t.x,this.y-t.y)},multiply:function(){var t=L.read(arguments);return new L(this.x*t.x,this.y*t.y)},divide:function(){var t=L.read(arguments);return new L(this.x/t.x,this.y/t.y)},modulo:function(){var t=L.read(arguments);return new L(this.x%t.x,this.y%t.y)},negate:function(){return new L(-this.x,-this.y)},isInside:function(){return x.read(arguments).contains(this)},isClose:function(){var t=arguments,e=L.read(t),t=j.read(t);return this.getDistance(e)<=t},isCollinear:function(){var t=L.read(arguments);return L.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=L.read(arguments);return L.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){var t=F.isZero;return t(this.x)&&t(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(t){return 0<=this.x*(1<t&&t<4?-1:1)&&0<=this.y*(2<t?-1:1)},dot:function(){var t=L.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=L.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=L.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);return new L(t.x*e,t.y*e)},statics:{min:function(){var t=arguments,e=L.read(t),t=L.read(t);return new L(Math.min(e.x,t.x),Math.min(e.y,t.y))},max:function(){var t=arguments,e=L.read(t),t=L.read(t);return new L(Math.max(e.x,t.x),Math.max(e.y,t.y))},random:function(){return new L(Math.random(),Math.random())},isCollinear:function(t,e,i,n){return Math.abs(t*n-e*i)<=1e-8*Math.sqrt((t*t+e*e)*(i*i+n*n))},isOrthogonal:function(t,e,i,n){return Math.abs(t*i+e*n)<=1e-8*Math.sqrt((t*t+e*e)*(i*i+n*n))}}},j.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new L(e(this.x),e(this.y))}},{})),l=L.extend({initialize:function(t,e,i,n){this._x=t,this._y=e,this._owner=i,this._setter=n},_set:function(t,e,i){return this._x=t,this._y=e,i||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),O=j.extend({_class:"Size",_readIndex:!0,initialize:function(t,e){var i,n=typeof t,r=this.__read,s=0;return"number"==n?(this._set(t,(i="number"==typeof e)?e:t),r&&(s=i?2:1)):"undefined"==n||null===t?(this._set(0,0),r&&(s=null===t?1:0)):(e="string"==n?t.split(/[\s,]+/)||[]:t,s=1,Array.isArray(e)?this._set(+e[0],+(1<e.length?e[1]:e[0])):"width"in e?this._set(e.width||0,e.height||0):"x"in e?this._set(e.x||0,e.y||0):(this._set(0,0),s=0)),r&&(this.__read=s),this},set:"#initialize",_set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new O(this.width,this.height)},toString:function(){var t=w.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){t=t.formatter;return[t.number(this.width),t.number(this.height)]},add:function(){var t=O.read(arguments);return new O(this.width+t.width,this.height+t.height)},subtract:function(){var t=O.read(arguments);return new O(this.width-t.width,this.height-t.height)},multiply:function(){var t=O.read(arguments);return new O(this.width*t.width,this.height*t.height)},divide:function(){var t=O.read(arguments);return new O(this.width/t.width,this.height/t.height)},modulo:function(){var t=O.read(arguments);return new O(this.width%t.width,this.height%t.height)},negate:function(){return new O(-this.width,-this.height)},isZero:function(){var t=F.isZero;return t(this.width)&&t(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){return new O(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new O(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new O(Math.random(),Math.random())}}},j.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new O(e(this.width),e(this.height))}},{})),n=O.extend({initialize:function(t,e,i,n){this._width=t,this._height=e,this._owner=i,this._setter=n},_set:function(t,e,i){return this._width=t,this._height=e,i||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),x=j.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(t,e,i,n){var r,s,a,o,h=arguments,l=typeof t,c=("number"==l?(this._set(t,e,i,n),r=4):"undefined"==l||null===t?(this._set(0,0,0,0),r=null===t?1:0):1===h.length&&(Array.isArray(t)?(this._set.apply(this,t),r=1):t.x!==V||t.width!==V?(this._set(t.x||0,t.y||0,t.width||0,t.height||0),r=1):t.from===V&&t.to===V&&(this._set(0,0,0,0),j.readSupported(h,this))&&(r=1)),r===V&&(l=L.readNamed(h,"from"),c=j.peek(h),s=l.x,l=l.y,c&&c.x!==V||j.hasNamed(h,"to")?(a=(c=L.readNamed(h,"to")).x-s,o=c.y-l,a<0&&(s=c.x,a=-a),o<0&&(l=c.y,o=-o)):(a=(c=O.read(h)).width,o=c.height),this._set(s,l,a,o),r=h.__index),h.__filtered);return c&&(this.__filtered=c),this.__read&&(this.__read=r),this},set:"#initialize",_set:function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},clone:function(){return new x(this.x,this.y,this.width,this.height)},equals:function(t){var e=j.isPlainValue(t)?x.read(arguments):t;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var t=w.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){t=t.formatter;return[t.number(this.x),t.number(this.y),t.number(this.width),t.number(this.height)]},getPoint:function(t){return new(t?L:l)(this.x,this.y,this,"setPoint")},setPoint:function(){var t=L.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){return new(t?O:n)(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var t=O.read(arguments),e=this._sx,i=this._sy,n=t.width,t=t.height;e&&(this.x+=(this.width-n)*e),i&&(this.y+=(this.height-t)*i),this.width=n,this.height=t,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(t){var e;this._fw||(e=t-this.x,this.width-=.5===this._sx?2*e:e),this.x=t,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(t){var e;this._fh||(e=t-this.y,this.height-=.5===this._sy?2*e:e),this.y=t,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(t){var e;this._fw||(e=t-this.x,this.width=.5===this._sx?2*e:e),this.x=t-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(t){var e;this._fh||(e=t-this.y,this.height=.5===this._sy?2*e:e),this.y=t-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(t){this._fw||.5===this._sx?this.x=t-this.width/2:(this._sx&&(this.x+=2*(t-this.x)*this._sx),this.width=2*(t-this.x)),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(t){this._fh||.5===this._sy?this.y=t-this.height/2:(this._sy&&(this.y+=2*(t-this.y)*this._sy),this.height=2*(t-this.y)),this._sy=.5,this._fh=0},getCenter:function(t){return new(t?L:l)(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=L.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(t){return t&&t.width!==V||4===(Array.isArray(t)?t:arguments).length?this._containsRectangle(x.read(arguments)):this._containsPoint(L.read(arguments))},_containsPoint:function(t){var e=t.x,t=t.y;return e>=this.x&&t>=this.y&&e<=this.x+this.width&&t<=this.y+this.height},_containsRectangle:function(t){var e=t.x,i=t.y;return e>=this.x&&i>=this.y&&e+t.width<=this.x+this.width&&i+t.height<=this.y+this.height},intersects:function(){var t=x.read(arguments),e=j.read(arguments)||0;return t.x+t.width>this.x-e&&t.y+t.height>this.y-e&&t.x<this.x+this.width+e&&t.y<this.y+this.height+e},intersect:function(){var t=x.read(arguments),e=Math.max(this.x,t.x),i=Math.max(this.y,t.y),n=Math.min(this.x+this.width,t.x+t.width),t=Math.min(this.y+this.height,t.y+t.height);return new x(e,i,n-e,t-i)},unite:function(){var t=x.read(arguments),e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x+t.width),t=Math.max(this.y+this.height,t.y+t.height);return new x(e,i,n-e,t-i)},include:function(){var t=L.read(arguments),e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x),t=Math.max(this.y+this.height,t.y);return new x(e,i,n-e,t-i)},expand:function(){var t=O.read(arguments),e=t.width,t=t.height;return new x(this.x-e/2,this.y-t/2,this.width+e,this.height+t)},scale:function(t,e){return this.expand(this.width*t-this.width,this.height*(e===V?t:e)-this.height)}},j.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,e){var i=t.join(""),n=/^[RL]/.test(i),e=(4<=e&&(t[1]+=n?"Y":"X"),t[n?0:1]),t=t[n?1:0],r="get"+e,s="get"+t,a="set"+e,o="set"+t,h="set"+i;this["get"+i]=function(t){return new(t?L:l)(this[r](),this[s](),this,h)},this[h]=function(){var t=L.read(arguments);this[a](t.x),this[o](t.y)}},{beans:!0})),r=x.extend({initialize:function(t,e,i,n,r,s){this._set(t,e,i,n,!0),this._owner=r,this._setter=s},_set:function(t,e,i,n,r){return this._x=t,this._y=e,this._width=i,this._height=n,r||this._owner[this._setter](this),this}},new function(){var i=x.prototype;return j.each(["x","y","width","height"],function(t){var e=j.capitalize(t),i="_"+t;this["get"+e]=function(){return this[i]},this["set"+e]=function(t){this[i]=t,this._dontNotify||this._owner[this._setter](this)}},j.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(t){var e="set"+t;this[e]=function(){this._dontNotify=!0,i[e].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(t){var e=this._owner;e._changeSelection&&e._changeSelection(2,t)}}))}),N=j.extend({_class:"Matrix",initialize:function t(e,i){var n=arguments,r=n.length,s=!0;if(6<=r?this._set.apply(this,n):1===r||2===r?e instanceof t?this._set(e._a,e._b,e._c,e._d,e._tx,e._ty,i):Array.isArray(e)?this._set.apply(this,i?e.concat([i]):e):s=!1:r?s=!1:this.reset(),s)return this;throw new Error("Unsupported matrix parameters")},set:"#initialize",_set:function(t,e,i,n,r,s,a){return this._a=t,this._b=e,this._c=i,this._d=n,this._tx=r,this._ty=s,a||this._changed(),this},_serialize:function(t,e){return j.serialize(this.getValues(),t,!0,e)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(25))},clone:function(){return new N(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=w.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,e){var i=this._owner;return!!i&&(i.transform(null,j.pick(t,!0),e),this.isIdentity())},translate:function(){var t=L.read(arguments),e=t.x,t=t.y;return this._tx+=e*this._a+t*this._c,this._ty+=e*this._b+t*this._d,this._changed(),this},scale:function(){var t=arguments,e=L.read(t),t=L.read(t,0,{readNull:!0});return t&&this.translate(t),this._a*=e.x,this._b*=e.x,this._c*=e.y,this._d*=e.y,t&&this.translate(t.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=L.read(arguments,1),i=e.x,e=e.y,n=Math.cos(t),r=Math.sin(t),s=i-i*n+e*r,i=e-i*r-e*n,e=this._a,a=this._b,o=this._c,h=this._d;return this._a=n*e+r*o,this._b=n*a+r*h,this._c=-r*e+n*o,this._d=-r*a+n*h,this._tx+=s*e+i*o,this._ty+=s*a+i*h,this._changed(),this},shear:function(){var t=arguments,e=L.read(t),t=L.read(t,0,{readNull:!0}),i=(t&&this.translate(t),this._a),n=this._b;return this._a+=e.y*this._c,this._b+=e.y*this._d,this._c+=e.x*i,this._d+=e.x*n,t&&this.translate(t.negate()),this._changed(),this},skew:function(){var t=arguments,e=L.read(t),t=L.read(t,0,{readNull:!0}),i=Math.PI/180,e=new L(Math.tan(e.x*i),Math.tan(e.y*i));return this.shear(e,t)},append:function(t,e){var i,n,r,s,a,o,h,l,c;return t&&(i=this._a,n=this._b,r=this._c,s=this._d,a=t._a,o=t._c,h=t._b,l=t._d,c=t._tx,t=t._ty,this._a=a*i+h*r,this._c=o*i+l*r,this._b=a*n+h*s,this._d=o*n+l*s,this._tx+=c*i+t*r,this._ty+=c*n+t*s,e||this._changed()),this},prepend:function(t,e){var i,n,r,s,a,o,h,l,c,u,p;return t&&(i=this._a,n=this._b,r=this._c,s=this._d,a=this._tx,o=this._ty,h=t._a,l=t._c,c=t._b,u=t._d,p=t._tx,t=t._ty,this._a=h*i+l*n,this._c=h*r+l*s,this._b=c*i+u*n,this._d=c*r+u*s,this._tx=h*a+l*o+p,this._ty=c*a+u*o+t,e||this._changed()),this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,e=this._b,i=this._c,n=this._d,r=this._tx,s=this._ty,a=t*n-e*i,o=null;return a&&!isNaN(a)&&isFinite(r)&&isFinite(s)&&(this._a=n/a,this._b=-e/a,this._c=-i/a,this._d=t/a,this._tx=(i*s-n*r)/a,this._ty=(e*r-t*s)/a,o=this),o},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new N(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,e,i){return arguments.length<3?this._transformPoint(L.read(arguments)):this._transformCoordinates(t,e,i)},_transformPoint:function(t,e,i){var n=t.x,t=t.y;return(e=e||new L)._set(n*this._a+t*this._c+this._tx,n*this._b+t*this._d+this._ty,i)},_transformCoordinates:function(t,e,i){for(var n=0,r=2*i;n<r;n+=2){var s=t[n],a=t[n+1];e[n]=s*this._a+a*this._c+this._tx,e[n+1]=s*this._b+a*this._d+this._ty}return e},_transformCorners:function(t){var e=t.x,i=t.y,n=e+t.width,t=i+t.height,i=[e,i,n,i,n,t,e,t];return this._transformCoordinates(i,i,4)},_transformBounds:function(t,e,i){for(var n=this._transformCorners(t),r=n.slice(0,2),s=r.slice(),a=2;a<8;a++){var o=n[a],h=1&a;o<r[h]?r[h]=o:o>s[h]&&(s[h]=o)}return(e=e||new x)._set(r[0],r[1],s[0]-r[0],s[1]-r[1],i)},inverseTransform:function(){return this._inverseTransform(L.read(arguments))},_inverseTransform:function(t,e,i){var n=this._a,r=this._b,s=this._c,a=this._d,o=this._tx,h=this._ty,l=n*a-r*s,c=null;return l&&!isNaN(l)&&isFinite(o)&&isFinite(h)&&(o=t.x-this._tx,h=t.y-this._ty,c=(e=e||new L)._set((o*a-h*s)/l,(h*n-o*r)/l,i)),c},decompose:function(){var t,e,i,n=this._a,r=this._b,s=this._c,a=this._d,o=n*a-r*s,h=Math.sqrt,l=Math.atan2,c=180/Math.PI;return h=0!==n||0!==r?(i=h(n*n+r*r),t=Math.acos(n/i)*(0<r?1:-1),e=[i,o/i],[l(n*s+r*a,i*i),0]):0!==s||0!==a?(i=h(s*s+a*a),t=Math.asin(s/i)*(0<a?1:-1),e=[o/i,i],[0,l(n*s+r*a,i*i)]):e=[t=0,0],{translation:this.getTranslation(),rotation:t*c,scaling:new L(e),skewing:new L(h[0]*c,h[1]*c)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new L(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},j.each(["a","b","c","d","tx","ty"],function(t){var e=j.capitalize(t),i="_"+t;this["get"+e]=function(){return this[i]},this["set"+e]=function(t){this[i]=t,this._changed()}},{})),M=j.extend({_class:"Line",initialize:function(t,e,i,n,r){(4<=arguments.length?(this._px=t,this._py=e,this._vx=i,this._vy=n,r):(this._px=t.x,this._py=t.y,this._vx=e.x,this._vy=e.y,i))||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new L(this._px,this._py)},getVector:function(){return new L(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,e){return M.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e)},getSide:function(t,e){return M.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e)},getDistance:function(t){return Math.abs(this.getSignedDistance(t))},getSignedDistance:function(t){return M.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0)},isCollinear:function(t){return L.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return L.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,e,i,n,r,s,a,o,h,l){h||(i-=t,n-=e,a-=r,o-=s);h=i*o-n*a;if(!F.isMachineZero(h)){r=t-r,s=e-s,a=(a*s-o*r)/h,o=(i*s-n*r)/h;if(l||-1e-12<a&&a<1+1e-12&&-1e-12<o&&o<1+1e-12)return new L(t+(a=l?a:a<=0?0:1<=a?1:a)*i,e+a*n)}},getSide:function(t,e,i,n,r,s,a,o){a||(i-=t,n-=e);a=r-t,r=a*n-(s-e)*i;return(r=!o&&F.isMachineZero(r)&&0<=(r=(a*i+a*i)/(i*i+n*n))&&r<=1?0:r)<0?-1:0<r?1:0},getSignedDistance:function(t,e,i,n,r,s,a){return a||(i-=t,n-=e),0===i?0<n?r-t:t-r:0===n?i<0?s-e:e-s:((r-t)*n-(s-e)*i)/(i<n?n*Math.sqrt(1+i*i/(n*n)):i*Math.sqrt(1+n*n/(i*i)))},getDistance:function(t,e,i,n,r,s,a){return Math.abs(M.getSignedDistance(t,e,i,n,r,s,a))}}}),h=e.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(t){e.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new st(null,null,this),this._view=D.create(this,t||A.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,e){return j.serialize(this._children,t,!0,e)},_changed:function(t,e){1&t&&(s=this._view)&&(s._needsUpdate=!0,!s._requested)&&s._autoUpdate&&s.requestUpdate();var i,n,r,s=this._changes;s&&e&&((r=(i=this._changesById)[n=e._id])?r.flags|=t:s.push(i[n]={item:e,flags:t}))},clear:function(){for(var t=this._children,e=t.length-1;0<=e;e--)t[e].remove()},isEmpty:function(){return!this._children.length},remove:function t(){return!!t.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.set(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new Z({project:this,insert:!0})},getSymbolDefinitions:function(){var i=[],n={};return this.getItems({class:Y,match:function(t){var t=t._definition,e=t._id;return n[e]||(n[e]=!0,i.push(t)),!1}}),i},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t,e=this._selectionItems,i=[];for(t in e){var n=e[t],r=n._selection;1&r&&n.isInserted()?i.push(n):r||this._updateSelection(n)}return i},_updateSelection:function(t){var e=t._id,i=this._selectionItems;t._selection?i[e]!==t&&(this._selectionCount++,i[e]=t):i[e]===t&&(this._selectionCount--,delete i[e])},selectAll:function(){for(var t=this._children,e=0,i=t.length;e<i;e++)t[e].setFullySelected(!0)},deselectAll:function(){var t,e=this._selectionItems;for(t in e)e[t].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(V,t)},insertLayer:function(t,e){return e instanceof Z?(e._remove(!1,!0),j.splice(this._children,[e],t,0),e._setProject(this,!0),(t=e._name)&&e.setName(t),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)):e=null,e},_insertItem:function(t,e,i){return e=this.insertLayer(t,e)||(this._activeLayer||this._insertItem(V,new Z(z.NO_INSERT),!0)).insertChild(t,e),i&&e.activate&&e.activate(),e},getItems:function(t){return z._getItems(this,t)},getItem:function(t){return z._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var e=this._activeLayer;return j.importJSON(t,e&&e.isEmpty()&&e)},removeOn:function(t){var e=this._removeSets;if(e){"mouseup"===t&&(e.mousedrag=null);var i=e[t];if(i){for(var n in i){var r,s=i[n];for(r in e){var a=e[r];a&&a!=i&&delete a[s._id]}s.remove()}e[t]=null}}},draw:function(t,e,i){this._updateVersion++,t.save(),e.applyToContext(t);for(var n=this._children,r=new j({offset:new L(0,0),pixelRatio:i,viewMatrix:e.isIdentity()?null:e,matrices:[new N],updateMatrix:!0}),s=0,a=n.length;s<a;s++)n[s].draw(t,r);if(t.restore(),0<this._selectionCount){t.save(),t.strokeWidth=1;var o,h=this._selectionItems,l=this._scope.settings.handleSize,c=this._updateVersion;for(o in h)h[o]._drawSelection(t,e,l,h,c);t.restore()}}}),z=j.extend(t,{statics:{extend:function t(e){return e._serializeFields&&(e._serializeFields=j.set({},this.prototype._serializeFields,e._serializeFields)),t.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new N,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return j.each(t,function(t){this._events[t]={install:function(t){this.getView()._countItemEvent(t,1)},uninstall:function(t){this.getView()._countItemEvent(t,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,e){var i=t&&j.isPlainObject(t),n=i&&!0===t.internal,r=this._matrix=new N,s=i&&t.project||B.project,a=B.settings;return this._id=n?null:o.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&a.applyMatrix,e&&r.translate(e),(r._owner=this)._style=new st(s._currentStyle,this,s),n||i&&0==t.insert||!a.insertItems&&(!i||!0!==t.insert)?this._setProject(s):(i&&t.parent||s)._insertItem(V,this,!0),i&&t!==z.NO_INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),i},_serialize:function(n,r){var s={},a=this;function t(t){for(var e in t){var i=a[e];j.equals(i,"leading"===e?1.2*t.fontSize:t[e])||(s[e]=j.serialize(i,n,"data"!==e,r))}}return t(this._serializeFields),this instanceof g||t(this._style._defaults),[this._class,s]},_changed:function(t){var e=this._symbol,i=this._parent||e,n=this._project;8&t&&(this._bounds=this._position=this._decomposed=V),16&t&&(this._globalMatrix=V),i&&72&t&&z._clearBoundsCache(i),2&t&&z._clearBoundsCache(this),n&&n._changed(t,this),e&&e._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var e,i=this._getOwner();t&&i&&(e=i._children,((i=i._namedChildren)[t]=i[t]||[]).push(this),t in e||(e[t]=this)),this._name=t||V,this._changed(256)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},j.each(["locked","visible","blendMode","opacity","guide"],function(e){var t=j.capitalize(e),i="_"+e,n={locked:256,visible:265};this["get"+t]=function(){return this[i]},this["set"+t]=function(t){t!=this[i]&&(this[i]=t,this._changed(n[e]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){t!==this._selection&&(this._selection=t,t=this._project)&&(t._updateSelection(this),this._changed(257))},_changeSelection:function(t,e){var i=this._selection;this.setSelection(e?i|t:i&~t)},isSelected:function(){if(this._selectChildren)for(var t=this._children,e=0,i=t.length;e<i;e++)if(t[e].isSelected())return!0;return!!(1&this._selection)},setSelected:function(t){if(this._selectChildren)for(var e=this._children,i=0,n=e.length;i<n;i++)e[i].setSelected(t);this._changeSelection(1,t)},isFullySelected:function(){var t=this._children,e=!!(1&this._selection);if(t&&e){for(var i=0,n=t.length;i<n;i++)if(!t[i].isFullySelected())return!1;return!0}return e},setFullySelected:function(t){var e=this._children;if(e)for(var i=0,n=e.length;i<n;i++)e[i].setFullySelected(t);this._changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&((this._clipMask=t)&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent)&&this._parent._changed(2048)},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var t=t?L:l,e=this._position||(this._position=this._getPositionFromBounds());return new t(e.x,e.y,this,"setPosition")},setPosition:function(){this.translate(L.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(t){return this._pivot?this._matrix._transformPoint(this._pivot):(t||this.getBounds()).getCenter(!0)},getPivot:function(){var t=this._pivot;return t?new l(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=L.read(arguments,0,{clone:!0,readNull:!0}),this._position=V}},j.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(e,t){this[t]=function(t){return this.getBounds(t,e)}},{beans:!0,getBounds:function(t,e){var i=e||t instanceof N,n=j.set({},i?e:t,this._boundsOptions),i=(n.stroke&&!this.getStrokeScaling()||(n.cacheItem=this),this._getCachedBounds(i&&t,n).rect);return arguments.length?i:new r(i.x,i.y,i.width,i.height,this,"setBounds")},setBounds:function(){var t=x.read(arguments),e=this.getBounds(),i=this._matrix,n=new N,r=t.getCenter();n.translate(r),t.width==e.width&&t.height==e.height||(i.isInvertible()||(i.set(i._backup||(new N).translate(i.getTranslation())),e=this.getBounds()),n.scale(0!==e.width?t.width/e.width:0,0!==e.height?t.height/e.height:0)),r=e.getCenter(),n.translate(-r.x,-r.y),this.transform(n)},_getBounds:function(t,e){var i=this._children;return i&&i.length?(z._updateBoundsCache(this,e.cacheItem),z._getBounds(i,t,e)):new x},_getBoundsCacheKey:function(t,e){return[t.stroke?1:0,t.handle?1:0,e?1:0].join("")},_getCachedBounds:function(t,e,i){t=t&&t._orNullIfIdentity();var n,i=e.internal&&!i,r=e.cacheItem,s=i?null:this._matrix._orNullIfIdentity(),a=r&&(!t||t.equals(s))&&this._getBoundsCacheKey(e,i),o=this._bounds;return z._updateBoundsCache(this._parent||this._symbol,r),a&&o&&a in o?{rect:(n=o[a]).rect.clone(),nonscaling:n.nonscaling}:(t=(r=this._getBounds(t||s,e)).rect||r,s=this._style,e=r.nonscaling||s.hasStroke()&&!s.getStrokeScaling(),a&&(o||(this._bounds=o={}),n=o[a]={rect:t.clone(),nonscaling:e,internal:i}),{rect:t,nonscaling:e})},_getStrokeMatrix:function(t,e){e=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,e=e?e.getViewMatrix().invert():t;return e&&e._shiftless()},statics:{_updateBoundsCache:function(t,e){var i;t&&e&&(i=e._id,(t=t._boundsCache=t._boundsCache||{ids:{},list:[]}).ids[i]||(t.list.push(e),t.ids[i]=e))},_clearBoundsCache:function(t){var e=t._boundsCache;if(e){t._bounds=t._position=t._boundsCache=V;for(var i=0,n=e.list,r=n.length;i<r;i++){var s=n[i];s!==t&&(s._bounds=s._position=V,s._boundsCache)&&z._clearBoundsCache(s)}}},_getBounds:function(t,e,i){var n=l=1/0,r=c=-l,s=!1;i=i||{};for(var a=0,o=t.length;a<o;a++){var h,l,c,u=t[a];u._visible&&!u.isEmpty(!0)&&(h=(u=u._getCachedBounds(e&&e.appended(u._matrix),i,!0)).rect,l=Math.min(h.x,l),n=Math.min(h.y,n),c=Math.max(h.x+h.width,c),r=Math.max(h.y+h.height,r),u.nonscaling)&&(s=!0)}return{rect:isFinite(l)?new x(l,n,c-l,r-n):new x,nonscaling:s}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var e,i=this.getRotation();null!=i&&null!=t&&(e=this._decomposed,this.rotate(t-i),e)&&(e.rotation=t,this._decomposed=e)},getScaling:function(){var t=this._decompose(),t=t&&t.scaling;return new l(t?t.x:1,t?t.y:1,this,"setScaling")},setScaling:function(){var t,e,i,n,r=this.getScaling(),s=L.read(arguments,0,{clone:!0,readNull:!0});r&&s&&!r.equals(s)&&(t=this.getRotation(),e=this._decomposed,i=new N,(n=F.isZero)(r.x)||n(r.y)?(i.translate(e.translation),t&&i.rotate(t),i.scale(s.x,s.y),this._matrix.set(i)):(n=this.getPosition(!0),i.translate(n),t&&i.rotate(t),i.scale(s.x/r.x,s.y/r.y),t&&i.rotate(-t),i.translate(n.negate()),this.transform(i)),e)&&(e.scaling=s,this._decomposed=e)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},getGlobalMatrix:function(t){if(n=this._globalMatrix)for(var e=this._parent,i=[];e;){if(!e._globalMatrix){for(var n=null,r=0,s=i.length;r<s;r++)i[r]._globalMatrix=null;break}i.push(e),e=e._parent}return!n&&(n=this._globalMatrix=this._matrix.clone(),e=this._parent)&&n.prepend(e.getGlobalMatrix(!0)),t?n:n.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var i=this._children,n=0,r=i&&i.length;n<r;n++)i[n]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function t(e){t.base.call(this,e);for(var i=this._children,n=0,r=i&&i.length;n<r;n++)i[n]._installEvents(e)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof Z)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return j.equals(this._children,t._children)},clone:function(t){var e=new this.constructor(z.NO_INSERT),i=this._children,n=j.pick(t?t.insert:V,t===V||!0===t),t=j.pick(t?t.deep:V,!0),r=(i&&e.copyAttributes(this),i&&!t||e.copyContent(this),i||e.copyAttributes(this),n&&e.insertAbove(this),this._name),t=this._parent;if(r&&t){for(var i=t._children,s=r,a=1;i[r];)r=s+" "+a++;r!==s&&e.setName(r)}return e},copyContent:function(t){for(var e=t._children,i=0,n=e&&e.length;i<n;i++)this.addChild(e[i].clone(!1),!0)},copyAttributes:function(t,e){this.setStyle(t._style);for(var i=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],n=0,r=i.length;n<r;n++){var s=i[n];t.hasOwnProperty(s)&&(this[s]=t[s])}e||this._matrix.set(t._matrix,!0),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var e=t._data,a=t._name;this._data=e?j.clone(e):null,a&&this.setName(a)},rasterize:function(t,e){j.isPlainObject(t)?(s=t.resolution,i=t.insert,n=t.raster):(s=t,i=e),n?n.matrix.reset(!0):n=new X(z.NO_INSERT);var i,n,r,t=this.getStrokeBounds(),e=(s||this.getView().getResolution())/72,s=t.getTopLeft().floor(),t=t.getBottomRight().ceil(),t=new O(t.subtract(s)),a=t.multiply(e);return n.setSize(a,!0),a.isZero()||(a=n.getContext(!0),r=(new N).scale(e).translate(s.negate()),a.save(),r.applyToContext(a),this.draw(a,new j({matrices:[r]})),a.restore()),n.transform((new N).translate(s.add(t.divide(2))).scale(1/e)),i!==V&&!i||n.insertAbove(this),n},contains:function(){var t=this._matrix;return t.isInvertible()&&!!this._contains(t._inverseTransform(L.read(arguments)))},_contains:function(t){var e=this._children;if(e){for(var i=e.length-1;0<=i;i--)if(e[i].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return x.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new W.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof z&&0<this._asPathItem().getIntersections(t._asPathItem(),null,e,!0).length}},new function(){function t(){var t=arguments;return this._hitTest(L.read(t),P.getOptions(t))}function e(){var t=arguments,e=L.read(t),t=P.getOptions(t),i=[];return this._hitTest(e,new j({all:i},t)),i}function i(t,e,i,n){var r=this._children;if(r)for(var s=r.length-1;0<=s;s--){var a=r[s],a=a!==n&&a._hitTest(t,e,i);if(a&&!e.all)return a}return null}return h.inject({hitTest:t,hitTestAll:e,_hitTest:i}),{hitTest:t,hitTestAll:e,_hitTestChildren:i}},{_hitTest:function(n,e,t){if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var i=this._matrix,t=t?t.appended(i):this.getGlobalMatrix().prepend(this.getView()._matrix),r=Math.max(e.tolerance,1e-12),s=e._tolerancePadding=new O(W._getStrokePadding(r,i._shiftless().invert()));if(!(n=i._inverseTransform(n))||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(s.multiply(2))._containsPoint(n))return null;var a,o,r=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==j.hyphenate(this._class)||e.class&&!(this instanceof e.class)),h=e.match,l=this;function c(t){return(t=t&&h&&!h(t)?null:t)&&e.all&&e.all.push(t),t}function u(t,e){var i=e?a["get"+e]():l.getPosition();if(n.subtract(i).divide(s).length<=1)return new P(t,l,{name:e?j.hyphenate(e):t,point:i})}var p=e.position,d=e.center,f=e.bounds;if(r&&this._parent&&(p||d||f)){if((d||f)&&(a=this.getInternalBounds()),!(o=p&&u("position")||d&&u("center","Center"))&&f)for(var g=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],m=0;m<8&&!o;m++)o=u("bounds",g[m]);o=c(o)}return(o=o||this._hitTestChildren(n,e,t)||r&&c(this._hitTestSelf(n,e,t,this.getStrokeScaling()?null:t._shiftless().invert()))||null)&&o.point&&(o.point=i.transform(o.point)),o},_hitTestSelf:function(t,e){if(e.fill&&this.hasFill()&&this._contains(t))return new P("fill",this)},matches:function(t,e){var i=typeof t;if("object"==i){for(var n in t)if(t.hasOwnProperty(n)&&!this.matches(n,t[n]))return!1;return!0}if("function"==i)return t(this);if("match"===t)return e(this);i=/^(empty|editable)$/.test(t)?this["is"+j.capitalize(t)]():"type"===t?j.hyphenate(this._class):this[t];if("class"===t){if("function"==typeof e)return this instanceof e;i=this._class}if("function"==typeof e)return!!e(i);if(e){if(e.test)return e.test(i);if(j.isPlainObject(e))return function t(e,i){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n],n=i[n];if(j.isPlainObject(r)&&j.isPlainObject(n)){if(!t(r,n))return!1}else if(!j.equals(r,n))return!1}return!0}(e,i)}return j.equals(i,e)},getItems:function(t){return z._getItems(this,t,this._matrix)},getItem:function(t){return z._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function t(e,i,n,r,s){r||(o=(a="object"==typeof i&&i)&&a.overlapping,h=a&&a.inside,u=(_=o||h)&&x.read([_]),r={items:[],recursive:a&&!1!==a.recursive,inside:!!h,overlapping:!!o,rect:u,path:o&&new W.Rectangle({rectangle:u,insert:!1})},a&&(i=j.filter({},i,{recursive:!0,inside:!0,overlapping:!0})));var a,o,h,l=e._children,c=r.items,u=r.rect;n=u&&(n||new N);for(var p=0,d=l&&l.length;p<d;p++){var f=l[p],g=n&&n.appended(f._matrix),m=!0;if(u){var _=f.getBounds(g);if(!u.intersects(_))continue;u.contains(_)||r.overlapping&&(_.contains(u)||r.path.intersects(f,g))||(m=!1)}if(m&&f.matches(i)&&(c.push(f),s))break;if(!1!==r.recursive&&t(f,i,g,r,s),s&&0<c.length)break}return c}}},{importJSON:function(t){t=j.importJSON(t,this);return t!==this?this.addChild(t):t},addChild:function(t){return this.insertChild(V,t)},insertChild:function(t,e){t=e?this.insertChildren(t,[e]):null;return t&&t[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,e){var i=this._children;if(i&&e&&0<e.length){for(var n={},r=(e=j.slice(e)).length-1;0<=r;r--){var s=(l=e[r])&&l._id;!l||n[s]?e.splice(r,1):(l._remove(!1,!0),n[s]=!0)}j.splice(i,e,t,0);for(var a=this._project,o=a._changes,r=0,h=e.length;r<h;r++){var l,c=(l=e[r])._name;l._parent=this,l._setProject(a,!0),c&&l.setName(c),o&&l._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(t,e){var i=t&&t._getOwner(),n=t!==this&&i?this:null;return n&&(n._remove(!1,!0),i._insertItem(t._index+e,n)),n},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(V,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(t){return t._insertItem(V,this)},copyTo:function(t){return this.clone(!1).addTo(t)},reduce:function(t){var e=this._children;return e&&1===e.length?(e=e[0].reduce(t),(this._parent?(e.insertAbove(this),this):e).remove(),e):this},_removeNamed:function(){var t,e,i,n,r=this._getOwner();r&&(t=r._children,-1!==(n=(i=(r=r._namedChildren)[e=this._name])?i.indexOf(this):-1))&&(t[e]==this&&delete t[e],i.splice(n,1),i.length?t[e]=i[0]:delete r[e])},_remove:function(t,e){var i=this._getOwner(),n=this._project,r=this._index;return this._style&&this._style._dispose(),!(!i||(this._name&&this._removeNamed(),null!=r&&(n._activeLayer===this&&(n._activeLayer=this.getNextSibling()||this.getPreviousSibling()),j.splice(i._children,null,r,1)),this._installEvents(!1),t&&n._changes&&this._changed(5),e&&i._changed(11,this),this._parent=null))},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){t=t&&t.insertBelow(this);return t&&this.remove(),t},removeChildren:function(t,e){if(!this._children)return null;t=t||0,e=j.pick(e,this._children.length);for(var i=j.splice(this._children,null,t,e-t),n=i.length-1;0<=n;n--)i[n]._remove(!0,!1);return 0<i.length&&this._changed(11),i},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,e=this._children.length;t<e;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(t){var e=this._children,i=e?e.length:0;if(t){for(var n=0;n<i;n++)if(!e[n].isEmpty(t))return!1;return!0}return!i},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(t){for(var e=[];e.unshift(t),t=t._parent;);return e}for(var i=e(this),n=e(t),r=0,s=Math.min(i.length,n.length);r<s;r++)if(i[r]!=n[r])return i[r]._index<n[r]._index?1:-1;return 0},hasChildren:function(){return this._children&&0<this._children.length},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(t){return-1===this._getOrder(t)},isBelow:function(t){return 1===this._getOrder(t)},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var e=this;e=e._parent;)if(e===t)return!0;return!1},isAncestor:function(t){return!!t&&t.isDescendant(this)},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1}},j.each(["rotate","scale","shear","skew"],function(i){var n="rotate"===i;this[i]=function(){var t=arguments,e=(n?j:L).read(t),t=L.read(t,0,{readNull:!0});return this.transform((new N)[i](e,t||this.getPosition(!0)))}},{translate:function(){var t=new N;return this.transform(t.translate.apply(t,arguments))},transform:function(t,e,i){var n=this._matrix,r=t&&!t.isIdentity(),s=i&&this._canApplyMatrix||this._applyMatrix&&(r||!n.isIdentity()||e&&this._children);if(r||s){r&&(!t.isInvertible()&&n.isInvertible()&&(n._backup=n.getValues()),n.prepend(t,!0),c=(o=this._style).getFillColor(!0),o=o.getStrokeColor(!0),c&&c.transform(t),o)&&o.transform(t),(s=s&&this._transformContent(n,e,i))&&((c=this._pivot)&&n._transformPoint(c,c,!0),n.reset(!0),i)&&this._canApplyMatrix&&(this._applyMatrix=!0);var a=this._bounds,o=this._position,e=((r||s)&&this._changed(25),r&&a&&t.decompose());if(e&&e.skewing.isZero()&&e.rotation%90==0){for(var h in a){var l=a[h];l.nonscaling?delete a[h]:!s&&l.internal||(h=l.rect,t._transformBounds(h,h))}var c=(this._bounds=a)[this._getBoundsCacheKey(this._boundsOptions||{})];c&&(this._position=this._getPositionFromBounds(c.rect))}else r&&o&&this._pivot&&(this._position=t._transformPoint(o,o))}return this},_transformContent:function(t,e,i){var n=this._children;if(n){for(var r=0,s=n.length;r<s;r++)n[r].transform(t,e,i);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(L.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(L.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(L.read(arguments))},localToParent:function(){return this._matrix._transformPoint(L.read(arguments))},fitBounds:function(t,e){t=x.read(arguments);var i=this.getBounds(),n=i.height/i.width,r=t.height/t.width,n=(e?r<n:n<r)?t.width/i.width:t.height/i.height,r=new x(new L,new O(i.width*n,i.height*n));r.setCenter(t.getCenter()),this.setBounds(r)}}),{_setStyles:function(t,e,i){var n,r,s=this._style,a=this._matrix;s.hasFill()&&(t.fillStyle=s.getFillColor().toCanvasStyle(t,a)),s.hasStroke()&&(t.strokeStyle=s.getStrokeColor().toCanvasStyle(t,a),t.lineWidth=s.getStrokeWidth(),a=s.getStrokeJoin(),r=s.getStrokeCap(),n=s.getMiterLimit(),a&&(t.lineJoin=a),r&&(t.lineCap=r),n&&(t.miterLimit=n),B.support.nativeDash)&&(a=s.getDashArray(),r=s.getDashOffset(),a)&&a.length&&("setLineDash"in t?(t.setLineDash(a),t.lineDashOffset=r):(t.mozDash=a,t.mozDashOffset=r)),s.hasShadow()&&(n=e.pixelRatio||1,r=(a=i._shiftless().prepend((new N).scale(n,n))).transform(new L(s.getShadowBlur(),0)),e=a.transform(this.getShadowOffset()),t.shadowColor=s.getShadowColor().toCanvasStyle(t),t.shadowBlur=r.getLength(),t.shadowOffsetX=e.x,t.shadowOffsetY=e.y)},draw:function(t,e,i){this._updateVersion=this._project._updateVersion;if(this._visible&&0!==this._opacity){var n=e.matrices,r=e.viewMatrix,s=this._matrix,a=n[n.length-1].appended(s);if(a.isInvertible()){r=r?r.appended(a):a,n.push(a),e.updateMatrix&&(this._globalMatrix=a);var o,h,l,a=this._blendMode,c=F.clamp(this._opacity,0,1),u="normal"===a,p=gt.nativeModes[a],u=u&&1===c||e.dontStart||e.clip||(p||u&&c<1)&&this._canComposite(),d=e.pixelRatio||1;if(!u){var f=this.getStrokeBounds(r);if(!f.width||!f.height)return void n.pop();l=e.offset,h=e.offset=f.getTopLeft().floor(),o=t,t=A.getContext(f.getSize().ceil().add(1).multiply(d)),1!==d&&t.scale(d,d)}t.save();var f=i?i.appended(s):this._canScaleStroke&&!this.getStrokeScaling(!0)&&r,i=!u&&e.clipItem,g=!f||i;u?(t.globalAlpha=c,p&&(t.globalCompositeOperation=a)):g&&t.translate(-h.x,-h.y),g&&(u?s:r).applyToContext(t),i&&e.clipItem.draw(t,e.extend({clip:!0})),f&&(t.setTransform(d,0,0,d,0,0),p=e.offset)&&t.translate(-p.x,-p.y),this._draw(t,e,r,f),t.restore(),n.pop(),e.clip&&!e.dontFinish&&t.clip(this.getFillRule()),u||(gt.process(a,t,o,c,h.subtract(l).multiply(d)),A.release(t),e.offset=l)}}},_isUpdated:function(t){var e,i=this._parent;return i instanceof G?i._isUpdated(t):(!(e=this._updateVersion===t)&&i&&i._visible&&i._isUpdated(t)&&(this._updateVersion=t,e=!0),e)},_drawSelection:function(t,e,i,n,r){var s=this._selection,a=1&s,o=2&s||a&&this._selectBounds,s=4&s;if(((a=this._drawSelected?a:!1)||o||s)&&this._isUpdated(r)){var r=this.getSelectedColor(!0)||(r=this.getLayer())&&r.getSelectedColor(!0),e=e.appended(this.getGlobalMatrix(!0)),h=i/2;if(t.strokeStyle=t.fillStyle=r?r.toCanvasStyle(t):"#009dec",a&&this._drawSelected(t,e,n),s)for(var r=this.getPosition(!0),a=this._parent,n=a?a.localToGlobal(r):r,l=n.x,c=n.y,u=(t.beginPath(),t.arc(l,c,h,0,2*Math.PI,!0),t.stroke(),[[0,-1],[1,0],[0,1],[-1,0]]),p=h,d=i+1,f=0;f<4;f++){var g=u[f],m=g[0],g=g[1];t.moveTo(l+m*p,c+g*p),t.lineTo(l+m*d,c+g*d),t.stroke()}if(o){var _=e._transformCorners(this.getInternalBounds());t.beginPath();for(f=0;f<8;f++)t[f?"lineTo":"moveTo"](_[f],_[++f]);t.closePath(),t.stroke();for(f=0;f<8;f++)t.fillRect(_[f]-h,_[++f]-h,i,i)}}},_canComposite:function(){return!1}},j.each(["down","drag","up","move"],function(e){this["removeOn"+j.capitalize(e)]=function(){var t={};return t[e]=!0,this.removeOn(t)}},{removeOn:function(t){for(var e in t){var i;t[e]&&(e="mouse"+e,(i=(i=this._project)._removeSets=i._removeSets||{})[e]=i[e]||{},i[e][this._id]=this)}return this}}),{tween:function(t,e,i){i||(i=e,e=t,t=null,i)||(i=e,e=null);var n=i&&i.easing,r=i&&i.start,i=null!=i&&("number"==typeof i?i:i.duration),s=new dt(this,t,e,i,n,r);return i&&this.on("frame",function t(e){s._handleFrame(1e3*e.time),s.running||this.off("frame",t)}),s},tweenTo:function(t,e){return this.tween(null,t,e)},tweenFrom:function(t,e){return this.tween(t,null,e)}}),g=z.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function t(e){t.base.call(this,e),2050&e&&(this._clipItem=V)},_getClipItem:function(){if((t=this._clipItem)===V){for(var t=null,e=this._children,i=0,n=e.length;i<n;i++)if(e[i]._clipMask){t=e[i];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_getBounds:function t(e,i){var n=this._getClipItem();return n?n._getCachedBounds(n._matrix.prepended(e),j.set({},i,{stroke:!1})):t.base.call(this,e,i)},_hitTestChildren:function t(e,i,n){var r=this._getClipItem();return(!r||r.contains(e))&&t.base.call(this,e,i,n,r)},_draw:function(t,e){for(var i=e.clip,n=!i&&this._getClipItem(),r=(e=e.extend({clipItem:n,clip:!1}),i?(t.beginPath(),e.dontStart=e.dontFinish=!0):n&&n.draw(t,e.extend({clip:!0})),this._children),s=0,a=r.length;s<a;s++){var o=r[s];o!==n&&o.draw(t,e)}}}),Z=g.extend({_class:"Layer",initialize:function(){g.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function t(){return this._parent?t.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),d=z.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t,e){this._initialize(t,e)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&j.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new n(t.width,t.height,this,"setSize")},setSize:function(){var t,e,i,n=O.read(arguments);this._size?this._size.equals(n)||(t=this._type,e=n.width,i=n.height,"rectangle"===t?this._radius.set(O.min(this._radius,n.divide(2).abs())):"circle"===t?(e=i=(e+i)/2,this._radius=e/2):"ellipse"===t&&this._radius._set(e/2,i/2),this._size._set(e,i),this._changed(9)):this._size=n.clone()},getRadius:function(){var t=this._radius;return"circle"===this._type?t:new n(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if("circle"===e){if(t===this._radius)return;var i=2*t;this._radius=t,this._size._set(i,i)}else if(t=O.read(arguments),this._radius){if(this._radius.equals(t))return;this._radius.set(t),"rectangle"===e?(i=O.max(this._size,t.multiply(2)),this._size.set(i)):"ellipse"===e&&this._size._set(2*t.width,2*t.height)}else this._radius=t.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var e=new W[j.capitalize(this._type)]({center:new L,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),B.settings.applyMatrix&&e.setApplyMatrix(!0),t!==V&&!t||e.insertAbove(this),e},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(t,e,i,n){var r,s,a,o,h,l=this._style,c=l.hasFill(),u=l.hasStroke(),p=e.dontFinish||e.clip,d=!n;(c||u||p)&&(a=this._type,o=this._radius,s="circle"===a,e.dontStart||t.beginPath(),d&&s?t.arc(0,0,o,0,2*Math.PI,!0):(r=s?o:o.width,s=s?o:o.height,h=(o=this._size).width,o=o.height,d&&"rectangle"===a&&0===r&&0===s?t.rect(-h/2,-o/2,h,o):(h=[-(d=h/2),-(a=o/2)+s,-d,(o=s*(h=.44771525016920644))-a,(h=r*h)-d,-a,-d+r,-a,d-r,-a,d-h,-a,d,o-a,d,-a+s,d,a-s,d,a-o,d-h,a,d-r,a,-d+r,a,h-d,a,-d,a-o,-d,a-s],n&&n.transform(h,h,32),t.moveTo(h[0],h[1]),t.bezierCurveTo(h[2],h[3],h[4],h[5],h[6],h[7]),d!==r&&t.lineTo(h[8],h[9]),t.bezierCurveTo(h[10],h[11],h[12],h[13],h[14],h[15]),a!==s&&t.lineTo(h[16],h[17]),t.bezierCurveTo(h[18],h[19],h[20],h[21],h[22],h[23]),d!==r&&t.lineTo(h[24],h[25]),t.bezierCurveTo(h[26],h[27],h[28],h[29],h[30],h[31]))),t.closePath()),p||!c&&!u||(this._setStyles(t,e,i),c&&(t.fill(l.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),u&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var i=new x(this._size).setCenter(0,0),n=this._style,n=e.stroke&&n.hasStroke()&&n.getStrokeWidth();return t&&(i=t._transformBounds(i)),n?i.expand(W._getStrokePadding(n,this._getStrokeMatrix(t,e))):i}},new function(){function p(t,e,i){var n=t._radius;if(!n.isZero())for(var r=t._size.divide(2),s=1;s<=4;s++){var a=new L(1<s&&s<4?-1:1,2<s?-1:1),o=a.multiply(r),h=o.subtract(a.multiply(n));if(new x(i?o.add(a.multiply(i)):o,h).contains(e))return{point:h,quadrant:s}}}function d(t,e,i,n){t=t.divide(e);return(!n||t.isInQuadrant(n))&&t.subtract(t.normalize()).multiply(e).divide(i).length<=1}return{_contains:function t(e){var i;return"rectangle"===this._type?(i=p(this,e))?e.subtract(i.point).divide(this._radius).getLength()<=1:t.base.call(this,e):e.divide(this.size).getLength()<=.5},_hitTestSelf:function t(e,i,n,r){var s,a,o,h=!1,l=this._style,c=i.stroke&&l.hasStroke(),u=i.fill&&l.hasFill();return(c||u)&&(u=this._type,s=this._radius,a=c?l.getStrokeWidth()/2:0,a=i._tolerancePadding.add(W._getStrokePadding(a,!l.getStrokeScaling()&&r)),h="rectangle"===u?(u=p(this,e,l=a.multiply(2)))?d(e.subtract(u.point),s,a,u.quadrant):(o=(u=new x(this._size).setCenter(0,0)).expand(l),u=u.expand(l.negate()),o._containsPoint(e)&&!u._containsPoint(e)):d(e,s,a)),h?new P(c?"stroke":"fill",this):t.base.apply(this,arguments)}}},{statics:new function(){function n(t,e,i,n,r){var s=j.create(d.prototype);return s._type=t,s._size=i,s._radius=n,s._initialize(j.getNamed(r),e),s}return{Circle:function(){var t=arguments,e=L.readNamed(t,"center"),i=j.readNamed(t,"radius");return n("circle",e,new O(2*i),i,t)},Rectangle:function(){var t=arguments,e=x.readNamed(t,"rectangle"),i=O.min(O.readNamed(t,"radius"),e.getSize(!0).divide(2));return n("rectangle",e.getCenter(!0),e.getSize(!0),i,t)},Ellipse:function(){var t=arguments,e=d._readEllipse(t),i=e.radius;return n("ellipse",e.center,i.multiply(2),i,t)},_readEllipse:function(t){var e;return t=j.hasNamed(t,"radius")?(e=L.readNamed(t,"center"),O.readNamed(t,"radius")):(e=(t=x.readNamed(t,"rectangle")).getCenter(!0),t.getSize(!0).divide(2)),{center:e,radius:t}}}}}),X=z.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(t,e){var i,n;this._initialize(t,e!==V&&L.read(arguments))||((n="string"==(n=typeof t)?I.getElementById(t):"object"==n?t:null)&&n!==z.NO_INSERT&&(n.getContext||null!=n.naturalHeight?i=n:n&&!(n=O.read(arguments)).isZero()&&(i=A.getCanvas(n))),i?this.setImage(i):this.setSource(t)),this._size||(this._size=new O,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var e=t._image,i=t._canvas;e?this._setImage(e):i&&((e=A.getCanvas(t._size)).getContext("2d").drawImage(i,0,0),this._setImage(e)),this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new n(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(t,e){var i,n=O.read(arguments);n.equals(this._size)?e&&this.clear():0<n.width&&0<n.height?(i=!e&&this.getElement(),this._setImage(A.getCanvas(n)),i&&this.getContext(!0).drawImage(i,0,0,n.width,n.height)):(this._canvas&&A.release(this._canvas),this._size=n.clone())},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||0===t.width&&0===t.height},getResolution:function(){var t=this._matrix,e=new L(0,0).transform(t),i=new L(1,0).transform(t).subtract(e),t=new L(0,1).transform(t).subtract(e);return new O(72/i.getLength(),72/t.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(e){var n=this;function i(t){var e=n.getView(),i=t&&t.type||"load";e&&n.responds(i)&&(B=e._scope,n.emit(i,new ot(t)))}this._setImage(e),this._loaded?setTimeout(i,0):e&&R.add(e,{load:function(t){n._setImage(e),i(t)},error:i})},_setImage:function(t){this._canvas&&A.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new O(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var e=A.getContext(this._size);try{this._image&&e.drawImage(this._image,0,0),this._canvas=e.canvas}catch(t){A.release(e)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(1025)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(t){var e=new b.Image,i=this._crossOrigin;i&&(e.crossOrigin=i),t&&(e.src=t),this.setImage(e)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var e=this._image;e&&(e.crossOrigin=t)},getSmoothing:function(){return this._smoothing},setSmoothing:function(t){this._smoothing="string"==typeof t?t:t?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=x.read(arguments),e=A.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.canvas},getSubRaster:function(){var t=x.read(arguments),e=new X(z.NO_INSERT);return e._setImage(this.getSubCanvas(t)),e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var t=this._image,t=t&&t.src;return/^data:/.test(t)?t:(t=this.getCanvas())?t.toDataURL.apply(t,arguments):null},drawImage:function(t){var e=L.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){if(t?t instanceof $?n=(r=t).getBounds():"object"==typeof t&&("width"in t?n=new x(t):"x"in t&&(n=new x(t.x-.5,t.y-.5,1,1))):n=this.getBounds(),!n)return null;for(var t=Math.min(n.width,32),e=Math.min(n.height,32),i=X._sampleContext,n=(i?i.clearRect(0,0,33,33):i=X._sampleContext=A.getContext(new O(32)),i.save(),(new N).scale(t/n.width,e/n.height).translate(-n.x,-n.y)),r=(n.applyToContext(i),r&&r.draw(i,new j({clip:!0,matrices:[n]})),this._matrix.applyToContext(i),this.getElement()),n=this._size,s=(r&&i.drawImage(r,-n.width/2,-n.height/2),i.restore(),i.getImageData(.5,.5,Math.ceil(t),Math.ceil(e)).data),a=[0,0,0],o=0,h=0,l=s.length;h<l;h+=4){var c=s[h+3];o+=c,c/=255,a[0]+=s[h]*c,a[1]+=s[h+1]*c,a[2]+=s[h+2]*c}for(h=0;h<3;h++)a[h]/=o;return o?S.read(a):null},getPixel:function(){var t=L.read(arguments),t=this.getContext().getImageData(t.x,t.y,1,1).data;return new S("rgb",[t[0]/255,t[1]/255,t[2]/255],t[3]/255)},setPixel:function(){var t=arguments,e=L.read(t),t=S.read(t),i=t._convert("rgb"),t=t._alpha,n=this.getContext(!0),r=n.createImageData(1,1),s=r.data;s[0]=255*i[0],s[1]=255*i[1],s[2]=255*i[2],s[3]=null!=t?255*t:255,n.putImageData(r,e.x,e.y)},clear:function(){var t=this._size;this.getContext(!0).clearRect(0,0,t.width+1,t.height+1)},createImageData:function(){var t=O.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=x.read(arguments);return t.isEmpty()&&(t=new x(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},setImageData:function(t){var e=L.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},_getBounds:function(t,e){var i=new x(this._size).setCenter(0,0);return t?t._transformBounds(i):i},_hitTestSelf:function(t){var e;if(this._contains(t))return new P("pixel",e=this,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})},_draw:function(t,e,i){var n=this.getElement();n&&0<n.width&&0<n.height&&(t.globalAlpha=F.clamp(this._opacity,0,1),this._setStyles(t,e,i),e=this._smoothing,u.setPrefixed(t,(i="off"===e)?"imageSmoothingEnabled":"imageSmoothingQuality",!i&&e),t.drawImage(n,-this._size.width/2,-this._size.height/2))},_canComposite:function(){return!0}}),Y=z.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(t,e){this._initialize(t,e!==V&&L.read(arguments,1))||this.setDefinition(t instanceof m?t:new m(t))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,e){var i=this._definition._item;return i._getCachedBounds(i._matrix.prepended(t),e)},_hitTestSelf:function(t,e,i){e=e.extend({all:!1}),t=this._definition._item._hitTest(t,e,i);return t&&(t.item=this),t},_draw:function(t,e){this._definition._item.draw(t,e)}}),m=j.extend({_class:"SymbolDefinition",initialize:function(t,e){this._id=o.get(),this.project=B.project,t&&this.setItem(t,e)},_serialize:function(t,e){return e.add(this,function(){return j.serialize([this._class,this._item],t,!1,e)})},_changed:function(t){8&t&&z._clearBoundsCache(this),1&t&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,e){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),(this._item=t).remove(),t.setSelected(!1),e||t.setPosition(new L),(t._symbol=this)._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new Y(this,t)},clone:function(){return new m(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),P=j.extend({_class:"HitResult",initialize:function(t,e,i){this.type=t,this.item=e,i&&this.inject(i)},statics:{getOptions:function(t){t=t&&j.read(t);return new j({type:null,tolerance:B.settings.hitTolerance,fill:!t,stroke:!t,segments:!t,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},t)}}}),q=j.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(t,e,i,n,r,s){var a,o,h,l,c=arguments.length;0<c&&(null==t||"object"==typeof t?l=1===c&&t&&"point"in t?(a=t.point,o=t.handleIn,h=t.handleOut,t.selection):(a=t,o=e,h=i,n):(a=[t,e],o=i!==V?[i,n]:null,h=r!==V?[r,s]:null)),new Q(a,this,"_point"),new Q(o,this,"_handleIn"),new Q(h,this,"_handleOut"),l&&this.setSelection(l)},_serialize:function(t,e){var i=this._point,n=this._selection,i=n||this.hasHandles()?[i,this._handleIn,this._handleOut]:i;return n&&i.push(n),j.serialize(i,t,!0,e)},_changed:function(t){var e,i,n,r=this._path;r&&(e=r._curves,i=this._index,e&&(t&&t!==this._point&&t!==this._handleIn||!(n=0<i?e[i-1]:r._closed?e[e.length-1]:null)||n._changed(),t&&t!==this._point&&t!==this._handleOut||!(n=e[i])||n._changed()),r._changed(41))},getPoint:function(){return this._point},setPoint:function(){this._point.set(L.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(L.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(L.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,e=this._handleOut;return!t.isZero()&&!e.isZero()&&t.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var e=this._selection,i=this._path;this._selection=t=t||0,i&&t!==e&&(i._updateSelection(this,e,t),i._changed(257))},_changeSelection:function(t,e){var i=this._selection;this.setSelection(e?i|t:i&~t)},isSelected:function(){return!!(7&this._selection)},setSelected:function(t){this._changeSelection(7,t)},getIndex:function(){return this._index!==V?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t&&(0<e&&!t._closed&&e===t._segments.length-1&&e--,t.getCurves()[e])||null},getLocation:function(){var t=this.getCurve();return t?new H(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,e,i){var t=t||{},n=t.type,t=t.factor,r=this.getPrevious(),s=this.getNext(),a=(r||this)._point,o=this._point,h=(s||this)._point,l=a.getDistance(o),c=o.getDistance(h);if(n&&"catmull-rom"!==n){if("geometric"!==n)throw new Error("Smoothing method '"+n+"' not supported.");r&&s&&(n=a.subtract(h),d=(f=t===V?.4:t)*l/(l+c),e||this.setHandleIn(n.multiply(d)),i||this.setHandleOut(n.multiply(d-f)))}else{var u,p,n=t===V?.5:t,d=Math.pow(l,n),f=d*d,t=Math.pow(c,n),l=t*t;!e&&r&&(u=2*l+3*t*d+f,this.setHandleIn(0!==(p=3*t*(t+d))?new L((l*a._x+u*o._x-f*h._x)/p-o._x,(l*a._y+u*o._y-f*h._y)/p-o._y):new L)),!i&&s&&(u=2*f+3*d*t+l,this.setHandleOut(0!==(p=3*d*(d+t))?new L((f*h._x+u*o._x-l*a._x)/p-o._x,(f*h._y+u*o._y-l*a._y)/p-o._y):new L))}},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,e=this._handleOut,i=t.clone();t.set(e),e.set(i)},reversed:function(){return new q(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new q(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,e,i){var n=1-i,r=t._point,s=e._point,a=t._handleIn,o=e._handleIn,e=e._handleOut,t=t._handleOut;this._point._set(n*r._x+i*s._x,n*r._y+i*s._y,!0),this._handleIn._set(n*a._x+i*o._x,n*a._y+i*o._y,!0),this._handleOut._set(n*t._x+i*e._x,n*t._y+i*e._y,!0),this._changed()},_transformCoordinates:function(t,e,i){var n=this._point,r=i&&this._handleIn.isZero()?null:this._handleIn,s=i&&this._handleOut.isZero()?null:this._handleOut,a=n._x,o=n._y,h=2;return e[0]=a,e[1]=o,r&&(e[h++]=r._x+a,e[h++]=r._y+o),s&&(e[h++]=s._x+a,e[h++]=s._y+o),t&&(t._transformCoordinates(e,e,h/2),a=e[0],o=e[1],i?(n._x=a,n._y=o,h=2,r&&(r._x=e[h++]-a,r._y=e[h++]-o),s&&(s._x=e[h++]-a,s._y=e[h++]-o)):(r||(e[h++]=a,e[h++]=o),s||(e[h++]=a,e[h++]=o))),e}}),Q=L.extend({initialize:function(t,e,i){var n,r,s;t?(n=t[0])!==V?r=t[1]:((n=(s=t).x)===V&&(n=(s=L.read(arguments)).x),r=s.y,s=s.selected):n=r=0,this._x=n,this._y=r,(this._owner=e)[i]=this,s&&this.setSelected(!0)},_set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){var t=F.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),U=j.extend({_class:"Curve",beans:!0,initialize:function(t,e,i,n,r,s,a,o){var h,l,c,u,p,d,f=arguments.length;3===f?(this._path=t,h=e,l=i):f?1===f?"segment1"in t?(h=new q(t.segment1),l=new q(t.segment2)):"point1"in t?(c=t.point1,p=t.handle1,d=t.handle2,u=t.point2):Array.isArray(t)&&(c=[t[0],t[1]],u=[t[6],t[7]],p=[t[2]-t[0],t[3]-t[1]],d=[t[4]-t[6],t[5]-t[7]]):2===f?(h=new q(t),l=new q(e)):4===f?(c=t,p=e,d=i,u=n):8===f&&(c=[t,e],u=[a,o],p=[i-t,n-e],d=[r-a,s-o]):(h=new q,l=new q),this._segment1=h||new q(c,null,p),this._segment2=l||new q(u,d,null)},_serialize:function(t,e){return j.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,e)},_changed:function(){this._length=this._bounds=V},clone:function(){return new U(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return U.classify(this.getValues())},remove:function(){var t,e,i=!1;return this._path&&(e=(t=this._segment2)._handleOut,i=t.remove())&&this._segment1._handleOut.set(e),i},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(L.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(L.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(L.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(L.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return U.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],i=0;i<8;i+=2)e.push(new L(t[i],t[i+1]));return e}},{getLength:function(){return null==this._length&&(this._length=U.getLength(this.getValues(),0,1)),this._length},getArea:function(){return U.getArea(this.getValues())},getLine:function(){return new M(this._segment1._point,this._segment2._point)},getPart:function(t,e){return new U(U.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return U.getLength(this.getValues(),t,e)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(t,e){var i,n,r,s,a,o,h=null;return 1e-8<=t&&t<=1-1e-8&&(o=(t=U.subdivide(this.getValues(),t))[0],t=t[1],e=e||this.hasHandles(),i=this._segment1,n=this._segment2,r=this._path,e&&(i._handleOut._set(o[2]-o[0],o[3]-o[1]),n._handleIn._set(t[4]-t[6],t[5]-t[7])),s=o[6],a=o[7],o=new q(new L(s,a),e&&new L(o[4]-s,o[5]-a),e&&new L(t[2]-s,t[3]-a)),h=r?(r.insert(i._index+1,o),this.getNext()):(this._segment2=o,this._changed(),new U(o,n))),h},splitAt:function(t){var e=this._path;return e?e.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,e){return this.divideAtTime(t===V?.5:e?t:this.getTimeAt(t))},split:function(t,e){return this.splitAtTime(t===V?.5:e?t:this.getTimeAt(t))},reversed:function(){return new U(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,e,i,n){var r=t._point,t=t._handleOut,s=e._handleIn,e=e._point,a=r.x,r=r.y,o=e.x,e=e.y,n=n?[a,r,a,r,o,e,o,e]:[a,r,a+t._x,r+t._y,o+s._x,e+s._y,o,e];return i&&i._transformCoordinates(n,n,4),n},subdivide:function(t,e){var i=t[0],n=t[1],r=t[2],s=t[3],a=t[4],o=t[5],h=t[6],t=t[7],l=1-(e=e===V?.5:e),c=l*i+e*r,u=l*n+e*s,r=l*r+e*a,s=l*s+e*o,a=l*a+e*h,o=l*o+e*t,p=l*c+e*r,d=l*u+e*s,r=l*r+e*a,s=l*s+e*o,f=l*p+e*r,l=l*d+e*s;return[[i,n,c,u,p,d,f,l],[f,l,r,s,a,o,h,t]]},getMonoCurves:function(t,e){var i=[],e=e?0:1,n=t[0+e],r=t[2+e],s=t[4+e],e=t[6+e];return!(r<=n==s<=r&&s<=r==e<=s||U.isStraight(t))&&(s=F.solveQuadratic(3*(r-s)-n+e,2*(n+s)-4*r,r-n,e=[],1e-8,1-1e-8))?(e.sort(),r=e[0],n=U.subdivide(t,r),i.push(n[0]),1<s&&(r=(e[1]-r)/(1-r),n=U.subdivide(n[1],r),i.push(n[0])),i.push(n[1])):i.push(t),i},solveCubic:function(t,e,i,n,r,s){var a=t[e],o=t[e+2],h=t[e+4],t=t[e+6],e=0;return e=a<i&&t<i&&o<i&&h<i||i<a&&i<t&&i<o&&i<h?e:F.solveCubic(t-a-(t=3*(o-a))-(h=3*(h-o)-t),h,t,a-i,n,r,s)},getTimeOf:function(t,e){var i=new L(t[0],t[1]),n=new L(t[6],t[7]);if(null===(e.isClose(i,1e-12)?0:e.isClose(n,1e-12)?1:null))for(var r=[e.x,e.y],s=[],a=0;a<2;a++)for(var o=U.solveCubic(t,a,r[a],s,0,1),h=0;h<o;h++){var l=s[h];if(e.isClose(U.getPoint(t,l),1e-7))return l}return e.isClose(i,1e-7)?0:e.isClose(n,1e-7)?1:null},getNearestTime:function(i,n){var t,e,r,s,a;if(U.isStraight(i))return t=i[0],e=i[1],0==(a=(r=i[6]-t)*r+(s=i[7]-e)*s)||(a=((n.x-t)*r+(n.y-e)*s)/a)<1e-12?0:.999999999999<a?1:U.getTimeOf(i,new L(t+a*r,e+a*s));var o=1/0,h=0;function l(t){var e;return 0<=t&&t<=1&&(e=n.getDistance(U.getPoint(i,t),!0))<o?(o=e,h=t,1):void 0}for(var c=0;c<=100;c++)l(c/100);for(var u=.005;1e-8<u;)l(h-u)||l(h+u)||(u/=2);return h},getPart:function(t,e,i){var n,r=i<e;return r&&(n=e,e=i,i=n),0<e&&(t=U.subdivide(t,e)[1]),i<1&&(t=U.subdivide(t,(i-e)/(1-e))[0]),r?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,e){var i=t[0],n=t[1],r=t[2],s=t[3],a=t[4],o=t[5],h=t[6],t=t[7],r=3*r-2*i-h,s=3*s-2*n-t,a=3*a-2*h-i,h=3*o-2*t-n;return Math.max(r*r,a*a)+Math.max(s*s,h*h)<=16*e*e},getArea:function(t){var e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],a=t[5],o=t[6],t=t[7];return 3*((t-i)*(n+s)-(o-e)*(r+a)+r*(e-s)-n*(i-a)+t*(s+e/3)-o*(a+i/3))/20},getBounds:function(t){for(var e=t.slice(0,2),i=e.slice(),n=[0,0],r=0;r<2;r++)U._addBounds(t[r],t[r+2],t[r+4],t[r+6],r,0,e,i,n);return new x(e[0],e[1],i[0]-e[0],i[1]-e[1])},_addBounds:function(t,e,i,n,r,s,a,o,h){function l(t,e){var i=t-e,t=t+e;i<a[r]&&(a[r]=i),t>o[r]&&(o[r]=t)}var c=a[r]+(s/=2),u=o[r]-s;if(t<c||e<c||i<c||n<c||u<t||u<e||u<i||u<n)if(e<t!=e<n&&i<t!=i<n)l(t,0),l(n,0);else{var p=F.solveQuadratic(3*(e-i)-t+n,2*(t+i)-4*e,e-t,h);l(n,0);for(var d=0;d<p;d++){var f=h[d],g=1-f;1e-8<=f&&f<=1-1e-8&&l(g*g*g*t+3*g*g*f*e+3*g*f*f*i+f*f*f*n,s)}}}}},j.each(["getBounds","getStrokeBounds","getHandleBounds"],function(t){this[t]=function(){return this._bounds||(this._bounds={}),(this._bounds[t]||(this._bounds[t]=W[t]([this._segment1,this._segment2],!1,this._path))).clone()}},{}),j.each({isStraight:function(t,e,i,n){if(e.isZero()&&i.isZero())return!0;var r=n.subtract(t);if(!r.isZero()&&r.isCollinear(e)&&r.isCollinear(i)){var s=new M(t,n);if(s.getDistance(t.add(e))<1e-7&&s.getDistance(n.add(i))<1e-7)return t=r.dot(r),s=r.dot(e)/t,n=r.dot(i)/t,0<=s&&s<=1&&n<=0&&-1<=n}return!1},isLinear:function(t,e,i,n){n=n.subtract(t).divide(3);return e.equals(n)&&i.negate().equals(n)}},function(a,t){this[t]=function(t){var e=this._segment1,i=this._segment2;return a(e._point,e._handleOut,i._handleIn,i._point,t)},this.statics[t]=function(t,e){var i=t[0],n=t[1],r=t[6],s=t[7];return a(new L(i,n),new L(t[2]-i,t[3]-n),new L(t[4]-r,t[5]-s),new L(r,s),e)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,e){return this.getLocationAtTime(e?t:this.getTimeAt(t))},getLocationAtTime:function(t){return null!=t&&0<=t&&t<=1?new H(this,t):null},getTimeAt:function(t,e){return U.getTimeAt(this.getValues(),t,e)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var t=L.read(arguments);return t.isZero()?[]:U.getTimesWithTangent(this.getValues(),t)},getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(L.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return U.getTimeOf(this.getValues(),L.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=L.read(arguments),e=this.getValues(),i=U.getNearestTime(e,t),e=U.getPoint(e,i);return new H(this,i,e,null,t.getDistance(e))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t&&t.getPoint()}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return j.each(t,function(n){this[n+"At"]=function(t,e){var i=this.getValues();return U[n](i,e?t:U.getTimeAt(i,t))},this[n+"AtTime"]=function(t){return U[n](this.getValues(),t)}},{statics:{_evaluateMethods:t}})},new function(){function c(t){var e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],a=t[5],o=t[6],t=t[7],h=9*(n-s)+3*(o-e),l=6*(e+s)-12*n,c=3*(n-e),u=9*(r-a)+3*(t-i),p=6*(i+a)-12*r,d=3*(r-i);return function(t){var e=(h*t+l)*t+c,t=(u*t+p)*t+d;return Math.sqrt(e*e+t*t)}}function u(t,e){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(e-t))))}function i(t,e,i,n){var r,s,a,o,h,l,c,u,p,d,f,g,m,_,v;return null==e||e<0||1<e?null:(d=t[0],m=t[1],r=t[2],s=t[3],f=t[4],g=t[5],a=t[6],t=t[7],(o=F.isZero)(r-d)&&o(s-m)&&(r=d,s=m),o(f-a)&&o(g-t)&&(f=a,g=t),l=a-d-(o=3*(r-d))-(h=3*(f-r)-o),p=t-m-(c=3*(s-m))-(u=3*(g-s)-c),0===i?(_=0===e?d:1===e?a:((l*e+h)*e+o)*e+d,v=0===e?m:1===e?t:((p*e+u)*e+c)*e+m):(0,v=e<1e-8?(_=o,c):1-1e-8<e?(_=3*(a-f),3*(t-g)):(_=(3*l*e+2*h)*e+o,(3*p*e+2*u)*e+c),n&&(0===_&&0===v&&(e<1e-8||1-1e-8<e)&&(_=f-r,v=g-s),d=Math.sqrt(_*_+v*v))&&(_/=d,v/=d),3===i&&(f=6*l*e+2*h,g=6*p*e+2*u,_=0!==(m=Math.pow(_*_+v*v,1.5))?(_*g-v*f)/m:0,v=0)),2===i?new L(v,-_):new L(_,v))}return{statics:{classify:function(t){var e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],a=t[5],o=t[6],t=t[7],h=n*(i-t)+r*(o-e)+e*t-i*o,n=3*(s*(r-i)+a*(e-n)+n*i-r*e),r=n-h,h=r-h+(e*(t-a)+i*(s-o)+o*a-t*s),e=Math.sqrt(h*h+r*r+n*n),i=0!==e?1/e:0,o=F.isZero,a="serpentine";function l(t,e,i){var n=e!==V,r=n&&0<e&&e<1,s=n&&0<i&&i<1;return!n||(r||s)&&("loop"!==t||r&&s)||(r=s=!(t="arch")),{type:t,roots:r||s?r&&s?e<i?[e,i]:[i,e]:[r?e:i]:null}}return r*=i,n*=i,o(h*=i)?o(r)?l(o(n)?"line":"quadratic"):l(a,n/(3*r)):o(t=3*r*r-4*h*n)?l("cusp",r/(2*h)):l(0<t?a:"loop",(r+(s=0<t?Math.sqrt(t/3):Math.sqrt(-t)))/(e=2*h),(r-s)/e)},getLength:function(t,e,i,n){var r,s;return e===V&&(e=0),i===V&&(i=1),U.isStraight(t)?(s=t,i<1&&(s=U.subdivide(s,i)[0],e/=i),r=(s=0<e?U.subdivide(s,e)[1]:s)[6]-s[0],s=s[7]-s[1],Math.sqrt(r*r+s*s)):F.integrate(n||c(t),e,i,u(e,i))},getTimeAt:function(t,e,i){var n,r,s,a,o,h,l;return i===V&&(i=e<0?1:0),0===e?i:(n=Math.abs,s=(r=0<e)?i:0,a=r?1:i,o=c(t),t=U.getLength(t,s,a,o),h=n(e)-t,n(h)<1e-12?r?a:s:1e-12<h?null:(l=0,F.findRoot(function(t){return l+=F.integrate(o,i,t,u(i,t)),i=t,l-e},o,i+e/t,s,a,32,1e-12)))},getPoint:function(t,e){return i(t,e,0,!1)},getTangent:function(t,e){return i(t,e,1,!0)},getWeightedTangent:function(t,e){return i(t,e,1,!1)},getNormal:function(t,e){return i(t,e,2,!0)},getWeightedNormal:function(t,e){return i(t,e,2,!1)},getCurvature:function(t,e){return i(t,e,3,!1).x},getPeaks:function(t){var e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],a=t[5],o=3*n-e-3*s+t[6],s=3*e-6*n+3*s,e=-3*e+3*n,n=3*r-i-3*a+t[7],t=3*i-6*r+3*a,a=-3*i+3*r,i=[];return F.solveCubic(9*(o*o+n*n),9*(o*s+t*n),2*(s*s+t*t)+3*(e*o+a*n),e*s+t*a,i,1e-8,1-1e-8),i.sort()}}}},new function(){function T(t,e,i,n,r,s,a){var o=!a&&i.getPrevious()===r,h=!a&&i!==r&&i.getNext()===r;null!==n&&(o?1e-8:0)<=n&&n<=(h?1-1e-8:1)&&null!==s&&(h?1e-8:0)<=s&&s<=(o?1-1e-8:1)&&(h=new H(i,n,null,a),o=new H(r,s,null,a),(h._intersection=o)._intersection=h,e&&!e(h)||H.insert(t,h,!0))}function I(t,e,i,n,r,s,a,o,h,l,c,u,p){var d,f,g,m,_,v,y,b,w,x,S,C,k,E,A;return 4096<=++h||40<=++o||(w=e[0],v=e[1],y=e[6],b=e[7],d=(f=0<(x=(_=M.getSignedDistance)(w,v,y,b,e[2],e[3]))*(S=_(w,v,y,b,e[4],e[5]))?.75:4/9)*Math.min(0,x,S),f=f*Math.max(0,x,S),v=(w=function(t,e,i,n){var r=[0,t],s=[1/3,e],a=[2/3,i],o=[1,n],e=e-(2*t+n)/3,i=i-(t+2*n)/3;n=e*i<0?[[r,s,o],[r,a,o]]:[2<=(t=e/i)?[r,s,o]:t<=.5?[r,a,o]:[r,s,a,o],[r,o]];return(e||i)<0?n.reverse():n}(C=_(w,v,y,b,t[0],t[1]),g=_(w,v,y,b,t[2],t[3]),m=_(w,v,y,b,t[4],t[5]),_=_(w,v,y,b,t[6],t[7])))[0],y=w[1],0===x&&0===S&&0===C&&0===g&&0===m&&0===_)||null==(b=P(v,y,d,f))||null==(w=P(v.reverse(),y.reverse(),d,f))||(x=l+(c-l)*b,S=l+(c-l)*w,Math.max(p-u,S-x)<1e-9?(k=(x+S)/2,A=(u+p)/2,T(r,s,a?n:i,a?A:k,a?i:n,a?k:A)):(t=U.getPart(t,b,w),C=p-u,h=.8<w-b?C<S-x?(k=(x+S)/2,h=I(e,(E=U.subdivide(t,.5))[0],n,i,r,s,!a,o,h,u,p,x,k),I(e,E[1],n,i,r,s,!a,o,h,u,p,k,S)):(A=(u+p)/2,h=I((E=U.subdivide(e,.5))[0],t,n,i,r,s,!a,o,h,u,A,x,S),I(E[1],t,n,i,r,s,!a,o,h,A,p,x,S)):0==C||1e-9<=C?I(e,t,n,i,r,s,!a,o,h,u,p,x,S):I(t,e,i,n,r,s,a,o,h,x,S,u,p))),h}function P(t,e,i,n){return t[0][1]<i?r(t,!0,i):e[0][1]>n?r(e,!1,n):t[0][0]}function r(t,e,i){for(var n=t[0][0],r=t[0][1],s=1,a=t.length;s<a;s++){var o=t[s][0],h=t[s][1];if(e?i<=h:h<=i)return h===i?o:n+(i-r)*(o-n)/(h-r);n=o,r=h}return null}function f(t,e,i,n,r){var s=F.isZero;if(s(n)&&s(r))return null===(s=U.getTimeOf(t,new L(e,i)))?[]:[s];for(var s=Math.atan2(-r,n),a=Math.sin(s),o=Math.cos(s),h=[],r=[],l=0;l<8;l+=2){var c=t[l]-e,u=t[l+1]-i;h.push(c*o-u*a,c*a+u*o)}return U.solveCubic(h,1,0,r,0,1),r}function v(t,e,i,n,r,s,a){for(var o=e[0],h=e[1],l=f(t,o,h,e[6]-o,e[7]-h),c=0,u=l.length;c<u;c++){var p=l[c],d=U.getPoint(t,p),d=U.getTimeOf(e,d);null!==d&&T(r,s,a?n:i,a?d:p,a?i:n,a?p:d)}}function y(t,e,i,n,r,s){var a=M.intersect(t[0],t[1],t[6],t[7],e[0],e[1],e[6],e[7]);a&&T(r,s,i,U.getTimeOf(t,a),n,U.getTimeOf(e,a))}function w(t,e,i,n,r,s){var a=Math.min,o=Math.max;if(o(t[0],t[2],t[4],t[6])+1e-12>a(e[0],e[2],e[4],e[6])&&a(t[0],t[2],t[4],t[6])-1e-12<o(e[0],e[2],e[4],e[6])&&o(t[1],t[3],t[5],t[7])+1e-12>a(e[1],e[3],e[5],e[7])&&a(t[1],t[3],t[5],t[7])-1e-12<o(e[1],e[3],e[5],e[7])){var h=b(t,e);if(h)for(var l=0;l<2;l++){var c=h[l];T(r,s,i,c[0],n,c[1],!0)}else{var a=U.isStraight(t),o=U.isStraight(e),u=a&&o,p=a&&!o,d=r.length;if((u?y:a||o?v:I)(p?e:t,p?t:e,p?n:i,p?i:n,r,s,p,0,0,0,1,0,1),!u||r.length===d)for(l=0;l<4;l++){var f=l>>1,g=1&l,m=6*f,_=6*g,m=new L(t[m],t[1+m]),_=new L(e[_],e[1+_]);m.isClose(_,1e-12)&&T(r,s,i,f,n,g)}}}return r}function x(t,e,i,n){t=U.classify(t);return"loop"===t.type&&T(i,n,e,(n=t.roots)[0],e,n[1]),i}function b(t,e){function i(t){var e=t[6]-t[0],t=t[7]-t[1];return e*e+t*t}var n=Math.abs,r=M.getDistance,s=1e-7,a=U.isStraight(t),o=U.isStraight(e),h=a&&o,l=i(t)<i(e),c=l?e:t,l=l?t:e,u=c[0],p=c[1],d=c[6]-u,f=c[7]-p;if(r(u,p,d,f,l[0],l[1],!0)<s&&r(u,p,d,f,l[6],l[7],!0)<s)!h&&r(u,p,d,f,c[2],c[3],!0)<s&&r(u,p,d,f,c[4],c[5],!0)<s&&r(u,p,d,f,l[2],l[3],!0)<s&&r(u,p,d,f,l[4],l[5],!0)<s&&(a=o=h=!0);else if(h)return null;if(a^o)return null;for(var g=[t,e],m=[],_=0;_<4&&m.length<2;_++){var v=1&_,y=1^v,b=_>>1,y=U.getTimeOf(g[v],new L(g[y][b?6:0],g[y][b?7:1]));if(null!=y&&(v=v?[b,y]:[y,b],!m.length||1e-8<n(v[0]-m[0][0])&&1e-8<n(v[1]-m[0][1]))&&m.push(v),2<_&&!m.length)break}return m=2!==m.length||!h&&(c=U.getPart(t,m[0][0],m[1][0]),n((r=U.getPart(e,m[0][1],m[1][1]))[2]-c[2])>s||n(r[3]-c[3])>s||n(r[4]-c[4])>s||n(r[5]-c[5])>s)?null:m}return{getIntersections:function(t){var e=this.getValues(),i=t&&t!==this&&t.getValues();return i?w(e,i,this,t,[]):x(e,this,[])},statics:{getOverlaps:b,getIntersections:function(t,e,i,n,r,s){for(var a=!e,o=t.length,h=(e=a?t:e).length,l=new Array(o),c=a?l:new Array(h),u=[],p=0;p<o;p++)l[p]=t[p].getValues(n);if(!a)for(p=0;p<h;p++)c[p]=e[p].getValues(r);for(var d=K.findCurveBoundsCollisions(l,c,1e-7),f=0;f<o;f++){var g=t[f],m=l[f],_=(a&&x(m,g,u,i),d[f]);if(_)for(var v=0;v<_.length;v++){if(s&&u.length)return u;var y,b=_[v];(!a||f<b)&&(y=e[b],w(m,c[b],g,y,u,i))}}return u},getCurveLineIntersections:f,getTimesWithTangent:function(t,e){var i,n=t[0],r=t[1],s=t[2],a=t[3],o=t[4],h=t[5],l=t[6],t=t[7],c=(e=e.normalize()).x,e=e.y,l=3*l-9*o+9*s-3*n,t=3*t-9*h+9*a-3*r,o=6*o-12*s+6*n,h=6*h-12*a+6*r,s=3*s-3*n,n=3*a-3*r,a=2*l*e-2*t*c,r=[];return Math.abs(a)<F.CURVETIME_EPSILON?0!=(a=l*h-t*o)&&0<=(i=-(l*n-t*s)/a)&&i<=1&&r.push(i):(i=o*e-h*c,0<=(o=(o*o-4*l*s)*e*e+(-2*o*h+4*t*s+4*l*n)*c*e+(h*h-4*t*n)*c*c)&&0!=a&&(l=(-i+(s=Math.sqrt(o)))/a,0<=(e=-(i+s)/a)&&e<=1&&r.push(e),0<=l)&&l<=1&&r.push(l)),r}}}}),H=j.extend({_class:"CurveLocation",initialize:function(t,e,i,n,r){var s;.99999999<=e&&(s=t.getNext())&&(e=0,t=s),this._setCurve(t),this._time=e,this._point=i||t.getPointAtTime(e),this._overlap=n,this._distance=r,this._intersection=this._next=this._previous=null},_setPath:function(t){this._path=t,this._version=t?t._version:0},_setCurve:function(t){this._setPath(t._path),this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){var e=t.getCurve();e?this._setCurve(e):(this._setPath(t._path),this._segment1=t,this._segment2=null),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t,e,i=this._segment;return i||(t=this.getCurve(),0===(e=this.getTime())?i=t._segment1:1===e?i=t._segment2:null!=e&&(i=t.getPartLength(0,e)<t.getPartLength(e,1)?t._segment1:t._segment2),this._segment=i),i},getCurve:function(){var t=this._path,e=this;function i(t){t=t&&t.getCurve();if(t&&null!=(e._time=t.getTimeOf(e._point)))return e._setCurve(t),t}return t&&t._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||i(this._segment)||i(this._segment1)||i(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),e=this._time;return t&&null==e?this._time=t.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){if(null==(t=this._offset)){var t=0,e=this.getPath(),i=this.getIndex();if(e&&null!=i)for(var n=e.getCurves(),r=0;r<i;r++)t+=n[r].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t,e,i=this._curveOffset;return null==i&&(t=this.getCurve(),e=this.getTime(),this._curveOffset=i=null!=e&&t&&t.getPartLength(0,e)),i},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),t=t&&t.divideAtTime(this.getTime());return t&&this._setSegment(t._segment1),t},split:function(){var t=this.getCurve(),e=t._path,t=t&&t.splitAtTime(this.getTime());return t&&this._setSegment(e.getLastSegment()),t},equals:function(t,e){var i,n,r,s,a=this===t;return!a&&t instanceof H&&(i=this.getCurve(),n=t.getCurve(),(i=i._path)===n._path)&&(r=(n=Math.abs)(this.getOffset()-t.getOffset()),s=!e&&this._intersection,e=!e&&t._intersection,a=(r<1e-7||i&&n(i.getLength()-r)<1e-7)&&(!s&&!e||s&&e&&s.equals(e,!0))),a},toString:function(){var t=[],e=this.getPoint(),i=w.instance,e=(e&&t.push("point: "+e),this.getIndex()),e=(null!=e&&t.push("index: "+e),this.getTime());return null!=e&&t.push("time: "+i.number(e)),null!=this._distance&&t.push("distance: "+i.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t,e=this._intersection;return!(!e||!this.getTangent().isCollinear(e.getTangent())||(t=this.getCurve(),e=e.getCurve(),t.isStraight()&&e.isStraight()&&t.getLine().intersect(e.getLine())))},isCrossing:function(){var t=this._intersection;if(!t)return!1;var e=this.getTime(),i=t.getTime(),n=1-1e-8,r=1e-8<=e&&e<=n,s=1e-8<=i&&i<=n;if(r&&s)return!this.isTouching();var a=this.getCurve(),o=a&&e<1e-8?a.getPrevious():a,t=t.getCurve(),h=t&&i<1e-8?t.getPrevious():t;if(n<e&&(a=a.getNext()),n<i&&(t=t.getNext()),!(o&&a&&h&&t))return!1;var l=[];function c(t,e){var t=t.getValues(),i=U.classify(t).roots||U.getPeaks(t),n=i.length,t=U.getLength(t,e&&n?i[n-1]:0,!e&&n?i[0]:1);l.push(n?t:t/32)}function u(t,e,i){return e<i?e<t&&t<i:e<t||t<i}r||(c(o,!0),c(a,!1)),s||(c(h,!0),c(t,!1));var n=this.getPoint(),p=Math.min.apply(Math,l),e=r?a.getTangentAtTime(e):a.getPointAt(p).subtract(n),a=r?e.negate():o.getPointAt(-p).subtract(n),o=s?t.getTangentAtTime(i):t.getPointAt(p).subtract(n),i=s?o.negate():h.getPointAt(-p).subtract(n),t=a.getAngle(),s=e.getAngle(),h=i.getAngle(),p=o.getAngle();return!!(r?u(t,h,p)^u(s,h,p)&&u(t,p,h)^u(s,p,h):u(h,t,s)^u(p,t,s)&&u(h,s,t)^u(p,s,t))},hasOverlap:function(){return!!this._overlap}},j.each(U._evaluateMethods,function(t){var i=t+"At";this[t]=function(){var t=this.getCurve(),e=this.getTime();return null!=e&&t&&t[i](e,!0)}},{preserve:!0}),new function(){function n(r,s,t){var a=r.length,e=0,i=a-1;function n(t,e){for(var i=t+e;-1<=i&&i<=a;i+=e){var n=r[(i%a+a)%a];if(!s.getPoint().isClose(n.getPoint(),1e-7))break;if(s.equals(n))return n}return null}for(;e<=i;){var o=e+i>>>1,h=r[o];if(t&&(l=s.equals(h)?h:n(o,-1)||n(o,1)))return s._overlap&&(l._overlap=l._intersection._overlap=!0),l;var l=s.getPath(),c=h.getPath();(l!==c?l._id-c._id:s.getIndex()+s.getTime()-(h.getIndex()+h.getTime()))<0?i=o-1:e=1+o}return r.splice(e,0,s),s}return{statics:{insert:n,expand:function(t){for(var e=t.slice(),i=t.length-1;0<=i;i--)n(e,t[i]._intersection,!1);return e}}}}),$=z.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var e,i,n;return j.isPlainObject(t)?(i=t.segments,e=t.pathData):Array.isArray(t)?i=t:"string"==typeof t&&(e=t),i?n=(i=i[0])&&Array.isArray(i[0]):e&&(n=1<(e.match(/m/gi)||[]).length||/z\s*\S+/i.test(e)),new(n?G:W)(t)}},_asPathItem:function(){return this},isClockwise:function(){return 0<=this.getArea()},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(t){var e,i,n=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),r=!1,s=new L,a=new L;function o(t,e){t=+u[t];return r&&(t+=s[e]),t}function h(t){return new L(o(t,"x"),o(t+1,"y"))}this.clear();for(var l=0,c=n&&n.length;l<c;l++){var u,p=n[l],d=p[0],f=d.toLowerCase(),g=(u=p.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g))&&u.length,r=d===f;switch("z"!==e||/[mz]/.test(f)||this.moveTo(s),f){case"m":case"l":for(var m="m"===f,_=0;_<g;_+=2)this[m?"moveTo":"lineTo"](s=h(_)),m&&(a=s,m=!1);i=s;break;case"h":case"v":for(var v="h"===f?"x":"y",s=s.clone(),_=0;_<g;_++)s[v]=o(_,v),this.lineTo(s);i=s;break;case"c":for(_=0;_<g;_+=6)this.cubicCurveTo(h(_),i=h(_+2),s=h(_+4));break;case"s":for(_=0;_<g;_+=4)this.cubicCurveTo(/[cs]/.test(e)?s.multiply(2).subtract(i):s,i=h(_),s=h(_+2)),e=f;break;case"q":for(_=0;_<g;_+=4)this.quadraticCurveTo(i=h(_),s=h(_+2));break;case"t":for(_=0;_<g;_+=2)this.quadraticCurveTo(i=/[qt]/.test(e)?s.multiply(2).subtract(i):s,s=h(_)),e=f;break;case"a":for(_=0;_<g;_+=7)this.arcTo(s=h(_+5),new O(+u[_],+u[_+1]),+u[_+2],+u[_+4],+u[_+3]);break;case"z":this.closePath(1e-12),s=a}e=f}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){t=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return t.onPath||!!("evenodd"===this.getFillRule()?1&t.windingL||1&t.windingR:t.winding)},getIntersections:function(t,e,i,n){var r=this===t||!t,s=this._matrix._orNullIfIdentity(),i=r?s:(i||t._matrix)._orNullIfIdentity();return r||this.getBounds(s).intersects(t.getBounds(i),1e-12)?U.getIntersections(this.getCurves(),!r&&t.getCurves(),e,s,i,n):[]},getCrossings:function(t){return this.getIntersections(t,function(t){return t.isCrossing()})},getNearestLocation:function(){for(var t=L.read(arguments),e=this.getCurves(),i=1/0,n=null,r=0,s=e.length;r<s;r++){var a=e[r].getNearestLocation(t);a._distance<i&&(i=a._distance,n=a)}return n},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t&&t.getPoint()},interpolate:function(t,e,i){var n=!this._children,r=n?"_segments":"_children",s=t[r],a=e[r],o=this[r];if(!s||!a||s.length!==a.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+e);var r=o.length,h=a.length;if(r<h)for(var l=n?q:W,c=r;c<h;c++)this.add(new l);else h<r&&this[n?"removeSegments":"removeChildren"](h,r);for(c=0;c<h;c++)o[c].interpolate(s[c],a[c],i);n&&(this.setClosed(t._closed),this._changed(9))},compare:function(t){var e=!1;if(t){for(var i=this._children||[this],n=t._children?t._children.slice():[t],t=i.length,r=n.length,s=[],a=0,o=(e=!0,K.findItemBoundsCollisions(i,n,F.GEOMETRIC_EPSILON)),h=t-1;0<=h&&e;h--){var l=i[h],e=!1,c=o[h];if(c)for(var u=c.length-1;0<=u&&!e;u--)l.compare(n[c[u]])&&(s[c[u]]||(s[c[u]]=!0,a++),e=!0)}e=e&&a===r}return e}}),W=$.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;var e=arguments,e=Array.isArray(t)?"object"==typeof t[0]?t:e:!t||t.size!==V||t.x===V&&t.point===V?null:e;e&&0<e.length?this.setSegments(e):(this._curves=V,this._segmentSelection=0,e||"string"!=typeof t||(this.setPathData(t),t=null)),this._initialize(!e&&t)},_equals:function(t){return this._closed===t._closed&&j.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed},_changed:function t(e){if(t.base.call(this,e),8&e){if(this._length=this._area=V,32&e)this._version++;else if(this._curves)for(var i=0,n=this._curves.length;i<n;i++)this._curves[i]._changed()}else 64&e&&(this._bounds=V)},getStyle:function(){var t=this._parent;return(t instanceof G?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var e,i=this.isFullySelected(),n=t&&t.length;this._segments.length=0,this._segmentSelection=0,this._curves=V,n&&("boolean"==typeof(e=t[n-1])&&(this.setClosed(e),n--),this._add(q.readList(t,0,{},n))),i&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t)for(var i=this._countCurves(),t=this._curves=new Array(i),n=0;n<i;n++)t[n]=new U(this,e[n],e[n+1]||e[0]);return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){var e;this._closed!=(t=!!t)&&(this._closed=t,this._curves&&(e=this._curves.length=this._countCurves(),t)&&(this._curves[e-1]=new U(this,this._segments[e-1],this._segments[0])),this._changed(41))}},{beans:!0,getPathData:function(i,t){var n,r,s,a,o,h,l,c,e=this._segments,u=e.length,p=new w(t),d=new Array(6),f=!0,g=[];function m(t,e){t._transformCoordinates(i,d),n=d[0],r=d[1],f?(g.push("M"+p.pair(n,r)),f=!1):(o=d[2],h=d[3],o===n&&h===r&&l===s&&c===a?e||(t=n-s,e=r-a,g.push(0==t?"v"+p.number(e):0==e?"h"+p.number(t):"l"+p.pair(t,e))):g.push("c"+p.pair(l-s,c-a)+" "+p.pair(o-s,h-a)+" "+p.pair(n-s,r-a))),s=n,a=r,l=d[4],c=d[5]}if(!u)return"";for(var _=0;_<u;_++)m(e[_]);return this._closed&&0<u&&(m(e[0],!0),g.push("z")),g.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var e=this._segments,i=new Array(6),n=0,r=e.length;n<r;n++)e[n]._transformCoordinates(t,i,!0);return!0},_add:function(t,e){for(var i=this._segments,n=this._curves,r=t.length,s=null==e,e=s?i.length:e,a=0;a<r;a++){var o=t[a];(o=o._path?t[a]=o.clone():o)._path=this,o._index=e+a,o._selection&&this._updateSelection(o,0,o._selection)}if(s)j.push(i,t);else{i.splice.apply(i,[e,0].concat(t));for(var a=e+r,h=i.length;a<h;a++)i[a]._index=a}if(n){var s=this._countCurves(),l=0<e&&e+r-1===s?e-1:e,c=l,u=Math.min(l+r,s);t._curves&&(n.splice.apply(n,[l,0].concat(t._curves)),c+=t._curves.length);for(a=c;a<u;a++)n.splice(a,0,new U(this,null,null));this._adjustCurves(l,u)}return this._changed(41),t},_adjustCurves:function(t,e){for(var i,n=this._segments,r=this._curves,s=t;s<e;s++)(i=r[s])._path=this,i._segment1=n[s],i._segment2=n[s+1]||n[0],i._changed();(i=r[this._closed&&!t?n.length-1:t-1])&&(i._segment2=n[t]||n[0],i._changed()),(i=r[e])&&(i._segment1=n[e],i._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&0<t?t-1:t},add:function(t){var e=arguments;return 1<e.length&&"number"!=typeof t?this._add(q.readList(e)):this._add([q.read(e)])[0]},insert:function(t,e){var i=arguments;return 2<i.length&&"number"!=typeof e?this._add(q.readList(i,1),t):this._add([q.read(i,1)],t)[0]},addSegment:function(){return this._add([q.read(arguments)])[0]},insertSegment:function(t){return this._add([q.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(q.readList(t))},insertSegments:function(t,e){return this._add(q.readList(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,e,i){t=t||0,e=j.pick(e,this._segments.length);var n=this._segments,r=this._curves,s=n.length,a=n.splice(t,e-t),o=a.length;if(o){for(var h=0;h<o;h++){var l=a[h];l._selection&&this._updateSelection(l,l._selection,0),l._index=l._path=null}for(var h=t,c=n.length;h<c;h++)n[h]._index=h;if(r){for(e=0<t&&e===s+(this._closed?1:0)?t-1:t,h=(r=r.splice(e,o)).length-1;0<=h;h--)r[h]._path=null;i&&(a._curves=r.slice(1)),this._adjustCurves(e,e)}this._changed(41)}return a},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,e=0,i=t.length;e<i;e++)if(t[e].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,e=0,i=t.length;e<i;e++)t[e].clearHandles()},getLength:function(){if(null==this._length){for(var t=this.getCurves(),e=0,i=0,n=t.length;i<n;i++)e+=t[i].getLength();this._length=e}return this._length},getArea:function(){if(null==(i=this._area)){for(var t=this._segments,e=this._closed,i=0,n=0,r=t.length;n<r;n++){var s=n+1===r;i+=U.getArea(U.getValues(t[n],t[s?0:n+1],null,s&&!e))}this._area=i}return i},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&0<t&&this._segmentSelection===7*t},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function t(e){1&e||this._selectSegments(!1),t.base.call(this,e)},_selectSegments:function(t){var e=this._segments,i=e.length,n=t?7:0;this._segmentSelection=n*i;for(var r=0;r<i;r++)e[r]._selection=n},_updateSelection:function(t,e,i){t._selection=i,0<(this._segmentSelection+=i-e)&&this.setSelected(!0)},divideAt:function(t){var t=this.getLocationAt(t);return t&&(t=t.getCurve().divideAt(t.getCurveOffset()))?t._segment1:null},splitAt:function(t){var e,t=this.getLocationAt(t),i=t&&t.index,t=t&&t.time,n=(1-1e-8<t&&(i++,t=0),this.getCurves());return 0<=i&&i<n.length?(1e-8<=t&&n[i++].divideAtTime(t),n=this.removeSegments(i,this._segments.length,!0),this._closed?(this.setClosed(!1),e=this):((e=new W(z.NO_INSERT)).insertAbove(this),e.copyAttributes(this)),e._add(n,0),this.addSegment(n[0]),e):null},split:function(t,e){t=e===V?t:(t=this.getCurves()[t])&&t.getLocationAtTime(e);return null!=t?this.splitAt(t):null},join:function(t,e){e=e||0;if(t&&t!==this){var i=t._segments,n=this.getLastSegment(),r=t.getLastSegment();if(!r)return this;n&&n._point.isClose(r._point,e)&&t.reverse();var s=t.getFirstSegment();n&&n._point.isClose(s._point,e)?(n.setHandleOut(s._handleOut),this._add(i.slice(1))):((n=this.getFirstSegment())&&n._point.isClose(s._point,e)&&t.reverse(),r=t.getLastSegment(),n&&n._point.isClose(r._point,e)?(n.setHandleIn(r._handleIn),this._add(i.slice(0,i.length-1),0)):this._add(i.slice())),t._closed&&this._add([i[0]]),t.remove()}s=this.getFirstSegment(),n=this.getLastSegment();return s!==n&&s._point.isClose(n._point,e)&&(s.setHandleIn(n._handleIn),n.remove(),this.setClosed(!0)),this},reduce:function(t){for(var e=this.getCurves(),i=t&&t.simplify,n=i?1e-7:0,r=e.length-1;0<=r;r--){var s=e[r];!s.hasHandles()&&(!s.hasLength(n)||i&&s.isCollinear(s.getNext()))&&s.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,e=this._segments.length;t<e;t++){var i=this._segments[t],n=i._handleIn;i._handleIn=i._handleOut,i._handleOut=n,i._index=t}this._curves=null,this._changed(9)},flatten:function(t){for(var e=new J(this,t||.25,256,!0).parts,i=e.length,n=[],r=0;r<i;r++)n.push(new q(e[r].curve.slice(0,2)));!this._closed&&0<i&&n.push(new q(e[i-1].curve.slice(6))),this.setSegments(n)},simplify:function(t){t=new tt(this).fit(t||2.5);return t&&this.setSegments(t),!!t},smooth:function(t){var r=this,e=t||{},t=e.type||"asymmetric",i=this._segments,s=i.length,a=this._closed;function n(t,e){var i=t&&t.index;if(null!=i){var n=t.path;if(n&&n!==r)throw new Error(t._class+" "+i+" of "+n+" is not part of "+r);e&&t instanceof U&&i++}else i="number"==typeof t?t:e;return Math.min(i<0&&a?i%s:i<0?i+s:i,s-1)}var o=a&&e.from===V&&e.to===V,h=n(e.from,0),l=n(e.to,s-1);if(l<h&&(a?h-=s:(u=h,h=l,l=u)),/^(?:asymmetric|continuous)$/.test(t)){var c="asymmetric"===t,u=Math.min,t=l-h+1,p=t-1,t=o?u(t,4):1,d=t,f=[];if(a||(d=u(1,h),t=u(1,s-l-1)),!((p+=d+t)<=1)){for(var g=0,m=h-d;g<=p;g++,m++)f[g]=i[(m<0?m+s:m)%s]._point;for(var _=p-1,v=[T=f[0]._x+2*f[1]._x],y=[I=f[0]._y+2*f[1]._y],b=[A=2],w=[],x=[],g=1;g<p;g++)var S=g<_,C=S?4:c?3:8,k=S?2:c?0:1,E=(S||c?1:2)/A,A=b[g]=(S?4:c?2:7)-E,T=v[g]=C*f[g]._x+k*f[g+1]._x-E*T,I=y[g]=C*f[g]._y+k*f[g+1]._y-E*I;w[_]=v[_]/b[_],x[_]=y[_]/b[_];for(g=p-2;0<=g;g--)w[g]=(v[g]-w[g+1])/b[g],x[g]=(y[g]-x[g+1])/b[g];w[p]=(3*f[p]._x-w[_])/2,x[p]=(3*f[p]._y-x[_])/2;for(var g=d,P=p-t,m=h;g<=P;g++,m++){var L=i[m<0?m+s:m],O=L._point,N=w[g]-O._x,O=x[g]-O._y;(o||g<P)&&L.setHandleOut(N,O),(o||d<g)&&L.setHandleIn(-N,-O)}}}else for(g=h;g<=l;g++)i[g<0?g+s:g].smooth(e,!o&&g===h,!o&&g===l)},toShape:function(t){var a,e,i,n,r,s,o,h;return this._closed&&(a=this._segments,!this.hasHandles()&&4===a.length&&l(0,2)&&l(1,3)&&(o=(s=a[s=1]).getPrevious(),h=s.getNext(),o._handleOut.isZero())&&s._handleIn.isZero()&&s._handleOut.isZero()&&h._handleIn.isZero()&&s._point.subtract(o._point).isOrthogonal(h._point.subtract(s._point))?(e=d.Rectangle,i=new O(u(0,3),u(0,1)),r=a[1]._point.add(a[2]._point).divide(2)):8===a.length&&c(0)&&c(2)&&c(4)&&c(6)&&l(1,5)&&l(3,7)?(e=d.Rectangle,n=(i=new O(u(1,6),u(0,3))).subtract(new O(u(0,7),u(1,2))).divide(2),r=a[3]._point.add(a[4]._point).divide(2)):4===a.length&&c(0)&&c(1)&&c(2)&&c(3)&&(n=F.isZero(u(0,2)-u(1,3))?(e=d.Circle,u(0,2)/2):(e=d.Ellipse,new O(u(2,0)/2,u(3,1)/2)),r=a[1]._point),e)?((h=new e({center:o=this.getPosition(!0),size:i,radius:n,insert:!1})).copyAttributes(this,!0),h._matrix.prepend(this._matrix),h.rotate(r.subtract(o).getAngle()+90),t!==V&&!t||h.insertAbove(this),h):null;function l(t,e){var t=a[t],i=t.getNext(),e=a[e],n=e.getNext();return t._handleOut.isZero()&&i._handleIn.isZero()&&e._handleOut.isZero()&&n._handleIn.isZero()&&i._point.subtract(t._point).isCollinear(n._point.subtract(e._point))}function c(t){var e,t=a[t],i=t.getNext(),n=t._handleOut,r=i._handleIn,s=.5522847498307936;if(n.isOrthogonal(r))return t=t._point,i=i._point,(e=new M(t,n,!0).intersect(new M(i,r,!0),!0))&&F.isZero(n.getLength()/e.subtract(t).getLength()-s)&&F.isZero(r.getLength()/e.subtract(i).getLength()-s)}function u(t,e){return a[t]._point.getDistance(a[e]._point)}},toPath:"#clone",compare:function t(e){if(!e||e instanceof G)return t.base.call(this,e);var i=this.getCurves(),n=e.getCurves(),r=i.length,s=n.length;if(!r||!s)return r==s;for(var a,o,h=i[0].getValues(),l=[],c=0,u=0,p=0;p<s;p++){var d=n[p].getValues();if(l.push(d),m=U.getOverlaps(h,d)){a=!p&&0<m[0][0]?s-1:p,o=m[0][1];break}}for(var f,g=Math.abs,d=l[a];h&&d;){var m=U.getOverlaps(h,d);if(m)if(g(m[0][0]-u)<1e-8){1===(u=m[1][0])&&(h=++c<r?i[c].getValues():null,u=0);var _=m[0][1];if(g(_-o)<1e-8){if(f=f||[a,_],1===(o=m[1][1])&&(d=l[a=++a>=s?0:a]||n[a].getValues(),o=0),h)continue;return f[0]===a&&f[1]===o}}break}return!1},_hitTestSelf:function(i,r,t,n){var s,a,o,h,e,l,c=this,u=this.getStyle(),p=this._segments,d=p.length,f=this._closed,g=r._tolerancePadding,m=g,_=r.stroke&&u.hasStroke(),v=r.fill&&u.hasFill(),y=r.curves,b=_?u.getStrokeWidth()/2:v&&0<r.tolerance||y?0:null;function w(t,e){return i.subtract(t).divide(e).length<=1}function x(t,e,i){if(!r.selected||e.isSelected()){var n=t._point;if(w(e=e!==n?e.add(n):e,m))return new P(i,c,{segment:t,point:e})}}function S(t,e){return(e||r.segments)&&x(t,t._point,"segment")||!e&&r.handles&&(x(t,t._handleIn,"handle-in")||x(t,t._handleOut,"handle-out"))}function C(t){h.add(t)}function k(t){var e=f||0<t._index&&t._index<d-1;return"round"===(e?s:a)?w(t._point,m):(h=new W({internal:!0,closed:!0}),e?t.isSmooth()||W._addBevelJoin(t,s,b,o,null,n,C,!0):"square"===a&&W._addSquareCap(t,a,b,null,n,C,!0),!h.isEmpty()&&(h.contains(i)||(e=h.getNearestLocation(i))&&w(e.getPoint(),g)))}if(null!==b&&(0<b?(s=u.getStrokeJoin(),a=u.getStrokeCap(),o=u.getMiterLimit(),m=m.add(W._getStrokePadding(b,n))):s=a="round"),!r.ends||r.segments||f){if(r.segments||r.handles)for(var E=0;E<d;E++)if(e=S(p[E]))return e}else if(e=S(p[0],!0)||S(p[d-1],!0))return e;if(null!==b&&((l=this.getNearestLocation(i))&&(0===(u=l.getTime())||1===u&&1<d?k(l.getSegment())||(l=null):w(l.getPoint(),m)||(l=null)),!l&&"miter"===s&&1<d))for(E=0;E<d;E++){var A=p[E];if(i.getDistance(A._point)<=o*b&&k(A)){l=A.getLocation();break}}return!l&&v&&this._contains(i)||l&&!_&&!y?new P("fill",this):l?new P(_?"stroke":"curve",this,{location:l,point:l.getPoint()}):null}},j.each(U._evaluateMethods,function(e){this[e+"At"]=function(t){t=this.getLocationAt(t);return t&&t[e]()}},{beans:!1,getLocationOf:function(){for(var t=L.read(arguments),e=this.getCurves(),i=0,n=e.length;i<n;i++){var r=e[i].getLocationOf(t);if(r)return r}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if("number"==typeof t){for(var e=this.getCurves(),i=0,n=0,r=e.length;n<r;n++){var s=i,a=e[n];if(t<(i+=a.getLength()))return a.getLocationAt(t-s)}if(0<e.length&&t<=this.getLength())return new H(e[e.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null},getOffsetsWithTangent:function(){var t=L.read(arguments);if(t.isZero())return[];for(var e=[],i=0,n=this.getCurves(),r=0,s=n.length;r<s;r++){for(var a=n[r],o=a.getTimesWithTangent(t),h=0,l=o.length;h<l;h++){var c=i+a.getOffsetAtTime(o[h]);e.indexOf(c)<0&&e.push(c)}i+=a.length}return e}}),new function(){function _(n,t,r){var s,a,o,h,l,c,u,p,e=t._segments,i=e.length,d=new Array(6),f=!0;function g(t){var e,i;a=r?(t._transformCoordinates(r,d),s=d[0],d[1]):(e=t._point,s=e._x,e._y),f?(n.moveTo(s,a),f=!1):(c=r?(l=d[2],d[3]):(i=t._handleIn,l=s+i._x,a+i._y),l===s&&c===a&&u===o&&p===h?n.lineTo(s,a):n.bezierCurveTo(u,p,l,c,s,a)),o=s,h=a,p=r?(u=d[4],d[5]):(i=t._handleOut,u=o+i._x,h+i._y)}for(var m=0;m<i;m++)g(e[m]);t._closed&&0<i&&g(e[0])}return{_draw:function(t,e,i,n){var r=e.dontStart,s=e.dontFinish||e.clip,a=this.getStyle(),o=a.hasFill(),h=a.hasStroke(),l=a.getDashArray(),c=!B.support.nativeDash&&h&&l&&l.length;function u(t){return l[(t%c+c)%c]}if(r||t.beginPath(),(o||h&&!c||s)&&(_(t,this,n),this._closed)&&t.closePath(),!s&&(o||h)&&(this._setStyles(t,e,i),o&&(t.fill(a.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),h)){if(c){r||t.beginPath();for(var p,d=new J(this,.25,32,!1,n),f=d.length,g=-a.getDashOffset(),m=0;0<g;)g-=u(m--)+u(m--);for(;g<f;)p=g+u(m++),(0<g||0<p)&&d.drawPart(t,Math.max(g,0),Math.max(p,0)),g=p+u(m++)}t.stroke()}},_drawSelected:function(t,e){t.beginPath(),_(t,this,e),t.stroke();var i=t,n=this._segments,r=e,s=B.settings.handleSize;if(!(s<=0))for(var a,o,h=s/2,l=s-2,c=h-1,u=new Array(6),p=0,d=n.length;p<d;p++){var f=n[p],g=f._selection;f._transformCoordinates(r,u),a=u[0],o=u[1],2&g&&m(2),4&g&&m(4),i.fillRect(a-h,o-h,s,s),0<l&&!(1&g)&&(f=i.fillStyle,i.fillStyle="#ffffff",i.fillRect(a-c,o-c,l,l),i.fillStyle=f)}function m(t){var e=u[t],t=u[t+1];a==e&&o==t||(i.beginPath(),i.moveTo(a,o),i.lineTo(e,t),i.stroke(),i.beginPath(),i.arc(e,t,h,0,2*Math.PI,!0),i.fill())}}}},new function(){function P(t){t=t._segments;if(t.length)return t[t.length-1];throw new Error("Use a moveTo() command first")}return{moveTo:function(){var t=this._segments;1===t.length&&this.removeSegment(0),t.length||this._add([new q(L.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new q(L.read(arguments))])},cubicCurveTo:function(){var t=arguments,e=L.read(t),i=L.read(t),t=L.read(t),n=P(this);n.setHandleOut(e.subtract(n._point)),this._add([new q(t,i.subtract(t))])},quadraticCurveTo:function(){var t=arguments,e=L.read(t),t=L.read(t),i=P(this)._point;this.cubicCurveTo(e.add(i.subtract(e).multiply(1/3)),e.add(t.subtract(e).multiply(1/3)),t)},curveTo:function(){var t=arguments,e=L.read(t),i=L.read(t),t=j.pick(j.read(t),.5),n=1-t,r=P(this)._point,e=e.subtract(r.multiply(n*n)).subtract(i.multiply(t*t)).divide(2*t*n);if(e.isNaN())throw new Error("Cannot put a curve through points with parameter = "+t);this.quadraticCurveTo(e,i)},arcTo:function(){var t,e=arguments,i=Math.abs,n=Math.sqrt,r=P(this),s=r._point,a=L.read(e),o=j.peek(e);if("boolean"==typeof(o=j.pick(o,!0)))var h=(u=s.add(a).divide(2)).add(u.subtract(s).rotate(o?-90:90));else if(j.remain(e)<=2)h=a,a=L.read(e);else if(!s.equals(a)){var l=O.read(e),c=F.isZero;if(c(l.width)||c(l.height))return this.lineTo(a);var c=j.read(e),o=!!j.read(e),e=!!j.read(e),u=s.add(a).divide(2),p=(T=s.subtract(u).rotate(-c)).x,d=T.y,f=i(l.width),l=i(l.height),g=f*f,m=l*l,_=p*p,v=d*d,y=n(_/g+v/m);if(1<y&&(g=(f*=y)*f,m=(l*=y)*l),(y=i(y=(g*m-g*v-m*_)/(g*v+m*_))<1e-12?0:y)<0)throw new Error("Cannot create an arc with the given arguments");b=new L(f*d/l,-l*p/f).multiply((e==o?-1:1)*n(y)).rotate(c).add(u),g=(w=(t=(new N).translate(b).rotate(c).scale(f,l))._inverseTransform(s)).getDirectedAngle(t._inverseTransform(a)),!o&&0<g?g-=360:o&&g<0&&(g+=360)}if(h){var b,v=new M(s.add(h).divide(2),h.subtract(s).rotate(90),!0),m=new M(h.add(a).divide(2),a.subtract(h).rotate(90),!0),_=new M(s,a),d=_.getSide(h);if(!(b=v.intersect(m,!0))){if(d)throw new Error("Cannot create an arc with the given arguments");return this.lineTo(a)}var w,g=(w=s.subtract(b)).getDirectedAngle(a.subtract(b)),p=_.getSide(b,!0);0===p?g=d*i(g):d===p&&(g+=g<0?360:-360)}if(g){for(var e=i(g),x=360<=e?4:Math.ceil((e-1e-7)/90),S=g/x,n=S*Math.PI/360,C=4/3*Math.sin(n)/(1+Math.cos(n)),k=[],E=0;E<=x;E++){var A,T=a,I=null;E<x&&(I=w.rotate(90).multiply(C),t?(T=t._transformPoint(w),I=t._transformPoint(w.add(I)).subtract(T)):T=b.add(w)),E?(A=w.rotate(-90).multiply(C),t&&(A=t._transformPoint(w.add(A)).subtract(T)),k.push(new q(T,A,I))):r.setHandleOut(I),w=w.rotate(S)}this._add(k)}},lineBy:function(){var t=L.read(arguments),e=P(this)._point;this.lineTo(e.add(t))},curveBy:function(){var t=arguments,e=L.read(t),i=L.read(t),t=j.read(t),n=P(this)._point;this.curveTo(n.add(e),n.add(i),t)},cubicCurveBy:function(){var t=arguments,e=L.read(t),i=L.read(t),t=L.read(t),n=P(this)._point;this.cubicCurveTo(n.add(e),n.add(i),n.add(t))},quadraticCurveBy:function(){var t=arguments,e=L.read(t),t=L.read(t),i=P(this)._point;this.quadraticCurveTo(i.add(e),i.add(t))},arcBy:function(){var t=arguments,e=P(this)._point,i=e.add(L.read(t)),n=j.pick(j.peek(t),!0);"boolean"==typeof n?this.arcTo(i,n):this.arcTo(i,e.add(L.read(t)))},closePath:function(t){this.setClosed(!0),this.join(this,t)}}},{_getBounds:function(t,e){var i=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return W[i](this._segments,this._closed,this,t,e)},statics:{getBounds:function(t,e,i,n,r,s){var a=t[0];if(!a)return new x;var o=new Array(6),h=a._transformCoordinates(n,new Array(6)),l=h.slice(0,2),c=l.slice(),u=new Array(2);function p(t){t._transformCoordinates(n,o);for(var e=0;e<2;e++)U._addBounds(h[e],h[e+4],o[e+2],o[e],e,s?s[e]:0,l,c,u);t=h;h=o,o=t}for(var d=1,f=t.length;d<f;d++)p(t[d]);return e&&p(a),new x(l[0],l[1],c[0]-l[0],c[1]-l[1])},getStrokeBounds:function(t,e,i,n,r){var s=i.getStyle(),a=s.hasStroke(),o=s.getStrokeWidth(),h=a&&i._getStrokeMatrix(n,r),l=a&&W._getStrokePadding(o,h),c=W.getBounds(t,e,i,n,r,l);if(a){var u=o/2,p=s.getStrokeJoin(),i=s.getStrokeCap(),d=s.getMiterLimit(),f=new x(new O(l)),g=t.length-(e?0:1);if(0<g){for(var m=1;m<g;m++)y(t[m],p);e?y(t[0],p):(b(t[0],i),b(t[t.length-1],i))}}return c;function _(t){c=c.include(t)}function v(t){c=c.unite(f.setCenter(t._point.transform(n)))}function y(t,e){"round"===e||t.isSmooth()?v(t):W._addBevelJoin(t,e,u,d,n,h,_)}function b(t,e){"round"===e?v(t):W._addSquareCap(t,e,u,n,h,_)}},_getStrokePadding:function(t,e){var i,n,r,s,a;return e?(i=new L(t,0).transform(e),e=new L(0,t).transform(e),a=i.getAngleInRadians(),i=i.getLength(),e=e.getLength(),n=Math.sin(a),r=Math.cos(a),a=Math.tan(a),s=Math.atan2(e*a,i),a=Math.atan2(e,a*i),[Math.abs(i*Math.cos(s)*r+e*Math.sin(s)*n),Math.abs(e*Math.sin(a)*r+i*Math.cos(a)*n)]):[t,t]},_addBevelJoin:function(t,e,i,n,r,s,a,o){var t=t.getCurve(),h=t.getPrevious(),r=t.getPoint1().transform(r),h=h.getNormalAtTime(1).multiply(i).transform(s),t=t.getNormalAtTime(0).multiply(i).transform(s),s=h.getDirectedAngle(t);(s<0||180<=s)&&(h=h.negate(),t=t.negate()),o&&a(r),a(r.add(h)),"miter"===e&&(s=new M(r.add(h),new L(-h.y,h.x),!0).intersect(new M(r.add(t),new L(-t.y,t.x),!0),!0))&&r.getDistance(s)<=n*i&&a(s),a(r.add(t))},_addSquareCap:function(t,e,i,n,r,s,a){n=t._point.transform(n),t=t.getLocation(),t=t.getNormal().multiply(0===t.getTime()?i:-i).transform(r);"square"===e&&(a&&(s(n.subtract(t)),s(n.add(t))),n=n.add(t.rotate(-90))),s(n.add(t)),s(n.subtract(t))},getHandleBounds:function(t,e,i,n,r){for(var s,a,o,h=i.getStyle(),l=(r.stroke&&h.hasStroke()&&(i=i._getStrokeMatrix(n,r),o=r=h.getStrokeWidth()/2,"miter"===h.getStrokeJoin()&&(o=r*h.getMiterLimit()),"square"===h.getStrokeCap()&&(o=Math.max(o,r*Math.SQRT2)),s=W._getStrokePadding(r,i),a=W._getStrokePadding(o,i)),new Array(6)),c=1/0,u=-c,p=c,d=u,f=0,g=t.length;f<g;f++){t[f]._transformCoordinates(n,l);for(var m=0;m<6;m+=2){var _=m?s:a,v=_?_[0]:0,_=_?_[1]:0,y=l[m],b=l[m+1],w=y-v,y=y+v,v=b-_,b=b+_;w<c&&(c=w),u<y&&(u=y),v<p&&(p=v),d<b&&(d=b)}}return new x(c,p,u-c,d-p)}}}),G=(W.inject({statics:new function(){var l=.5522847498307936,a=[new q([-1,0],[0,l],[0,-l]),new q([0,-1],[-l,0],[l,0]),new q([1,0],[0,-l],[0,l]),new q([0,1],[l,0],[-l,0])];function c(t,e,i){var i=j.getNamed(i),n=new W(i&&0==i.insert&&z.NO_INSERT);return n._add(t),n._closed=e,n.set(i,{insert:!0})}function n(t,e,i){for(var n=new Array(4),r=0;r<4;r++){var s=a[r];n[r]=new q(s._point.multiply(e).add(t),s._handleIn.multiply(e),s._handleOut.multiply(e))}return c(n,!0,i)}return{Line:function(){var t=arguments;return c([new q(L.readNamed(t,"from")),new q(L.readNamed(t,"to"))],!1,t)},Circle:function(){var t=arguments,e=L.readNamed(t,"center"),i=j.readNamed(t,"radius");return n(e,new O(i),t)},Rectangle:function(){var t,e,i=arguments,n=x.readNamed(i,"rectangle"),r=O.readNamed(i,"radius",0,{readNull:!0}),s=n.getBottomLeft(!0),a=n.getTopLeft(!0),o=n.getTopRight(!0),h=n.getBottomRight(!0);return c(!r||r.isZero()?[new q(s),new q(a),new q(o),new q(h)]:(n=(r=O.min(r,n.getSize(!0).divide(2))).width,r=r.height,t=n*l,e=r*l,[new q(s.add(n,0),null,[-t,0]),new q(s.subtract(0,r),[0,e]),new q(a.add(0,r),null,[0,-e]),new q(a.add(n,0),[-t,0],null),new q(o.subtract(n,0),null,[t,0]),new q(o.add(0,r),[0,-e],null),new q(h.subtract(0,r),null,[0,e]),new q(h.subtract(n,0),[t,0])]),!0,i)},RoundRectangle:"#Rectangle",Ellipse:function(){var t=arguments,e=d._readEllipse(t);return n(e.center,e.radius,t)},Oval:"#Ellipse",Arc:function(){var t=arguments,e=L.readNamed(t,"from"),i=L.readNamed(t,"through"),n=L.readNamed(t,"to"),t=j.getNamed(t),r=new W(t&&0==t.insert&&z.NO_INSERT);return r.moveTo(e),r.arcTo(i,n),r.set(t)},RegularPolygon:function(){for(var t=arguments,e=L.readNamed(t,"center"),i=j.readNamed(t,"sides"),n=j.readNamed(t,"radius"),r=360/i,s=i%3==0,a=new L(0,s?-n:n),o=s?-1:.5,h=new Array(i),l=0;l<i;l++)h[l]=new q(e.add(a.rotate((l+o)*r)));return c(h,!0,t)},Star:function(){for(var t=arguments,e=L.readNamed(t,"center"),i=2*j.readNamed(t,"points"),n=j.readNamed(t,"radius1"),r=j.readNamed(t,"radius2"),s=360/i,a=new L(0,-1),o=new Array(i),h=0;h<i;h++)o[h]=new q(e.add(a.rotate(s*h).multiply(h%2?r:n)));return c(o,!0,t)}}}}),$.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||("string"==typeof t?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function t(e,i){var n=i,r=n[0];r&&"number"==typeof r[0]&&(n=[n]);for(var s=i.length-1;0<=s;s--){var a=n[s];n!==i||a instanceof W||(n=j.slice(n)),Array.isArray(a)?n[s]=new W({segments:a,insert:!1}):a instanceof G&&(n.splice.apply(n,[s,1].concat(a.removeChildren())),a.remove())}return t.base.call(this,e,n)},reduce:function t(e){for(var i,n=this._children,r=n.length-1;0<=r;r--)(i=n[r].reduce(e)).isEmpty()&&i.remove();return n.length?t.base.call(this):((i=new W(z.NO_INSERT)).copyAttributes(this),i.insertAbove(this),this.remove(),i)},isClosed:function(){for(var t=this._children,e=0,i=t.length;e<i;e++)if(!t[e]._closed)return!1;return!0},setClosed:function(t){for(var e=this._children,i=0,n=e.length;i<n;i++)e[i].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],i=0,n=t.length;i<n;i++)j.push(e,t[i].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,e=0,i=0,n=t.length;i<n;i++)e+=t[i].getArea();return e},getLength:function(){for(var t=this._children,e=0,i=0,n=t.length;i<n;i++)e+=t[i].getLength();return e},getPathData:function(t,e){for(var i=this._children,n=[],r=0,s=i.length;r<s;r++){var a=i[r],o=a._matrix;n.push(a.getPathData(t&&!o.isIdentity()?t.appended(o):t,e))}return n.join("")},_hitTestChildren:function t(e,i,n){return t.base.call(this,e,i.class===W||"path"===i.type?i:j.set({},i,{fill:!1}),n)},_draw:function(t,e,i,n){var r=this._children;if(r.length){e=e.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var s=0,a=r.length;s<a;s++)r[s].draw(t,e,n);e.clip||(this._setStyles(t,e,i),(i=this._style).hasFill()&&(t.fill(i.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),i.hasStroke()&&t.stroke())}},_drawSelected:function(t,e,i){for(var n=this._children,r=0,s=n.length;r<s;r++){var a=n[r],o=a._matrix;i[a._id]||a._drawSelected(t,o.isIdentity()?e:e.appended(o))}}},new function(){function i(t,e){t=t._children;if(e&&!t.length)throw new Error("Use a moveTo() command first");return t[t.length-1]}return j.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var t=i(this,!0);t[e].apply(t,arguments)}},{moveTo:function(){var t=i(this),e=t&&t.isEmpty()?t:new W(z.NO_INSERT);e!==t&&this.addChild(e),e.moveTo.apply(e,arguments)},moveBy:function(){var t=i(this,!0),t=t&&t.getLastSegment(),e=L.read(arguments);this.moveTo(t?e.add(t._point):e)},closePath:function(t){i(this,!0).closePath(t)}})},j.each(["reverse","flatten","simplify","smooth"],function(s){this[s]=function(t){for(var e,i=this._children,n=0,r=i.length;n<r;n++)e=i[n][s](t)||e;return e}},{}))),J=($.inject(new function(){var O=Math.min,N=Math.max,M=Math.abs,S={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function C(t){return t._children||[t]}function k(t,e){var i=t.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(e){for(var n=C(i),r=0,s=n.length;r<s;r++)(t=n[r])._closed||t.isEmpty()||(t.closePath(1e-12),t.getFirstSegment().setHandleIn(0,0),t.getLastSegment().setHandleOut(0,0));i=i.resolveCrossings().reorient("nonzero"===i.getFillRule(),!0)}return i}function E(t,e,i,n,r){var s=new G(z.NO_INSERT);return s.addChildren(t,!0),s=s.reduce({simplify:e}),r&&0==r.insert||s.insertAbove(n&&i.isSibling(n)&&i.getIndex()<n.getIndex()?n:i),s.copyAttributes(i,!0),s}function A(t){return t.hasOverlap()||t.isCrossing()}function i(t,e,i,n){if(n&&(0==n.trace||n.stroke)&&/^(subtract|intersect)$/.test(i))return T(t,e,i);var r,s=k(t,!0),a=e&&t!==e&&k(e,!0),o=S[i],h=(o[i]=!0,a&&(o.subtract||o.exclude)^(a.isClockwise()^s.isClockwise())&&a.reverse(),L(H.expand(s.getIntersections(a,A)))),i=C(s),l=a&&C(a),c=[],u=[];function p(t){for(var e=0,i=t.length;e<i;e++){var n=t[e];j.push(c,n._segments),j.push(u,n.getCurves()),n._overlapsOnly=!0}}function d(t){for(var e=[],i=0,n=t&&t.length;i<n;i++)e.push(u[t[i]]);return e}if(h.length){p(i),l&&p(l);for(var f=new Array(u.length),g=0,m=u.length;g<m;g++)f[g]=u[g].getValues();for(var _=K.findCurveBoundsCollisions(f,f,0,!0),v={},g=0;g<u.length;g++){var y=u[g],b=y._path._id;(v[b]=v[b]||{})[y.getIndex()]={hor:d(_[g].hor),ver:d(_[g].ver)}}for(g=0,m=h.length;g<m;g++)D(h[g]._segment,s,a,v,o);for(g=0,m=c.length;g<m;g++){var w=c[g],x=w._intersection;w._winding||D(w,s,a,v,o),x&&x._overlap||(w._path._overlapsOnly=!1)}r=B(c,o)}else r=P(l?i.concat(l):i.slice(),function(t){return!!o[t]});return E(r,!0,t,e,n)}function T(t,e,i){var n=k(t),r=k(e),s=n.getIntersections(r,A),a="subtract"===i,o="divide"===i,h={},l=[];function c(t){return!h[t._id]&&(o||r.contains(t.getPointAt(t.getLength()/2))^a)&&(l.unshift(t),h[t._id]=!0)}for(var u=s.length-1;0<=u;u--){var p=s[u].split();p&&(c(p)&&p.getFirstSegment().setHandleIn(0,0),n.getLastSegment().setHandleOut(0,0))}return c(n),E(l,!1,t,e)}function x(t,e){for(var i=t;i;){if(i===e)return;i=i._previous}for(;t._next&&t._next!==e;)t=t._next;if(!t._next){for(;e._previous;)e=e._previous;(t._next=e)._previous=t}}function I(t){for(var e=t.length-1;0<=e;e--)t[e].clearHandles()}function P(t,e,i){var n=t&&t.length;if(n){var r=j.each(t,function(t,e){this[t._id]={container:null,winding:t.isClockwise()?1:-1,index:e}},{}),s=t.slice().sort(function(t,e){return M(e.getArea())-M(t.getArea())}),a=s[0],o=K.findItemBoundsCollisions(s,null,F.GEOMETRIC_EPSILON);null==i&&(i=a.isClockwise());for(var h=0;h<n;h++){var l,c=s[h],u=r[c._id],p=0,d=o[h];if(d)for(var f=null,g=d.length-1;0<=g;g--)if(d[g]<h){var f=f||c.getInteriorPoint(),m=s[d[g]];if(m.contains(f)){var _=r[m._id],p=_.winding;u.winding+=p,u.container=_.exclude?_.container:m;break}}e(u.winding)===e(p)?(u.exclude=!0,t[u.index]=null):(l=u.container,c.setClockwise(l?!l.isClockwise():i))}}return t}function L(t,e,i){var n,r,s,a=e&&[],o=!1,h=i||[],l=i&&{};function c(t){return t._path._id+"."+t._segment1._index}for(var u=(i&&i.length)-1;0<=u;u--)(p=i[u])._path&&(l[c(p)]=!0);for(u=t.length-1;0<=u;u--){var p,d=t[u],f=d._time,g=f,m=e&&!e(d);if((p=d._curve)&&(p!==r?(o=!p.hasHandles()||l&&l[c(p)],n=[],s=null,r=p):1e-8<=s&&(f/=s)),m)n&&n.push(d);else{if(e&&a.unshift(d),s=g,f<1e-8)_=p._segment1;else if(1-1e-8<f)_=p._segment2;else{m=p.divideAtTime(f,!0);o&&h.push(p,m);for(var _=m._segment1,v=n.length-1;0<=v;v--){var y=n[v];y._time=(y._time-f)/(1-f)}}d._setSegment(_);var b=_._intersection,g=d._intersection;if(b){x(b,g);for(var w=b;w;)x(w._intersection,b),w=w._next}else _._intersection=g}}return i||I(h),a||t}function R(l,c,u,p,d){var t,e=Array.isArray(c)?c:c[u?"hor":"ver"],f=u?1:0,g=1^f,i=[l.x,l.y],m=i[f],_=i[g],v=1e-6,y=m-1e-9,b=m+1e-9,n=0,r=0,w=0,x=0,S=!1,s=!1,C=1,k=[];function a(t){var e=t[g+0],i=t[g+2],n=t[g+4],r=t[g+6];if(_<=N(e,i,n,r)&&_>=O(e,i,n,r))for(var s,e=t[f+0],i=t[f+2],n=t[f+4],r=t[f+6],a=y>N(e,i,n,r)||b<O(e,i,n,r)?[t]:U.getMonoCurves(t,u),o=0,h=a.length;o<h;o++)if(s=function(t){var e=t[g+0],i=t[g+6];if(!(_<O(e,i)||_>N(e,i))){var n,r,s=t[f+0],a=t[f+2],o=t[f+4],h=t[f+6];if(e!==i)return o=0===(a=_===e?0:_!==i&&!(y>N(s,a,o,h)||b<O(s,a,o,h))&&0<U.solveCubic(t,g,_,k,0,1)?k[0]:1)?s:1===a?h:U.getPoint(t,a)[u?"y":"x"],i=i<e?1:-1,n=I[g]>I[g+6]?1:-1,r=I[f+6],_!==e?(o<y?w+=i:b<o?x+=i:S=!0,m-v<o&&o<m+v&&(C/=2)):(i!=n?s<y?w+=i:b<s&&(x+=i):s!=r&&(r<b&&b<o?(x+=i,S=!0):y<r&&o<y&&(w+=i,S=!0)),C/=4),I=t,!d&&y<o&&o<b&&0===U.getTangent(t,a)[u?"x":"y"]&&R(l,c,!u,p,!0);(s<b&&y<h||h<b&&y<s)&&(S=!0)}}(a[o]))return s}for(var o=0,h=e.length;o<h;o++){var E=e[o],A=E._path,T=E.getValues();if(!(o&&e[o-1]._path===A||(I=null,A._closed||(t=U.getValues(A.getLastCurve().getSegment2(),E.getSegment1(),null,!p))[g]!==t[g+6]&&(I=t),I)))for(var I=T,P=A.getLastCurve();P&&P!==E;){var L=P.getValues();if(L[g]!==L[g+6]){I=L;break}P=P.getPrevious()}if(T=a(T))return T;if(o+1===h||e[o+1]._path!==A){if(t&&(T=a(t)))return T;n+=w=!S||w||x?w:x=A.isClockwise(p)^u?1:-1,r+=x,w=x=0,S=S&&!(s=!0),t=null}}return n=M(n),r=M(r),{winding:N(n,r),windingL:n,windingR:r,quality:C,onPath:s}}function D(t,e,i,n,r){var s=[],a=t,o=0;do{}while((m=t.getCurve())&&(u=m.getLength(),s.push({segment:t,curve:m,length:u}),o+=u),(t=t.getNext())&&!t._intersection&&t!==a);for(var h=[.5,.25,.75],l={winding:0,quality:-1},c=0;c<h.length&&l.quality<.5;c++)for(var u=o*h[c],p=0,d=s.length;p<d;p++){var f=s[p],g=f.length;if(u<=g){var m,f=(m=f.curve)._path,_=f._parent,_=_ instanceof G?_:f,v=F.clamp(m.getTimeAt(u),.001,.999),y=m.getPointAtTime(v),v=M(m.getTangentAtTime(v).y)<Math.SQRT1_2,b=null;if(r.subtract&&i){var w=(_===e?i:e)._getWinding(y,v,!0);if(_===e&&w.winding||_===i&&!w.winding){if(w.quality<1)continue;b={winding:0,quality:1}}}(b=b||R(y,n[f._id][m.getIndex()],v,!0)).quality>l.quality&&(l=b);break}u-=g}for(p=s.length-1;0<=p;p--)s[p].segment._winding=l}function B(t,e){var h,i=[];function l(t){return!(!t||t._visited||e&&(!e[(t=t._winding||{}).winding]||e.unite&&2===t.winding&&t.windingL&&t.windingR))}function c(t){if(t)for(var e=0,i=h.length;e<i;e++)if(t===h[e])return!0;return!1}function n(t){for(var e=t._segments,i=0,n=e.length;i<n;i++)e[i]._visited=!0}t.sort(function(t,e){var i=t._intersection,n=e._intersection,r=!(!i||!i._overlap),s=!(!n||!n._overlap),a=t._path,o=e._path;return r^s?r?1:-1:!i^!n?i?1:-1:a!==o?a._id-o._id:t._index-e._index});for(var r=0,s=t.length;r<s;r++){var a,o,u,p,d,f=t[r],g=l(f),m=null,_=!1,v=!0,y=[];for(g&&f._path._overlapsOnly&&(p=f._path,d=f._intersection._segment._path,p.compare(d))&&(p.getArea()&&i.push(p.clone(!1)),n(p),n(d),g=!1);g;){var b=!m,w=function(s,a){var t=s._intersection,e=t,o=[];function i(t,e){for(;t&&t!==e;){var i,n=t._segment,r=n&&n._path;r&&(i=(r=n.getNext()||r.getFirstSegment())._intersection,n!==s&&(c(n)||c(r)||r&&l(n)&&(l(r)||i&&l(i._segment)))&&o.push(n),a)&&h.push(n),t=t._next}}if(a&&(h=[s]),t){for(i(t);t&&t._previous;)t=t._previous;i(t,e)}return o}(f,b),x=w.shift(),S=!(_=!b&&(c(f)||c(x)))&&x;if(b&&(m=new W(z.NO_INSERT),a=null),_){(f.isFirst()||f.isLast())&&(v=f._path._closed),f._visited=!0;break}if(S&&a&&(y.push(a),a=null),a||(S&&w.push(f),a={start:m._segments.length,crossings:w,visited:o=[],handleIn:u}),!l(f=S?x:f)){m.removeSegments(a.start);for(var C=0,k=o.length;C<k;C++)o[C]._visited=!1;for(o.length=0;(f=a&&a.crossings.shift())&&f._path||(f=null,(a=y.pop())&&(o=a.visited,u=a.handleIn)),a&&!l(f););if(!f)break}b=f.getNext();m.add(new q(f._point,u,b&&f._handleOut)),f._visited=!0,o.push(f),f=b||f._path.getFirstSegment(),u=b&&b._handleIn}_&&(v&&(m.getFirstSegment().setHandleIn(u),m.setClosed(v)),0!==m.getArea())&&i.push(m)}return i}return{_getWinding:function(t,e,i){return R(t,this.getCurves(),e,i)},unite:function(t,e){return i(this,t,"unite",e)},intersect:function(t,e){return i(this,t,"intersect",e)},subtract:function(t,e){return i(this,t,"subtract",e)},exclude:function(t,e){return i(this,t,"exclude",e)},divide:function(t,e){return e&&(0==e.trace||e.stroke)?T(this,t,"divide"):E([this.subtract(t,e),this.intersect(t,e)],!0,this,t,e)},resolveCrossings:function(){var t=this._children,e=t||[this];function i(t,e){t=t&&t._intersection;return t&&t._overlap&&t._path===e}var n=!1,r=!1,s=this.getIntersections(null,function(t){return t.hasOverlap()?n=!0:t.isCrossing()&&(r=!0)}),a=n&&r&&[],s=H.expand(s);if(n)for(var o=L(s,function(t){return t.hasOverlap()},a),h=o.length-1;0<=h;h--){var l=o[h],c=l._path,l=l._segment,u=l.getPrevious(),p=l.getNext();i(u,c)&&i(p,c)&&(l.remove(),u._handleOut._set(0,0),p._handleIn._set(0,0),u===l||u.getCurve().hasLength()||(p._handleIn.set(u._handleIn),u.remove()))}r&&(L(s,n&&function(t){var e=t.getCurve(),i=t.getSegment(),t=t._intersection,n=t._curve,t=t._segment;if(e&&n&&e._path&&n._path)return!0;i&&(i._intersection=null),t&&(t._intersection=null)},a),a&&I(a),e=B(j.each(e,function(t){j.push(this,t._segments)},[])));var d,s=e.length;return 1<s&&t?(e!==t&&this.setChildren(e),d=this):1!==s||t||(e[0]!==this&&this.setSegments(e[0].removeSegments()),d=this),d||((d=new G(z.NO_INSERT)).addChildren(e),(d=d.reduce()).copyAttributes(this),this.replaceWith(d)),d},reorient:function(e,t){var i=this._children;return i&&i.length?this.setChildren(P(this.removeChildren(),function(t){return!!(e?t:1&t)},t)):t!==V&&this.setClockwise(t),this},getInteriorPoint:function(){var t=this.getBounds().getCenter(!0);if(!this.contains(t)){for(var e=this.getCurves(),i=t.y,n=[],r=[],s=0,a=e.length;s<a;s++){var o=e[s].getValues(),h=o[1],l=o[3],c=o[5],u=o[7];if(i>=O(h,l,c,u)&&i<=N(h,l,c,u))for(var p=U.getMonoCurves(o),d=0,f=p.length;d<f;d++){var g=p[d],m=g[1],_=g[7];m!==_&&(m<=i&&i<=_||_<=i&&i<=m)&&(m=i===m?g[0]:i===_?g[6]:1===U.solveCubic(g,1,i,r,0,1)?U.getPoint(g,r[0]).x:(g[0]+g[6])/2,n.push(m))}}1<n.length&&(n.sort(function(t,e){return t-e}),t.x=(n[0]+n[1])/2)}return t}}}),j.extend({_class:"PathFlattener",initialize:function(t,o,e,h,i){var n,r=[],l=[],c=0,u=1/(e||32),s=t._segments,a=s[0];function p(t,e){e=U.getValues(t,e,i);r.push(e),function t(e,i,n,r){{var s,a;!(u<r-n)||h&&U.isStraight(e)||U.isFlatEnough(e,o||.25)?(a=e[6]-e[0],s=e[7]-e[1],0<(a=Math.sqrt(a*a+s*s))&&(c+=a,l.push({offset:c,curve:e,index:i,time:r}))):(s=U.subdivide(e,.5),a=(n+r)/2,t(s[0],i,n,a),t(s[1],i,a,r))}}(e,t._index,0,1)}for(var d=1,f=s.length;d<f;d++)p(a,n=s[d]),a=n;t._closed&&p(n||a,s[0]),this.curves=r,this.parts=l,this.length=c,this.index=0},_get:function(t){for(var e,i=this.parts,n=i.length,r=this.index;(e=r)&&!(i[--r].offset<t););for(;e<n;e++){var s,a,o=i[e];if(o.offset>=t)return s=(a=i[(this.index=e)-1])&&a.index===o.index?a.time:0,a=a?a.offset:0,{index:o.index,time:s+(o.time-s)*(t-a)/(o.offset-a)}}return{index:i[n-1].index,time:1}},drawPart:function(t,e,i){for(var n=this._get(e),r=this._get(i),s=n.index,a=r.index;s<=a;s++){var o=U.getPart(this.curves[s],s===n.index?n.time:0,s===r.index?r.time:1);s===n.index&&t.moveTo(o[0],o[1]),t.bezierCurveTo.apply(t,o.slice(2))}}},j.each(U._evaluateMethods,function(e){this[e+"At"]=function(t){t=this._get(t);return U[e](this.curves[t.index],t.time)}},{}))),tt=j.extend({initialize:function(t){for(var e,i=this.points=[],n=t._segments,t=t._closed,r=0,s=n.length;r<s;r++){var a=n[r].point;e&&e.equals(a)||i.push(e=a.clone())}t&&(i.unshift(i[i.length-1]),i.push(i[1])),this.closed=t},fit:function(t){var e=this.points,i=e.length,n=null;return 0<i&&(n=[new q(e[0])],1<i)&&(this.fitCubic(n,t,0,i-1,e[1].subtract(e[0]),e[i-2].subtract(e[i-1])),this.closed)&&(n.shift(),n.pop()),n},fitCubic:function(t,e,i,n,r,s){var a,o,h=this.points;if(n-i==1)m=h[i],a=h[n],o=m.getDistance(a)/3,this.addCurve(t,[m,m.add(r.normalize(o)),a.add(s.normalize(o)),a]);else{for(var l,c=this.chordLengthParameterize(i,n),u=Math.max(e,e*e),p=!0,d=0;d<=4;d++){var f=this.generateBezier(i,n,c,r,s),g=this.findMaxError(i,n,f,c);if(g.error<e&&p)return void this.addCurve(t,f);if(l=g.index,g.error>=u)break;p=this.reparameterize(i,n,c,f),u=g.error}var m=h[l-1].subtract(h[l+1]);this.fitCubic(t,e,i,l,r,m),this.fitCubic(t,e,l,n,m.negate(),s)}},addCurve:function(t,e){t[t.length-1].setHandleOut(e[1].subtract(e[0])),t.push(new q(e[3],e[2].subtract(e[3])))},generateBezier:function(t,e,i,n,r){for(var s=Math.abs,a=this.points,o=a[t],h=a[e],l=[[0,0],[0,0]],c=[0,0],u=0,p=e-t+1;u<p;u++){var d=i[u],f=1-d,g=3*d*f,m=f*f*f,f=g*f,g=g*d,d=d*d*d,_=n.normalize(f),v=r.normalize(g),m=a[t+u].subtract(o.multiply(m+f)).subtract(h.multiply(g+d));l[0][0]+=_.dot(_),l[0][1]+=_.dot(v),l[1][0]=l[0][1],l[1][1]+=v.dot(v),c[0]+=_.dot(m),c[1]+=v.dot(m)}var y,b,w,x,S,e=l[0][0]*l[1][1]-l[1][0]*l[0][1],e=(1e-12<s(e)?(b=l[0][0]*c[1]-l[1][0]*c[0],y=(c[0]*l[1][1]-c[1]*l[0][1])/e,b=b/e):(e=l[0][0]+l[0][1],w=l[1][0]+l[1][1],y=b=1e-12<s(e)?c[0]/e:1e-12<s(w)?c[1]/w:0),h.getDistance(o)),s=1e-12*e;return y<s||b<s?y=b=e/3:(w=h.subtract(o),x=n.normalize(y),S=r.normalize(b),x.dot(w)-S.dot(w)>e*e&&(y=b=e/3,x=S=null)),[o,o.add(x||n.normalize(y)),h.add(S||r.normalize(b)),h]},reparameterize:function(t,e,i,n){for(var r=t;r<=e;r++)i[r-t]=this.findRoot(n,this.points[r],i[r-t]);for(var r=1,s=i.length;r<s;r++)if(i[r]<=i[r-1])return!1;return!0},findRoot:function(t,e,i){for(var n=[],r=[],s=0;s<=2;s++)n[s]=t[s+1].subtract(t[s]).multiply(3);for(s=0;s<=1;s++)r[s]=n[s+1].subtract(n[s]).multiply(2);var a=this.evaluate(3,t,i),o=this.evaluate(2,n,i),h=this.evaluate(1,r,i),a=a.subtract(e),e=o.dot(o)+a.dot(h);return F.isMachineZero(e)?i:i-a.dot(o)/e},evaluate:function(t,e,i){for(var n=e.slice(),r=1;r<=t;r++)for(var s=0;s<=t-r;s++)n[s]=n[s].multiply(1-i).add(n[s+1].multiply(i));return n[0]},chordLengthParameterize:function(t,e){for(var i=[0],n=t+1;n<=e;n++)i[n-t]=i[n-t-1]+this.points[n].getDistance(this.points[n-1]);for(var n=1,r=e-t;n<=r;n++)i[n]/=i[r];return i},findMaxError:function(t,e,i,n){for(var r=Math.floor((e-t+1)/2),s=0,a=t+1;a<e;a++){var o=this.evaluate(3,i,n[a-t]).subtract(this.points[a]),o=o.x*o.x+o.y*o.y;s<=o&&(s=o,r=a)}return{error:s,index:r}}}),et=z.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(t){this._content="",this._lines=[];var e=t&&j.isPlainObject(t)&&t.x===V&&t.y===V;this._initialize(e&&t,!e&&L.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),it=et.extend({_class:"PointText",initialize:function(){et.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new l(t.x,t.y,this,"setPoint")},setPoint:function(){var t=L.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,e,i){if(this._content){this._setStyles(t,e,i);var n=this._lines,e=this._style,r=e.hasFill(),s=e.hasStroke(),a=e.getLeading(),o=t.shadowColor;t.font=e.getFontStyle(),t.textAlign=e.getJustification();for(var h=0,l=n.length;h<l;h++){t.shadowColor=o;var c=n[h];r&&(t.fillText(c,0,0),t.shadowColor="rgba(0,0,0,0)"),s&&t.strokeText(c,0,0),t.translate(0,a)}}},_getBounds:function(t,e){var i=this._style,n=this._lines,r=n.length,s=i.getJustification(),a=i.getLeading(),i=this.getView().getTextWidth(i.getFontStyle(),n),n=0,s=("left"!==s&&(n-=i/("center"===s?2:1)),new x(n,r?-.75*a:0,i,r*a));return t?t._transformBounds(s,s):s}}),S=j.extend(new function(){var _,v={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},y={},b={transparent:[0,0,0,0]};var r=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],i={"rgb-hsb":function(t,e,i){var n=Math.max(t,e,i),r=n-Math.min(t,e,i);return[0==r?0:60*(n==t?(e-i)/r+(e<i?6:0):n==e?(i-t)/r+2:(t-e)/r+4),0===n?0:r/n,n]},"hsb-rgb":function(t,e,i){t=(t/60%6+6)%6;var n=Math.floor(t),t=t-n,i=[i,i*(1-e),i*(1-e*t),i*(1-e*(1-t))];return[i[(n=r[n])[0]],i[n[1]],i[n[2]]]},"rgb-hsl":function(t,e,i){var n=Math.max(t,e,i),r=Math.min(t,e,i),s=n-r,a=0==s,o=(n+r)/2;return[a?0:60*(n==t?(e-i)/s+(e<i?6:0):n==e?(i-t)/s+2:(t-e)/s+4),a?0:o<.5?s/(n+r):s/(2-n-r),o]},"hsl-rgb":function(t,e,i){if(0===e)return[i,i,i];for(var n=[(t=(t/360%1+1)%1)+1/3,t,t-1/3],r=i<.5?i*(1+e):i+e-i*e,s=2*i-r,a=[],o=0;o<3;o++){var h=n[o];h<0&&(h+=1),1<h&&--h,a[o]=6*h<1?s+6*(r-s)*h:2*h<1?r:3*h<2?s+(r-s)*(2/3-h)*6:s}return a},"rgb-gray":function(t,e,i){return[.2989*t+.587*e+.114*i]},"gray-rgb":function(t){return[t,t,t]},"gray-hsb":function(t){return[0,0,t]},"gray-hsl":function(t){return[0,0,t]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return j.each(v,function(t,s){y[s]=[],j.each(t,function(t,e){var i=j.capitalize(t),n=/^(hue|saturation)$/.test(t),r=y[s][e]="gradient"===s?"gradient"===t?function(t){var e=this._components[0];return e!==(t=nt.read(Array.isArray(t)?t:arguments,0,{readNull:!0}))&&(e&&e._removeOwner(this),t)&&t._addOwner(this),t}:function(){return L.read(arguments,0,{readNull:"highlight"===t,clone:!0})}:function(t){return null==t||isNaN(t)?0:+t};this["get"+i]=function(){return(this._type===s||n&&/^hs[bl]$/.test(this._type)?this._components:this._convert(s))[e]},this["set"+i]=function(t){this._type===s||n&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(s),this._properties=v[s],this._type=s),this._components[e]=r.call(this,t),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function t(e){var i,n,r=arguments,s=this.__read,a=0,o=null!=(e=Array.isArray(e)?(r=e)[0]:e)&&typeof e;if("string"===o&&e in v&&(h=e,e=r[1],Array.isArray(e)?(i=e,c=r[2]):(s&&(a=1),r=j.slice(r,1),o=typeof e)),!i){if(n="number"===o?r:"object"===o&&null!=e.length?e:null){var h=h||(3<=n.length?"rgb":"gray"),l=v[h].length,c=n[l];s&&(a+=n===arguments?l+(null!=c?1:0):1),n.length>l&&(n=j.slice(n,0,l))}else if("string"===o){l=function(t){var e=t.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||t.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),i="rgb";if(e)for(var n=e[4]?4:3,r=new Array(n),s=0;s<n;s++){var a=e[s+1];r[s]=parseInt(1==a.length?a+a:a,16)/255}else if(e=t.match(/^(rgb|hsl)a?\((.*)\)$/)){i=e[1],r=e[2].trim().split(/[,\s]+/g);for(var o="hsl"===i,s=0,h=Math.min(r.length,4);s<h;s++){var l,c=r[s],a=parseFloat(c);o?0===s?(l=c.match(/([a-z]*)$/)[1],a*={turn:360,rad:180/Math.PI,grad:.9}[l]||1):s<3&&(a/=100):s<3&&(a/=/%$/.test(c)?100:255),r[s]=a}}else{var u,p=b[t];r=(p=p||(T?(_||((_=A.getContext(1,1)).globalCompositeOperation="copy"),_.fillStyle="rgba(0,0,0,0)",_.fillStyle=t,_.fillRect(0,0,1,1),u=_.getImageData(0,0,1,1).data,b[t]=[u[0]/255,u[1]/255,u[2]/255]):[0,0,0])).slice()}return[i,r]}(e);h=l[0],4===(i=l[1]).length&&(c=i[3],i.length--)}else if("object"===o)if(e.constructor===t){if(h=e._type,i=e._components.slice(),c=e._alpha,"gradient"===h)for(var u=1,p=i.length;u<p;u++){var d=i[u];d&&(i[u]=d.clone())}}else if(e.constructor===nt)h="gradient",n=r;else{h="hue"in e?"lightness"in e?"hsl":"hsb":"gradient"in e||"stops"in e||"radial"in e?"gradient":"gray"in e?"gray":"rgb";var f=v[h],g=y[h];this._components=i=[];for(u=0,p=f.length;u<p;u++)null==(m=e[f[u]])&&!u&&"gradient"===h&&"stops"in e&&(m={stops:e.stops,radial:e.radial}),null!=(m=g[u].call(this,m))&&(i[u]=m);c=e.alpha}s&&h&&(a=1)}if(this._type=h||"rgb",!i){this._components=i=[];for(var m,u=0,p=(g=y[this._type]).length;u<p;u++)null!=(m=g[u].call(this,n&&n[u]))&&(i[u]=m)}return this._components=i,this._properties=v[this._type],this._alpha=c,s&&(this.__read=a),this},set:"#initialize",_serialize:function(t,e){var i=this.getComponents();return j.serialize(/^(gray|rgb)$/.test(this._type)?i:[this._type].concat(i),t,!0,e)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(t){var e;return this._type===t?this._components.slice():(e=i[this._type+"-"+t])?e.apply(this,this._components):i["rgb-"+t].apply(this,i[this._type+"-rgb"].apply(this,this._components))},convert:function(t){return new S(t,this._convert(t),this._alpha)},getType:function(){return this._type},setType:function(t){this._components=this._convert(t),this._properties=v[t],this._type=t},getComponents:function(){var t=this._components.slice();return null!=this._alpha&&t.push(this._alpha),t},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(t){this._alpha=null==t?null:Math.min(Math.max(t,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(t){var e=j.isPlainValue(t,!0)?S.read(arguments):t;return e===this||e&&this._class===e._class&&this._type===e._type&&this.getAlpha()===e.getAlpha()&&j.equals(this._components,e._components)||!1},toString:function(){for(var t=this._properties,e=[],i="gradient"===this._type,n=w.instance,r=0,s=t.length;r<s;r++){var a=this._components[r];null!=a&&e.push(t[r]+": "+(i?a:n.number(a)))}return null!=this._alpha&&e.push("alpha: "+n.number(this._alpha)),"{ "+e.join(", ")+" }"},toCSS:function(t){var e=this._convert("rgb"),i=t||null==this._alpha?1:this._alpha;function n(t){return Math.round(255*(t<0?0:1<t?1:t))}return e=[n(e[0]),n(e[1]),n(e[2])],i<1&&e.push(i<0?0:i),t?"#"+((1<<24)+(e[0]<<16)+(e[1]<<8)+e[2]).toString(16).slice(1):(4==e.length?"rgba(":"rgb(")+e.join(",")+")"},toCanvasStyle:function(t,e){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var i,n=this._components,r=n[0],s=r._stops,a=n[1],o=n[2],n=n[3],e=e&&e.inverted();e&&(a=e._transformPoint(a),o=e._transformPoint(o),n=n&&e._transformPoint(n)),i=r._radial?(e=o.getDistance(a),r=(n=n&&(r=n.subtract(a)).getLength()>e?a.add(r.normalize(e-.1)):n)||a,t.createRadialGradient(r.x,r.y,0,a.x,a.y,e)):t.createLinearGradient(a.x,a.y,o.x,o.y);for(var h=0,l=s.length;h<l;h++){var c=s[h],u=c._offset;i.addColorStop(null==u?h/(l-1):u,c._color.toCanvasStyle())}return this._canvasStyle=i},transform:function(t){if("gradient"===this._type){for(var e=this._components,i=1,n=e.length;i<n;i++){var r=e[i];t._transformPoint(r,r,!0)}this._changed()}},statics:{_types:v,random:function(){var t=Math.random;return new S(t(),t(),t())},_setOwner:function(t,e,i){return t&&!(t=t._owner&&e&&t._owner!==e?t.clone():t)._owner^!e&&(t._owner=e||null,t._setter=i||null),t}}})},new function(){return j.each({add:function(t,e){return t+e},subtract:function(t,e){return t-e},multiply:function(t,e){return t*e},divide:function(t,e){return t/e}},function(a,t){this[t]=function(t){t=S.read(arguments);for(var e=this._type,i=this._components,n=t._convert(e),r=0,s=i.length;r<s;r++)n[r]=a(i[r],n[r]);return new S(e,n,null!=this._alpha?a(this._alpha,t.getAlpha()):null)}},{})}),nt=j.extend({_class:"Gradient",initialize:function(t,e){this._id=o.get(),t&&j.isPlainObject(t)&&(this.set(t),t=e=null),null==this._stops&&this.setStops(t||["white","black"]),null==this._radial&&this.setRadial("string"==typeof e&&"radial"===e||e||!1)},_serialize:function(t,e){return e.add(this,function(){return j.serialize([this._stops,this._radial],t,!0,e)})},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;t<e;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){t=this._owners?this._owners.indexOf(t):-1;-1!=t&&(this._owners.splice(t,1),this._owners.length||(this._owners=V))},clone:function(){for(var t=[],e=0,i=this._stops.length;e<i;e++)t[e]=this._stops[e].clone();return new nt(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var i=0,n=e.length;i<n;i++)e[i]._owner=V;for(i=0,n=(e=this._stops=rt.readList(t,0,{clone:!0})).length;i<n;i++)e[i]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var e=this._stops,i=t._stops,n=e.length;if(n===i.length){for(var r=0;r<n;r++)if(!e[r].equals(i[r]))return!1;return!0}}return!1}}),rt=j.extend({_class:"GradientStop",initialize:function(t,e){var i=t,n=e;"object"==typeof t&&e===V&&(Array.isArray(t)&&"number"!=typeof t[0]?(i=t[0],n=t[1]):("color"in t||"offset"in t||"rampPoint"in t)&&(i=t.color,n=t.offset||t.rampPoint||0)),this.setColor(i),this.setOffset(n)},clone:function(){return new rt(this._color.clone(),this._offset)},_serialize:function(t,e){var i=this._color,n=this._offset;return j.serialize(null==n?[i]:[i,n],t,!0,e)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){S._setOwner(this._color,null),this._color=S._setOwner(S.read(arguments,0),this,"setColor"),this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),st=j.extend(new function(){var n={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new L,selectedColor:null},r=j.set({},n,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),s=j.set({},r,{fillColor:new S}),i={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},a={beans:!0},d={_class:"Style",beans:!0,initialize:function(t,e,i){this._values={},this._owner=e,this._project=e&&e._project||i||B.project,this._defaults=!e||e instanceof g?r:e instanceof et?s:n,t&&this.set(t)}};return j.each(r,function(t,h){var l=/Color$/.test(h),c="shadowOffset"===h,e=j.capitalize(h),o=i[h],u="set"+e,p="get"+e;d[u]=function(t){var e,i=this._owner,n=i&&i._children,r=n&&0<n.length&&!(i instanceof G);if(r)for(var s=0,a=n.length;s<a;s++)n[s]._style[u](t);("selectedColor"===h||!r)&&h in this._defaults&&(e=this._values[h])!==t&&(l&&(e&&(S._setOwner(e,null),e._canvasStyle=null),t)&&t.constructor===S&&(t=S._setOwner(t,i,r&&u)),this._values[h]=t,i)&&i._changed(o||129)},d[p]=function(t){var e,i=this._owner,n=i&&i._children,r=n&&0<n.length&&!(i instanceof G);if(r&&!t)for(var s=0,a=n.length;s<a;s++){var o=n[s]._style[p]();if(s){if(!j.equals(e,o))return V}else e=o}else h in this._defaults&&((e=this._values[h])===V?(e=this._defaults[h])&&e.clone&&(e=e.clone()):!(t=l?S:c?L:null)||e&&e.constructor===t||(this._values[h]=e=t.read([e],0,{readNull:!0,clone:!0})));return e=e&&l?S._setOwner(e,i,r&&u):e},a[p]=function(t){return this._style[p](t)},a[u]=function(t){this._style[u](t)}}),j.each({Font:"FontFamily",WindingRule:"FillRule"},function(t,e){var i="get"+e,e="set"+e;d[i]=a[i]="#get"+t,d[e]=a[e]="#set"+t}),z.inject(a),d},{set:function(t){var e,i=t instanceof st,n=i?t._values:t;if(n)for(var r in n)r in this._defaults&&(e=n[r],this[r]=e&&i&&e.clone?e.clone():e)},equals:function(t){function e(t,e,i){var n,r=t._values,s=e._values,a=e._defaults;for(n in r){var o=r[n],h=s[n];if(!(i&&n in s||j.equals(o,h===V?a[n]:h)))return!1}return!0}return t===this||t&&this._class===t._class&&e(this,t)&&e(t,this,!0)||!1},_dispose:function(){var t=this.getFillColor();t&&(t._canvasStyle=null),(t=this.getStrokeColor())&&(t._canvasStyle=null),(t=this.getShadowColor())&&(t._canvasStyle=null)},hasFill:function(){var t=this.getFillColor();return!!t&&0<t.alpha},hasStroke:function(){var t=this.getStrokeColor();return!!t&&0<t.alpha&&0<this.getStrokeWidth()},hasShadow:function(){var t=this.getShadowColor();return!!t&&0<t.alpha&&(0<this.getShadowBlur()||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function t(){var e=t.base.call(this),i=this.getFontSize();return/pt|em|%|px/.test(i)&&(i=this.getView().getPixelSize(i)),null!=e?e:1.2*i}}),u=new function(){function r(t,e,i,n){for(var r=["","webkit","moz","Moz","ms","o"],s=e[0].toUpperCase()+e.substring(1),a=0;a<6;a++){var o=r[a],o=o?o+s:e;if(o in t){if(!i)return t[o];t[o]=n;break}}}return{getStyles:function(t){var e=t&&9!==t.nodeType?t.ownerDocument:t,e=e&&e.defaultView;return e&&e.getComputedStyle(t,"")},getBounds:function(t,e){var i,n=t.ownerDocument,r=n.body,s=n.documentElement;try{i=t.getBoundingClientRect()}catch(t){i={left:0,top:0,width:0,height:0}}var t=i.left-(s.clientLeft||r.clientLeft||0),a=i.top-(s.clientTop||r.clientTop||0);return e||(t+=(e=n.defaultView).pageXOffset||s.scrollLeft||r.scrollLeft,a+=e.pageYOffset||s.scrollTop||r.scrollTop),new x(t,a,i.width,i.height)},getViewportBounds:function(t){var t=t.ownerDocument,e=t.defaultView,t=t.documentElement;return new x(0,0,e.innerWidth||t.clientWidth,e.innerHeight||t.clientHeight)},getOffset:function(t,e){return u.getBounds(t,e).getPoint()},getSize:function(t){return u.getBounds(t,!0).getSize()},isInvisible:function(t){return u.getSize(t).equals(new O(0,0))},isInView:function(t){return!u.isInvisible(t)&&u.getViewportBounds(t).intersects(u.getBounds(t,!0))},isInserted:function(t){return I.body.contains(t)},getPrefixed:function(t,e){return t&&r(t,e)},setPrefixed:function(t,e,i){if("object"==typeof e)for(var n in e)r(t,n,!0,e[n]);else r(t,e,!0,i)}}},R={add:function(t,e){if(t)for(var i in e)for(var n=e[i],r=i.split(/[\s,]+/g),s=0,a=r.length;s<a;s++){var o=r[s];t.addEventListener(o,n,t===I&&("touchstart"===o||"touchmove"===o)&&{passive:!1})}},remove:function(t,e){if(t)for(var i in e)for(var n=e[i],r=i.split(/[\s,]+/g),s=0,a=r.length;s<a;s++)t.removeEventListener(r[s],n,!1)},getPoint:function(t){t=t.targetTouches?(t.targetTouches.length?t.targetTouches:t.changedTouches)[0]:t;return new L(t.pageX||t.clientX+I.documentElement.scrollLeft,t.pageY||t.clientY+I.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return R.getPoint(t).subtract(u.getOffset(e||R.getTarget(t)))}},D=(R.requestAnimationFrame=new function(){var e,n=u.getPrefixed(T,"requestAnimationFrame"),r=!1,s=[];function a(){var t=s;s=[];for(var e=0,i=t.length;e<i;e++)t[e]();(r=n&&s.length)&&n(a)}return function(t){s.push(t),n?r||(n(a),r=!0):e=e||setInterval(a,1e3/60)}},j.extend(t,{_class:"View",initialize:function t(e,i){function n(t){return i[t]||parseInt(i.getAttribute(t),10)}function r(){var t=u.getSize(i);return t.isNaN()||t.isZero()?new O(n("width"),n("height")):t}var s,a,o,h,l;T&&i?(this._id=i.getAttribute("id"),null==this._id&&i.setAttribute("id",this._id="paper-view-"+t._id++),R.add(i,this._viewEvents),u.setPrefixed(i.style,{userDrag:s="none",userSelect:s,touchCallout:s,contentZooming:s,tapHighlightColor:"rgba(0,0,0,0)"}),c.hasAttribute(i,"resize")&&R.add(T,(a=this)._windowEvents={resize:function(){a.setViewSize(r())}}),s=r(),c.hasAttribute(i,"stats")&&"undefined"!=typeof Stats&&(this._stats=new Stats,h=(o=this._stats.domElement).style,l=u.getOffset(i),h.position="absolute",h.left=l.x+"px",h.top=l.y+"px",I.body.appendChild(o))):(s=new O(i),i=null),this._project=e,this._scope=e._scope,this._element=i,this._pixelRatio||(this._pixelRatio=T&&T.devicePixelRatio||1),this._setElementSize(s.width,s.height),this._viewSize=s,t._views.push(this),((t._viewsById[this._id]=this)._matrix=new N)._owner=this,t._focused||(t._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!B.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;D._focused===this&&(D._focused=null),D._views.splice(D._views.indexOf(this),1),delete D._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),R.remove(this._element,this._viewEvents),R.remove(T,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:j.each(z._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(t){this[t]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){(this._autoUpdate=t)&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){var e;this._requested||(e=this,R.requestAnimationFrame(function(){var t;e._requested=!1,e._animate&&(e.requestUpdate(),t=e._element,u.getPrefixed(I,"hidden")&&"true"!==c.getAttribute(t,"keepalive")||!u.isInView(t)||e._handleFrame()),e._autoUpdate&&e.update()}),this._requested=!0)},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){B=this._scope;var t=Date.now()/1e3,e=this._last?t-this._last:0;this._last=t,this.emit("frame",new j({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,e){var i=this._frameItems;e?(i[t._id]={item:t,time:0,count:0},1==++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete i[t._id],0==--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var e in this._frameItems){e=this._frameItems[e];e.item.emit("frame",new j(t,{time:e.time+=t.delta,count:e.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=V},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var t=this._viewSize;return new n(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=O.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(t,e){var i=this._element;i&&(i.width!==t&&(i.width=t),i.height!==e)&&(i.height=e)},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new x(new L,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return u.isInView(this._element)},isInserted:function(){return u.isInserted(this._element)},getPixelSize:function(t){var e,i,n=this._element;return n?(n=n.parentNode,(i=I.createElement("div")).style.fontSize=t,n.appendChild(i),e=parseFloat(u.getStyles(i).fontSize),n.removeChild(i)):e=parseFloat(e),e},getTextWidth:function(t,e){return 0}},j.each(["rotate","scale","shear","skew"],function(i){var n="rotate"===i;this[i]=function(){var t=arguments,e=(n?j:L).read(t),t=L.read(t,0,{readNull:!0});return this.transform((new N)[i](e,t||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new N;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=L.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose().scaling;return(t.x+t.y)/2},setZoom:function(t){this.transform((new N).scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(t){var e=this.getRotation();null!=e&&null!=t&&this.rotate(t-e)},getScaling:function(){var t=this._decompose().scaling;return new l(t.x,t.y,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=L.read(arguments,0,{clone:!0,readNull:!0});t&&e&&this.scale(e.x/t.x,e.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(L.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(L.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(L.read(arguments))},getEventPoint:function(t){return this.viewToProject(R.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){return I&&"string"==typeof e&&(e=I.getElementById(e)),new(T?at:D)(t,e)}}},new function(){var n,r,f,s,t,e,i,a,o,g,m,l,_,v,y,b,w,x,S,C,k,h;if(T)return s=f=!1,(o=T.navigator).pointerEnabled||o.msPointerEnabled?(t="pointerdown MSPointerDown",e="pointermove MSPointerMove",i="pointerup pointercancel MSPointerUp MSPointerCancel"):(t="touchstart",e="touchmove",i="touchend touchcancel","ontouchstart"in T&&o.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(t+=" mousedown",e+=" mousemove",i+=" mouseup")),o={mouseout:function(t){var e,i,n,r=D._focused,s=R.getRelatedTarget(t);!r||s&&"HTML"!==s.nodeName||(e=(s=R.getOffset(t,r._element)).x,i=(n=Math.abs)(e),s.x=n(n=i-(1<<25))<i?n*(e<0?-1:1):e,p(r,t,r.viewToProject(s)))},scroll:u},(a={})[t]=function(t){var e=D._focused=c(t);f||(f=!0,e._handleMouseEvent("mousedown",t))},o[e]=function(t){var e,i=D._focused;s||((e=c(t))?i!==e&&(i&&p(i,t),n=n||i,i=D._focused=r=e):r&&r===i&&(n&&!n.isInserted()&&(n=null),i=D._focused=n,n=null,u())),i&&p(i,t)},o[t]=function(){s=!0},o[i]=function(t){var e=D._focused;e&&f&&e._handleMouseEvent("mouseup",t),s=f=!1},R.add(I,o),R.add(T,{load:u}),m=g=!1,_=!(l={doubleclick:"click",mousedrag:"mousemove"}),h={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}},{_viewEvents:a,_handleMouseEvent:function(t,e,i){var n=this._itemEvents,r=n.native[t],s="mousemove"===t,a=this._scope.tool,o=this;function h(t){return n.virtual[t]||o.responds(t)||a&&a.responds(t)}s&&f&&h("mousedrag")&&(t="mousedrag"),i=i||this.getEventPoint(e);var l=this.getBounds().contains(i),c=r&&l&&o._project.hitTest(i,{tolerance:0,fill:!0,stroke:!0}),c=c&&c.item||null,u=!1,p={};if(p[t.substr(5)]=!0,r&&c!==w&&(w&&E(w,null,"mouseleave",e,i),c&&E(c,null,"mouseenter",e,i),w=c),_^l&&(E(this,null,l?"mouseenter":"mouseleave",e,i),u=!0),!l&&!p.drag||i.equals(y)||(A(this,c,s?t:"mousemove",e,i,y),u=!0),_=l,p.down&&l||p.up&&v){if(A(this,c,t,e,i,v),p.down){if(k=c===S&&Date.now()-C<300,b=S=c,!m&&c){for(var d=c;d&&!d.responds("mousedrag");)d=d._parent;d&&(x=c)}v=i}else p.up&&(m||c!==b||(C=Date.now(),A(this,c,k?"doubleclick":"click",e,i,v),k=!1),b=x=null);u=!(_=!1)}y=i,u&&a&&(g=a._handleMouseEvent(t,e,i,p)||g),!1!==e.cancelable&&(g&&!p.move||p.down&&h("mouseup"))&&e.preventDefault()},_handleKeyEvent:function(e,i,n,r){var s,a=this._scope,t=a.tool;function o(t){t.responds(e)&&(B=a,t.emit(e,s=s||new ht(e,i,n,r)))}this.isVisible()&&(o(this),t)&&t.responds(e)&&o(t)},_countItemEvent:function(t,e){var i,n=this._itemEvents,r=n.native,n=n.virtual;for(i in h)r[i]=(r[i]||0)+(h[i][t]||0)*e;n[t]=(n[t]||0)+e},statics:{updateFocus:u,_resetState:function(){f=s=g=_=!1,n=r=v=y=b=w=x=S=C=k=null}}};function c(t){t=R.getTarget(t);return t.getAttribute&&D._viewsById[t.getAttribute("id")]}function u(){var t=D._focused;if(!t||!t.isVisible())for(var e=0,i=D._views.length;e<i;e++)if((t=D._views[e]).isVisible()){D._focused=r=t;break}}function p(t,e,i){t._handleMouseEvent("mousemove",e,i)}function E(t,n,e,r,s,a,i){var o,h=!1;for(;t&&t!==i&&!function t(e,i){if(e.responds(i)){if(o=o||new ct(i,r,s,n||e,a?s.subtract(a):null),e.emit(i,o)&&(g=!0,o.prevented&&(m=!0),o.stopped))return h=!0}else if(i=l[i])return t(e,i)}(t,e);)t=t._parent;return h}function A(t,e,i,n,r,s){t._project.removeOn(i),m=g=!1,x&&E(x,null,i,n,r,s)||e&&e!==x&&!e.isDescendant(x)&&E(e,null,"mousedrag"===i?"mousemove":i,n,r,s,x)||E(t,x||e||t,i,n,r,s)}})),at=D.extend({_class:"CanvasView",initialize:function(t,e){if(!(e instanceof T.HTMLCanvasElement)){var i=O.read(arguments,1);if(i.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+j.slice(arguments,1));e=A.getCanvas(i)}var n,i=this._context=e.getContext("2d");i.save(),this._pixelRatio=1,/^off|false$/.test(c.getAttribute(e,"hidpi"))||(n=T.devicePixelRatio||1,i=u.getPrefixed(i,"backingStorePixelRatio")||1,this._pixelRatio=n/i),D.call(this,t,e),this._needsUpdate=!0},remove:function t(){return this._context.restore(),t.base.call(this)},_setElementSize:function t(e,i){var n,r,s=this._pixelRatio;t.base.call(this,e*s,i*s),1!==s&&(r=this._element,n=this._context,c.hasAttribute(r,"resize")||((r=r.style).width=e+"px",r.height=i+"px"),n.restore(),n.save(),n.scale(s,s))},getContext:function(){return this._context},getPixelSize:function t(e){var i,n,r=B.agent;return r&&r.firefox?i=t.base.call(this,e):(n=(r=this._context).font,r.font=e+" serif",i=parseFloat(r.font),r.font=n),i},getTextWidth:function(t,e){var i=this._context,n=i.font,r=0;i.font=t;for(var s=0,a=e.length;s<a;s++)r=Math.max(r,i.measureText(e[s]).width);return i.font=n,r},update:function(){var t,e,i;return!(!this._needsUpdate||(t=this._project,e=this._context,i=this._viewSize,e.clearRect(0,0,i.width+1,i.height+1),t&&t.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1))}}),ot=j.extend({_class:"Event",initialize:function(t){this.event=t,this.type=t&&t.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return lt.modifiers}}),ht=ot.extend({_class:"KeyEvent",initialize:function(t,e,i,n){this.type=t,this.event=e,this.key=i,this.character=n},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),lt=new function(){var h,n,i={"\t":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},r={tab:"\t",space:" ",enter:"\r"},l={},c={},u=new j({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var t=B&&B.agent;return t&&t.mac?this.meta:this.control}}});function s(t){var e=t.key||t.keyIdentifier,e=/^U\+/.test(e)?String.fromCharCode(parseInt(e.substr(2),16)):/^Arrow[A-Z]/.test(e)?e.substr(5):"Unidentified"===e||e===V?String.fromCharCode(t.keyCode):e;return i[e]||(1<e.length?j.hyphenate(e):e.toLowerCase())}function p(t,e,i,n){var r,s=D._focused;if((l[e]=t)?c[e]=i:delete c[e],1<e.length&&(r=j.camelize(e))in u){u[r]=t;var a=B&&B.agent;if("meta"===r&&a&&a.mac)if(t)h={};else{for(var o in h)o in c&&p(!1,o,h[o],n);h=null}}else t&&h&&(h[e]=i);s&&s._handleKeyEvent(t?"keydown":"keyup",n,e,i)}return R.add(I,{keydown:function(t){var e=s(t),i=B&&B.agent;1<e.length||i&&i.chrome&&(t.altKey||i.mac&&t.metaKey||!i.mac&&t.ctrlKey)?p(!0,e,r[e]||(1<e.length?"":e),t):n=e},keypress:function(t){var e,i;n&&(e=s(t),i=32<=(i=t.charCode)?String.fromCharCode(i):1<e.length?"":e,p(!0,e=e!==n?i.toLowerCase():e,i,t),n=null)},keyup:function(t){var e=s(t);e in c&&p(!1,e,c[e],t)}}),R.add(T,{blur:function(t){for(var e in c)p(!1,e,c[e],t)}}),{modifiers:u,isDown:function(t){return!!l[t]}}},ct=ot.extend({_class:"MouseEvent",initialize:function(t,e,i,n,r){this.type=t,this.event=e,this.point=i,this.target=n,this.delta=r},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),ut=ot.extend({_class:"ToolEvent",_item:null,initialize:function(t,e,i){this.tool=t,this.type=e,this.event=i},_choosePoint:function(t,e){return t||(e?e.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var e=t.item,i=e._parent;/^(Group|CompoundPath)$/.test(i._class);)i=(e=i)._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),pt=e.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(t){e.call(this),this._moveCount=-1,this._downCount=-1,this.set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){null!=(this._minDistance=t)&&null!=this._maxDistance&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,null!=this._minDistance&&null!=t&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,e,a,o){B=this._scope,o.drag&&!this.responds(t)&&(t="mousemove");var h=o.move||o.drag,i=this.responds(t),n=this.minDistance,r=this.maxDistance,s=!1,l=this;function c(t,e){var i=a,n=h?l._point:l._downPoint||i;if(h){if(0<=l._moveCount&&i.equals(n))return;if(n&&(null!=t||null!=e)){var r=i.subtract(n),s=r.getLength();if(s<(t||0))return;e&&(i=n.add(r.normalize(Math.min(s,e))))}l._moveCount++}return l._point=i,l._lastPoint=n||i,o.down&&(l._moveCount=-1,l._downPoint=i,l._downCount++),1}function u(){i&&(s=l.emit(t,new ut(l,t,e))||s)}if(o.down)c(),u();else if(o.up)c(null,r),u();else if(i)for(;c(n,r);)u();return s}}),dt=j.extend(t,{_class:"Tween",statics:{easings:new j({linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:2*(2-t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}})},initialize:function t(e,i,n,r,s,a){this.object=e;var e=typeof s,o="function"==e,e=(this.type=o?e:"string"==e?s:"linear",this.easing=o?s:t.easings[this.type],this.duration=r,this.running=!1,this._then=null,this._startTime=null,i||n);this._keys=e?Object.keys(e):[],this._parsedKeys=this._parseKeys(this._keys),this._from=e&&this._getState(i),this._to=e&&this._getState(n),!1!==a&&this.start()},then:function(t){return this._then=t,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(e){if(this.running){1<=e&&(e=1,this.running=!1);function t(t){return"function"==typeof t?t(i,e):t}for(var i=this.easing(e),n=this._keys,r=0,s=n&&n.length;r<s;r++){var a=n[r],o=t(this._from[a]),h=t(this._to[a]),h=o&&h&&o.__add&&h.__add?h.__subtract(o).__multiply(i).__add(o):(h-o)*i+o;this._setProperty(this._parsedKeys[a],h)}this.responds("update")&&this.emit("update",new j({progress:e,factor:i})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(t){var e=this._startTime,i=e?(t-e)/this.duration:0;e||(this._startTime=t),this.update(i)},_getState:function(t){for(var e=this._keys,i={},n=0,r=e.length;n<r;n++){var s,a=e[n],o=this._parsedKeys[a],h=this._getProperty(o);t?(s=this._resolveValue(h,t[a]),this._setProperty(o,s),s=(s=this._getProperty(o))&&s.clone?s.clone():s,this._setProperty(o,h)):s=h&&h.clone?h.clone():h,i[a]=s}return i},_resolveValue:function(t,e){if(e){if(Array.isArray(e)&&2===e.length)return(i=e[0])&&i.match&&i.match(/^[+\-\*\/]=/)?this._calculate(t,i[0],e[1]):e;if("string"==typeof e){var i=e.match(/^[+\-*/]=(.*)/);if(i)return i=JSON.parse(i[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": ')),this._calculate(t,e[0],i)}}return e},_calculate:function(t,e,i){return B.PaperScript.calculateBinary(t,e,i)},_parseKeys:function(t){for(var e={},i=0,n=t.length;i<n;i++){var r=t[i],s=r.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");e[r]=s.split("/")}return e},_getProperty:function(t,e){for(var i=this.object,n=0,r=t.length-(e||0);n<r&&i;n++)i=i[t[n]];return i},_setProperty:function(t,e){var i=this._getProperty(t,1);i&&(i[t[t.length-1]]=e)}}),ft=function(i){var n=new b.XMLHttpRequest;return n.open((i.method||"get").toUpperCase(),i.url,j.pick(i.async,!0)),i.mimeType&&n.overrideMimeType(i.mimeType),n.onload=function(){var t=n.status;0===t||200===t?i.onLoad&&i.onLoad.call(n,n.responseText):n.onerror()},n.onerror=function(){var t=n.status,e='Could not load "'+i.url+'" (Status: '+t+")";if(!i.onError)throw new Error(e);i.onError(e,t)},n.send(null)},A=j.exports.CanvasProvider={canvases:[],getCanvas:function(t,e){if(!T)return null;var i,n=!0,r=("object"==typeof t&&(e=t.height,t=t.width),this.canvases.length?i=this.canvases.pop():(i=I.createElement("canvas"),n=!1),i.getContext("2d"));if(r)return i.width===t&&i.height===e?n&&r.clearRect(0,0,t+1,e+1):(i.width=t,i.height=e),r.save(),i;throw new Error("Canvas "+i+" is unable to provide a 2D context.")},getContext:function(t,e){t=this.getCanvas(t,e);return t?t.getContext("2d"):null},release:function(t){t=t&&t.canvas?t.canvas:t;t&&t.getContext&&(t.getContext("2d").restore(),this.canvases.push(t))}},gt=new function(){var f,g,m,_,v,y,b,w,x,S,C,a=Math.min,o=Math.max,t=Math.abs;function s(t,e,i){return.2989*t+.587*e+.114*i}function e(t,e,i,n){var r=n-s(t,e,i),n=s(x=t+r,S=e+r,C=i+r),t=a(x,S,C),e=o(x,S,C);t<0&&(x=n+(x-n)*n/(i=n-t),S=n+(S-n)*n/i,C=n+(C-n)*n/i),255<e&&(x=n+(x-n)*(r=255-n)/(t=e-n),S=n+(S-n)*r/t,C=n+(C-n)*r/t)}function i(t,e,i){return o(t,e,i)-a(t,e,i)}function n(t,e,i,n){var r=[t,e,i],s=o(t,e,i),i=a(t,e,i),t=0===a(i=i===t?0:i===e?1:2,s=s===t?0:s===e?1:2)?1===o(i,s)?2:1:0;r[i]<r[s]?(r[t]=(r[t]-r[i])*n/(r[s]-r[i]),r[s]=n):r[t]=r[s]=0,r[i]=0,x=r[0],S=r[1],C=r[2]}var k={multiply:function(){x=v*f/255,S=y*g/255,C=b*m/255},screen:function(){x=v+f-v*f/255,S=y+g-y*g/255,C=b+m-b*m/255},overlay:function(){x=v<128?2*v*f/255:255-2*(255-v)*(255-f)/255,S=y<128?2*y*g/255:255-2*(255-y)*(255-g)/255,C=b<128?2*b*m/255:255-2*(255-b)*(255-m)/255},"soft-light":function(){var t=f*v/255;x=t+v*(255-(255-v)*(255-f)/255-t)/255,S=(t=g*y/255)+y*(255-(255-y)*(255-g)/255-t)/255,C=(t=m*b/255)+b*(255-(255-b)*(255-m)/255-t)/255},"hard-light":function(){x=f<128?2*f*v/255:255-2*(255-f)*(255-v)/255,S=g<128?2*g*y/255:255-2*(255-g)*(255-y)/255,C=m<128?2*m*b/255:255-2*(255-m)*(255-b)/255},"color-dodge":function(){x=0===v?0:255===f?255:a(255,255*v/(255-f)),S=0===y?0:255===g?255:a(255,255*y/(255-g)),C=0===b?0:255===m?255:a(255,255*b/(255-m))},"color-burn":function(){x=255===v?255:0===f?0:o(0,255-255*(255-v)/f),S=255===y?255:0===g?0:o(0,255-255*(255-y)/g),C=255===b?255:0===m?0:o(0,255-255*(255-b)/m)},darken:function(){x=v<f?v:f,S=y<g?y:g,C=b<m?b:m},lighten:function(){x=f<v?v:f,S=g<y?y:g,C=m<b?b:m},difference:function(){(x=v-f)<0&&(x=-x),(S=y-g)<0&&(S=-S),(C=b-m)<0&&(C=-C)},exclusion:function(){x=v+f*(255-v-v)/255,S=y+g*(255-y-y)/255,C=b+m*(255-b-b)/255},hue:function(){n(f,g,m,i(v,y,b)),e(x,S,C,s(v,y,b))},saturation:function(){n(v,y,b,i(f,g,m)),e(x,S,C,s(v,y,b))},luminosity:function(){e(v,y,b,s(f,g,m))},color:function(){e(f,g,m,s(v,y,b))},add:function(){x=a(v+f,255),S=a(y+g,255),C=a(b+m,255)},subtract:function(){x=o(v-f,0),S=o(y-g,0),C=o(b-m,0)},average:function(){x=(v+f)/2,S=(y+g)/2,C=(b+m)/2},negation:function(){x=255-t(255-f-v),S=255-t(255-g-y),C=255-t(255-m-b)}},E=this.nativeModes=j.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(t){this[t]=!0},{}),r=A.getContext(1,1);r&&(j.each(k,function(t,e){var i="darken"===e,n=!1;r.save();try{r.fillStyle=i?"#300":"#a00",r.fillRect(0,0,1,1),r.globalCompositeOperation=e,r.globalCompositeOperation===e&&(r.fillStyle=i?"#a00":"#300",r.fillRect(0,0,1,1),n=r.getImageData(0,0,1,1).data[0]!==i?170:51)}catch(t){}r.restore(),E[e]=n}),A.release(r)),this.process=function(t,e,i,n,r){var s=e.canvas,a="normal"===t;if(a||E[t])i.save(),i.setTransform(1,0,0,1,0,0),i.globalAlpha=n,a||(i.globalCompositeOperation=t),i.drawImage(s,r.x,r.y),i.restore();else{var o=k[t];if(o){for(var a=i.getImageData(r.x,r.y,s.width,s.height),h=a.data,l=e.getImageData(0,0,s.width,s.height).data,c=0,u=h.length;c<u;c+=4){f=l[c],v=h[c],g=l[c+1],y=h[c+1],m=l[c+2],b=h[c+2],_=l[c+3],w=h[c+3],o();var p=_*n/255,d=1-p;h[c]=p*x+d*v,h[c+1]=p*S+d*y,h[c+2]=p*C+d*b,h[c+3]=_*n+d*w}i.putImageData(a,r.x,r.y)}}}},_=new function(){var n="http://www.w3.org/2000/svg",t="http://www.w3.org/2000/xmlns",e="http://www.w3.org/1999/xlink",a={href:e,xlink:t,xmlns:t+"/","xmlns:xlink":t+"/"};function r(t,e,i){for(var n in e){var r=e[n],s=a[n];"number"==typeof r&&i&&(r=i.number(r)),s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}return t}return{svg:n,xmlns:t,xlink:e,create:function(t,e,i){return r(I.createElementNS(n,t),e,i)},get:function(t,e){var i=a[e];return"null"===(i=i?t.getAttributeNS(i,e):t.getAttribute(e))?null:i},set:r}},mt=j.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(t,e){return!e&&(t instanceof $||t instanceof d||t instanceof et)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(t,e){var i=j.capitalize(e),n=t[2];this[e]={type:t[1],property:e,attribute:t[0],toSVG:n,fromSVG:n&&j.each(n,function(t,e){this[t]=e},{}),exportFilter:t[3],get:"get"+i,set:"set"+i}},{});function p(t,e,i){var n,r,s=new j,a=t.getTranslation();return e&&(t.isInvertible()?(n=(t=t._shiftless())._inverseTransform(a),a=null):n=new L,s[i?"cx":"x"]=n.x,s[i?"cy":"y"]=n.y),t.isIdentity()||((e=t.decompose())?(i=[],n=e.rotation,r=e.scaling,e=e.skewing,a&&!a.isZero()&&i.push("translate("+f.point(a)+")"),n&&i.push("rotate("+f.number(n)+")"),F.isZero(r.x-1)&&F.isZero(r.y-1)||i.push("scale("+f.point(r)+")"),e.x&&i.push("skewX("+f.number(e.x)+")"),e.y&&i.push("skewY("+f.number(e.y)+")"),s.transform=i.join(" ")):s.transform="matrix("+t.getValues().join(",")+")"),s}function _t(t,e){for(var i=p(t._matrix),n=t._children,r=_.create("g",i,f),s=0,a=n.length;s<a;s++){var o,h=n[s],l=St(h,e);l&&(h.isClipMask()?((o=_.create("clipPath")).appendChild(l),wt(h,o,"clip"),_.set(r,{"clip-path":"url(#"+o.id+")"})):r.appendChild(l))}return r}function vt(t){var e,i=t._type,n=t._radius,r=p(t._matrix,!0,"rectangle"!==i);return(n="rectangle"===i&&(i="rect",e=(t=t._size).width,t=t.height,r.x-=e/2,r.y-=t/2,r.width=e,r.height=t,n.isZero())?null:n)&&("circle"===i?r.r=n:(r.rx=n.width,r.ry=n.height)),_.create(i,r,f)}function yt(r,t,e){var s={},a=!e&&r.getParent(),o=[];return null!=r._name&&(s.id=r._name),j.each(mt,function(t){var e=t.get,i=t.type,n=r[e]();(t.exportFilter?!t.exportFilter(r,n):a&&j.equals(a[e](),n))||("color"===i&&null!=n&&(e=n.getAlpha())<1&&(s[t.attribute+"-opacity"]=e),"style"===i?o.push(t.attribute+": "+n):s[t.attribute]=null==n?"none":"color"===i?n.gradient?function(t){var e=bt(t,"color");if(!e){for(var i,n,r=t.getGradient(),s=r._radial,a=t.getOrigin(),o=t.getDestination(),h=(s?(i={cx:a.x,cy:a.y,r:a.getDistance(o)},(n=t.getHighlight())&&(i.fx=n.x,i.fy=n.y)):i={x1:a.x,y1:a.y,x2:o.x,y2:o.y},i.gradientUnits="userSpaceOnUse",e=_.create((s?"radial":"linear")+"Gradient",i,f),r._stops),l=0,c=h.length;l<c;l++){var u=h[l],p=u._color,d=p.getAlpha(),u=u._offset;i={offset:null==u?l/(c-1):u},p&&(i["stop-color"]=p.toCSS(!0)),d<1&&(i["stop-opacity"]=d),e.appendChild(_.create("stop",i,f))}wt(t,e,"color")}return"url(#"+e.id+")"}(n):n.toCSS(!0):"array"===i?n.join(","):"lookup"===i?t.toSVG[n]:n)}),o.length&&(s.style=o.join(";")),1===s.opacity&&delete s.opacity,r._visible||(s.visibility="hidden"),_.set(t,s,f)}function bt(t,e){return s=s||{ids:{},svgs:{}},t&&s.svgs[e+"-"+(t._id||t.__id||(t.__id=o.get("svg")))]}function wt(t,e,i){s||bt();var n=s.ids[i]=(s.ids[i]||0)+1;e.id=i+"-"+n,s.svgs[i+"-"+(t._id||t.__id)]=e}function xt(t,e){var i=t,n=null;if(s){for(var r in i="svg"===t.nodeName.toLowerCase()&&t,s.svgs)n||(i||(i=_.create("svg")).appendChild(t),n=i.insertBefore(_.create("defs"),i.firstChild)),n.appendChild(s.svgs[r]);s=null}return e.asString?(new b.XMLSerializer).serializeToString(i):i}function St(t,e,i){var n,r=a[t._class],r=r&&r(t,e);return r&&((n=e.onExport)&&(r=n(t,r,e)||r),n=JSON.stringify(t._data))&&"{}"!==n&&"null"!==n&&r.setAttribute("data-paper-data",n),r&&yt(t,r,i)}function Ct(t){return f=new w((t=t||{}).precision),t}function v(t,e,i,n,r,s){t=_.get(t,e)||s,s=null==t?n?null:i?"":0:i?t:parseFloat(t);return/%\s*$/.test(t)?s/100*(r?1:C[/x|^width/.test(e)?"width":"height"]):s}function y(t,e,i,n,r,s,a){return e=v(t,e||"x",!1,n,r,s),i=v(t,i||"y",!1,n,r,a),!n||null!=e&&null!=i?new L(e,i):null}function kt(t,e,i,n,r){return e=v(t,e||"width",!1,n,r),i=v(t,i||"height",!1,n,r),!n||null!=e&&null!=i?new O(e,i):null}function Et(t,e,i){return"none"===t?null:"number"===e?parseFloat(t):"array"===e?t?t.split(/[\s,]+/g).map(parseFloat):[]:"color"===e?Mt(t)||t:"lookup"===e?i[t]:t}function At(t,e,i,n){var r=t.childNodes,s="clippath"===e,e="defs"===e,a=new g,o=a._project,h=o._currentStyle,l=[];if(s||e||(a=Nt(a,t,n),o._currentStyle=a._style.clone()),n)for(var c=t.querySelectorAll("defs"),u=0,p=c.length;u<p;u++)Rt(c[u],i,!1);for(u=0,p=r.length;u<p;u++){var d=r[u];1!==d.nodeType||/^defs$/i.test(d.nodeName)||!(d=Rt(d,i,!1))||d instanceof m||l.push(d)}return a.addChildren(l),s&&(a=Nt(a.reduce(),t,n)),o._currentStyle=h,(s||e)&&(a.remove(),a=null),a}function Tt(t,e){for(var i=t.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),n=[],r=0,s=i.length;r<s;r+=2)n.push(new L(parseFloat(i[r]),parseFloat(i[r+1])));t=new W(n);return"polygon"===e&&t.closePath(),t}function It(t,e){var i,n=(v(t,"href",!0)||"").substring(1),e="radialgradient"===e;if(n)(i=k[n].getGradient())._radial^e&&((i=i.clone())._radial=e);else{for(var r=t.childNodes,s=[],a=0,o=r.length;a<o;a++){var h=r[a];1===h.nodeType&&s.push(Nt(new rt,h))}i=new nt(s,e)}var l,c,u,n="userSpaceOnUse"!==v(t,"gradientUnits",!0);return e?(c=(l=y(t,"cx","cy",!1,n,"50%","50%")).add(v(t,"r",!1,!1,n,"50%"),0),u=y(t,"fx","fy",!0,n)):(l=y(t,"x1","y1",!1,n,"0%","0%"),c=y(t,"x2","y2",!1,n,"100%","0%")),Nt(new S(i,l,c,u),t)._scaleToBounds=n,null}function Pt(t,e,i,n){if(t.transform){for(var r=(n.getAttribute(i)||"").split(/\)\s*/g),s=new N,a=0,o=r.length;a<o;a++){var h=r[a];if(!h)break;for(var h=h.split(/\(\s*/),l=h[0],c=h[1].split(/[\s,]+/g),u=0,p=c.length;u<p;u++)c[u]=parseFloat(c[u]);switch(l){case"matrix":s.append(new N(c[0],c[1],c[2],c[3],c[4],c[5]));break;case"rotate":s.rotate(c[0],c[1]||0,c[2]||0);break;case"translate":s.translate(c[0],c[1]||0);break;case"scale":s.scale(c);break;case"skewX":s.skew(c[0],0);break;case"skewY":s.skew(0,c[0])}}t.transform(s)}}function Lt(t,e,i){i="fill-opacity"===i?"getFillColor":"getStrokeColor",t=t[i]&&t[i]();t&&t.setAlpha(parseFloat(e))}function Ot(t,e,i){var n=t.attributes[e],n=n&&n.value;return!n&&t.style&&(e=j.camelize(e),(n=t.style[e])||i.node[e]===i.parent[e]||(n=i.node[e])),n?"none"===n?null:n:V}function Nt(n,r,t){var e=r.parentNode,s={node:u.getStyles(r)||{},parent:!t&&!/^defs$/i.test(e.tagName)&&u.getStyles(e)||{}};return j.each(i,function(t,e){var i=Ot(r,e,s);n=i!==V&&t(n,i,e,r,s)||n}),n}function Mt(t){t=t&&t.match(/\((?:["'#]*)([^"')]+)/),t=t&&t[1],t=t&&k[T?t.replace(T.location.href.split("#")[0]+"#",""):t];return t&&t._scaleToBounds&&((t=t.clone())._scaleToBounds=!0),t}function Rt(t,e,i){var n,r,s,a=t.nodeName.toLowerCase(),o="#document"!==a,h=I.body,l=(i&&o&&(C=B.getView().getSize(),C=kt(t,null,null,!0)||C,n=_.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),r=t.parentNode,s=t.nextSibling,n.appendChild(t),h.appendChild(n)),B.settings),c=l.applyMatrix,u=l.insertItems,p=(l.applyMatrix=!1,l.insertItems=!1,E[a]),p=p&&p(t,a,e,i)||null;return l.insertItems=u,l.applyMatrix=c,p&&(!o||p instanceof g||(p=Nt(p,t,i)),a=e.onImport,u=o&&t.getAttribute("data-paper-data"),a&&(p=a(t,p,e)||p),e.expandShapes&&p instanceof d&&(p.remove(),p=p.toPath()),u)&&(p._data=JSON.parse(u)),n&&(h.removeChild(n),r)&&(s?r.insertBefore(t,s):r.appendChild(t)),i&&(k={},p)&&j.pick(e.applyMatrix,c)&&p.matrix.apply(!0,!0),p}function Dt(n,r,s){if(!n)return null;r="function"==typeof r?{onLoad:r}:r||{};var t,a=B,o=null;function e(t){try{var e="object"==typeof t?t:(new b.DOMParser).parseFromString(t.trim(),"image/svg+xml");if(!e.nodeName)throw e=null,new Error("Unsupported SVG source: "+n);B=a,o=Rt(e,r,!0),r&&!1===r.insert||s._insertItem(V,o);var i=r.onLoad;i&&i(o,t)}catch(t){h(t)}}function h(t,e){var i=r.onError;if(!i)throw new Error(t);i(t,e)}if("string"!=typeof n||/^[\s\S]*</.test(n)){if("undefined"!=typeof File&&n instanceof File)return(t=new FileReader).onload=function(){e(t.result)},t.onerror=function(){h(t.error)},t.readAsText(n);e(n)}else{var i=I.getElementById(n);i?e(i):ft({url:n,async:!0,onLoad:e,onError:h})}return o}a={Group:_t,Layer:_t,Raster:function(t,e){var i=p(t._matrix,!0),n=t.getSize(),r=t.getImage();return i.x-=n.width/2,i.y-=n.height/2,i.width=n.width,i.height=n.height,i.href=0==e.embedImages&&r&&r.src||t.toDataURL(),_.create("image",i,f)},Path:function(t,e){if(h=e.matchShapes){var i=t.toShape(!1);if(i)return vt(i)}var n=t._segments,r=n.length,i=p(t._matrix);if(h&&2<=r&&!t.hasHandles())if(2<r){for(var s=t._closed?"polygon":"polyline",a=[],o=0;o<r;o++)a.push(f.point(n[o]._point));i.points=a.join(" ")}else{s="line";var h=n[0]._point,l=n[1]._point;i.set({x1:h.x,y1:h.y,x2:l.x,y2:l.y})}else s="path",i.d=t.getPathData(null,e.precision);return _.create(s,i,f)},Shape:vt,CompoundPath:function(t,e){var i=p(t._matrix);return(t=t.getPathData(null,e.precision))&&(i.d=t),_.create("path",i,f)},SymbolItem:function(t,e){var i=p(t._matrix,!0),n=bt(t=t._definition,"symbol"),r=t._item,s=r.getStrokeBounds();return n||((n=_.create("symbol",{viewBox:f.rectangle(s)})).appendChild(St(r,e)),wt(t,n,"symbol")),i.href="#"+n.id,i.x+=s.x,i.y+=s.y,i.width=s.width,i.height=s.height,i.overflow="visible",_.create("use",i,f)},PointText:function(t){var e=_.create("text",p(t._matrix,!0),f);return e.textContent=t._content,e}},z.inject({exportSVG:function(t){return xt(St(this,t=Ct(t),!0),t)}}),h.inject({exportSVG:function(t){t=Ct(t);var e=this._children,i=this.getView(),n=j.pick(t.bounds,"view"),r=t.matrix||"view"===n&&i._matrix,r=r&&N.read([r]),i="view"===n?new x([0,0],i.getViewSize()):"content"===n?z._getBounds(e,r,{stroke:!0}).rect:x.read([n],0,{readNull:!0}),n={version:"1.1",xmlns:_.svg,"xmlns:xlink":_.xlink},i=(i&&(n.width=i.width,n.height=i.height,i.x||0===i.x||i.y||0===i.y)&&(n.viewBox=f.rectangle(i)),_.create("svg",n,f)),s=i;r&&!r.isIdentity()&&(s=i.appendChild(_.create("g",p(r),f)));for(var a=0,o=e.length;a<o;a++)s.appendChild(St(e[a],t,!0));return xt(i,t)}}),k={},E={"#document":function(t,e,i,n){for(var r=t.childNodes,s=0,a=r.length;s<a;s++){var o=r[s];if(1===o.nodeType)return Rt(o,i,n)}},g:At,svg:At,clippath:At,polygon:Tt,polyline:Tt,path:function(t){return $.create(t.getAttribute("d"))},lineargradient:It,radialgradient:It,image:function(e){var t=new X(v(e,"href",!0));return t.on("load",function(){var t=kt(e),t=(this.setSize(t),y(e).add(t.divide(2)));this._matrix.append((new N).translate(t))}),t},symbol:function(t,e,i,n){return new m(At(t,e,i,n),!0)},defs:At,use:function(t){var e=(v(t,"href",!0)||"").substring(1),e=k[e],t=y(t);return e?e instanceof m?e.place(t):e.clone().translate(t):null},circle:function(t){return new d.Circle(y(t,"cx","cy"),v(t,"r"))},ellipse:function(t){return new d.Ellipse({center:y(t,"cx","cy"),radius:kt(t,"rx","ry")})},rect:function(t){return new d.Rectangle(new x(y(t),kt(t)),kt(t,"rx","ry"))},line:function(t){return new W.Line(y(t,"x1","y1"),y(t,"x2","y2"))},text:function(t){var e=new it(y(t).add(y(t,"dx","dy")));return e.setContent(t.textContent.trim()||""),e},switch:At},i=j.set(j.each(mt,function(i){this[i.attribute]=function(t,e){t[i.set]&&(t[i.set](Et(e,i.type,i.fromSVG)),"color"===i.type)&&(e=t[i.get]())&&e._scaleToBounds&&(t=t.getBounds(),e.transform((new N).translate(t.getPoint()).scale(t.getSize())))}},{}),{id:function(t,e){(k[e]=t).setName&&t.setName(e)},"clip-path":function(t,e){e=Mt(e);if(e){if((e=e.clone()).setClipMask(!0),!(t instanceof g))return new g(e,t);t.insertChild(0,e)}},gradientTransform:Pt,transform:Pt,"fill-opacity":Lt,"stroke-opacity":Lt,visibility:function(t,e){t.setVisible&&t.setVisible("visible"===e)},display:function(t,e){t.setVisible&&t.setVisible(null!==e)},"stop-color":function(t,e){t.setColor&&t.setColor(e)},"stop-opacity":function(t,e){t._color&&t._color.setAlpha(parseFloat(e))},offset:function(t,e){var i;t.setOffset&&(i=e.match(/(.*)%$/),t.setOffset(i?i[1]/100:parseFloat(e)))},viewBox:function(t,e,i,n,r){var s,a,e=new x(Et(e,"array")),o=kt(n,null,null,!0);t instanceof g?(s=o?o.divide(e.getSize()):1,s=(new N).scale(s).translate(e.getPoint().negate()),a=t):t instanceof m&&(o&&e.setSize(o),a=t._item),a&&("visible"!==Ot(n,"overflow",r)&&((o=new d.Rectangle(e)).setClipMask(!0),a.addChild(o)),s)&&a.transform(s)}}),z.inject({importSVG:function(t,e){return Dt(t,e,this)}}),h.inject({importSVG:function(t,e){return this.activate(),Dt(t,e,this)}}),j.exports.PaperScript=function(){var t,e,i=this,n=i.acorn;if(!n&&void 0!==Bt)try{n=Bt("acorn")}catch(t){}function _(t,e){return(i.acorn||n).parse(t,e)}n||(n=r={},t=this,e=function(t){"use strict";t.version="0.5.0",t.parse=function(t,e){f=String(t),p=f.length,s(e),se();var t=d.program,i=(K=x=g,d.locations&&(h=new a),Z=S=null,u=[],N(),t||D()),n=!0;for(t||(i.body=[]);v!==l;){var r=z();i.body.push(r),n&&ve(r)&&ge(!0),n=!1}return B(i,"Program")};var d,f,p,i,n=t.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function s(t){for(var e in d=t||{},n)Object.prototype.hasOwnProperty.call(d,e)||(d[e]=n[e]);i=d.sourceFile||null}var g,m,_,H,W,v,y,G,b,w,K,x,h,Z,u,S,r=t.getLineInfo=function(t,e){for(var i=1,n=0;;){ie.lastIndex=n;var r=ie.exec(t);if(!(r&&r.index<e))break;++i,n=r.index+r[0].length}return{line:i,column:e-n}};function C(t,e){var i=r(f,t),e=(e+=" ("+i.line+":"+i.column+")",new SyntaxError(e));throw e.pos=t,e.loc=i,e.raisedAt=g,e}t.tokenize=function(t,e){f=String(t),p=f.length,s(e),se();var i={};function n(t){return x=_,N(t),i.start=m,i.end=_,i.startLoc=H,i.endLoc=W,i.type=v,i.value=y,i}return n.jumpTo=function(t,e){var i;if(g=t,d.locations)for(b=1,w=ie.lastIndex=0;(i=ie.exec(f))&&i.index<t;)++b,w=i.index+i[0].length;G=e,oe()},n};var e,X=[],Y={type:"num"},Q={type:"regexp"},$={type:"string"},k={type:"name"},l={type:"eof"},J={keyword:"break"},tt={keyword:"case",beforeExpr:!0},et={keyword:"catch"},it={keyword:"continue"},nt={keyword:"debugger"},rt={keyword:"default"},st={keyword:"do",isLoop:!0},at={keyword:"else",beforeExpr:!0},ot={keyword:"finally"},ht={keyword:"for",isLoop:!0},lt={keyword:"function"},ct={keyword:"if"},ut={keyword:"return",beforeExpr:!0},pt={keyword:"switch"},dt={keyword:"throw",beforeExpr:!0},ft={keyword:"try"},gt={keyword:"var"},mt={keyword:"while",isLoop:!0},_t={keyword:"with"},vt={keyword:"new",beforeExpr:!0},yt={keyword:"this"},bt={keyword:"null",atomValue:null},wt={keyword:"true",atomValue:!0},xt={keyword:"false",atomValue:!1},St={keyword:"in",binop:7,beforeExpr:!0},c={break:J,case:tt,catch:et,continue:it,debugger:nt,default:rt,do:st,else:at,finally:ot,for:ht,function:lt,if:ct,return:ut,switch:pt,throw:dt,try:ft,var:gt,while:mt,with:_t,null:bt,true:wt,false:xt,new:vt,in:St,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:yt,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},Ct={type:"[",beforeExpr:!0},kt={type:"]"},Et={type:"{",beforeExpr:!0},E={type:"}"},A={type:"(",beforeExpr:!0},T={type:")"},I={type:",",beforeExpr:!0},P={type:";",beforeExpr:!0},At={type:":",beforeExpr:!0},Tt={type:"."},It={type:"?",beforeExpr:!0},Pt={binop:10,beforeExpr:!0},Lt={isAssign:!0,beforeExpr:!0},L={isAssign:!0,beforeExpr:!0},Ot={postfix:!0,prefix:!0,isUpdate:!0},Nt={prefix:!0,beforeExpr:!0},Mt={binop:1,beforeExpr:!0},Rt={binop:2,beforeExpr:!0},Dt={binop:3,beforeExpr:!0},Bt={binop:4,beforeExpr:!0},Vt={binop:5,beforeExpr:!0},jt={binop:6,beforeExpr:!0},Ft={binop:7,beforeExpr:!0},zt={binop:8,beforeExpr:!0},qt={binop:9,prefix:!0,beforeExpr:!0},Ut={binop:10,beforeExpr:!0};for(e in t.tokTypes={bracketL:Ct,bracketR:kt,braceL:Et,braceR:E,parenL:A,parenR:T,comma:I,semi:P,colon:At,dot:Tt,question:It,slash:Pt,eq:Lt,name:k,eof:l,num:Y,regexp:Q,string:$},c)t.tokTypes["_"+e]=c[e];function Ht(t){t=t.split(" ");var i="",e=[];t:for(var n=0;n<t.length;++n){for(var r=0;r<e.length;++r)if(e[r][0].length==t[n].length){e[r].push(t[n]);continue t}e.push([t[n]])}function s(t){if(1==t.length)return i+="return str === "+JSON.stringify(t[0])+";";i+="switch(str){";for(var e=0;e<t.length;++e)i+="case "+JSON.stringify(t[e])+":";i+="return true}return false;"}if(3<e.length){e.sort(function(t,e){return e.length-t.length}),i+="switch(str.length){";for(n=0;n<e.length;++n){var a=e[n];i+="case "+a[0].length+":",s(a)}i+="}"}else s(t);return new Function("str",i)}var Wt,Gt=Ht("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Kt=Ht("class enum extends super const export import"),Zt=Ht("implements interface let package private protected public static yield"),Xt=Ht("eval arguments"),Yt=Ht("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Qt=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,$t="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",Jt=new RegExp("["+$t+"]"),te=new RegExp("["+$t+"̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿]"),ee=/[\n\r\u2028\u2029]/,ie=/\r\n|[\n\r\u2028\u2029]/g,ne=t.isIdentifierStart=function(t){return t<65?36===t:t<91||(t<97?95===t:t<123||170<=t&&Jt.test(String.fromCharCode(t)))},re=t.isIdentifierChar=function(t){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||170<=t&&te.test(String.fromCharCode(t))))};function a(){this.line=b,this.column=g-w}function se(){b=1,g=w=0,G=!0,oe()}function O(t,e){_=g,d.locations&&(W=new a),v=t,oe(),y=e,G=t.beforeExpr}function ae(){for(var t=g,e=d.onComment&&d.locations&&new a,i=f.charCodeAt(g+=2);g<p&&10!==i&&13!==i&&8232!==i&&8233!==i;)++g,i=f.charCodeAt(g);d.onComment&&d.onComment(!1,f.slice(t+2,g),t,g,e,d.locations&&new a)}function oe(){for(;g<p;){var t,e=f.charCodeAt(g);if(32===e)++g;else if(13===e)++g,10===(t=f.charCodeAt(g))&&++g,d.locations&&(++b,w=g);else if(10===e||8232===e||8233===e)++g,d.locations&&(++b,w=g);else if(8<e&&e<14)++g;else if(47===e)if(42===(t=f.charCodeAt(g+1))){i=s=r=n=void 0;var i,n=d.onComment&&d.locations&&new a,r=g,s=f.indexOf("*/",g+=2);if(-1===s&&C(g-2,"Unterminated comment"),g=s+2,d.locations)for(ie.lastIndex=r;(i=ie.exec(f))&&i.index<g;)++b,w=i.index+i[0].length;d.onComment&&d.onComment(!0,f.slice(r+2,s),r,g,n,d.locations&&new a)}else{if(47!==t)break;ae()}else{if(160!==e&&!(5760<=e&&Qt.test(String.fromCharCode(e))))break;++g}}}function he(t){switch(t){case 46:return 48<=(u=f.charCodeAt(g+1))&&u<=57?ue(!0):(++g,O(Tt));case 40:return++g,O(A);case 41:return++g,O(T);case 59:return++g,O(P);case 44:return++g,O(I);case 91:return++g,O(Ct);case 93:return++g,O(kt);case 123:return++g,O(Et);case 125:return++g,O(E);case 58:return++g,O(At);case 63:return++g,O(It);case 48:u=f.charCodeAt(g+1);if(120===u||88===u){g+=2;var e=ce(16);null==e&&C(m+2,"Expected hexadecimal number");ne(f.charCodeAt(g))&&C(g,"Identifier directly after number");return O(Y,e);return}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return ue(!1);case 34:case 39:var i=t;g++;for(var n="";;){p<=g&&C(m,"Unterminated string constant");var r=f.charCodeAt(g);if(r===i)return++g,O($,n);if(92===r){r=f.charCodeAt(++g);var s=/^[0-7]+/.exec(f.slice(g,g+3));for(s=s&&s[0];s&&255<parseInt(s,8);)s=s.slice(0,-1);if(++g,s="0"===s?null:s)S&&C(g-2,"Octal literal in strict mode"),n+=String.fromCharCode(parseInt(s,8)),g+=s.length-1;else switch(r){case 110:n+="\n";break;case 114:n+="\r";break;case 120:n+=String.fromCharCode(pe(2));break;case 117:n+=String.fromCharCode(pe(4));break;case 85:n+=String.fromCharCode(pe(8));break;case 116:n+="\t";break;case 98:n+="\b";break;case 118:n+="\v";break;case 102:n+="\f";break;case 48:n+="\0";break;case 13:10===f.charCodeAt(g)&&++g;case 10:d.locations&&(w=g,++b);break;default:n+=String.fromCharCode(r)}}else 13!==r&&10!==r&&8232!==r&&8233!==r||C(m,"Unterminated string constant"),n+=String.fromCharCode(r),++g}return;case 47:return e=f.charCodeAt(g+1),G?(++g,le()):61===e?M(L,2):M(Pt,1);case 37:case 42:return 61===f.charCodeAt(g+1)?M(L,2):M(Ut,1);case 124:case 38:return l=t,(c=f.charCodeAt(g+1))===l?M(124===l?Mt:Rt,2):61===c?M(L,2):M(124===l?Dt:Vt,1);case 94:return 61===f.charCodeAt(g+1)?M(L,2):M(Bt,1);case 43:case 45:return c=t,(l=f.charCodeAt(g+1))===c?45==l&&62==f.charCodeAt(g+2)&&ee.test(f.slice(x,g))?(g+=3,ae(),oe(),N()):M(Ot,2):61===l?M(L,2):M(qt,1);case 60:case 62:return a=t,o=f.charCodeAt(g+1),h=1,o===a?(h=62===a&&62===f.charCodeAt(g+2)?3:2,61===f.charCodeAt(g+h)?M(L,h+1):M(zt,h)):33==o&&60==a&&45==f.charCodeAt(g+2)&&45==f.charCodeAt(g+3)?(g+=4,ae(),oe(),N()):(61===o&&(h=61===f.charCodeAt(g+2)?3:2),M(Ft,h));case 61:case 33:return a=t,61===f.charCodeAt(g+1)?M(jt,61===f.charCodeAt(g+2)?3:2):M(61===a?Lt:Nt,1);case 126:return M(Nt,1)}var a,o,h,l,c,u;return!1}function N(t){if(t?g=m+1:m=g,d.locations&&(H=new a),t)return le();if(p<=g)return O(l);t=f.charCodeAt(g);if(ne(t)||92===t)return fe();var e=he(t);if(!1===e){t=String.fromCharCode(t);if("\\"===t||Jt.test(t))return fe();C(g,"Unexpected character '"+t+"'")}return e}function M(t,e){var i=f.slice(g,g+e);g+=e,O(t,i)}function le(){for(var t,e,i=g;;){p<=g&&C(i,"Unterminated regular expression");var n=f.charAt(g);if(ee.test(n)&&C(i,"Unterminated regular expression"),t)t=!1;else{if("["===n)e=!0;else if("]"===n&&e)e=!1;else if("/"===n&&!e)break;t="\\"===n}++g}var r=f.slice(i,g),s=(++g,de());s&&!/^[gmsiy]*$/.test(s)&&C(i,"Invalid regexp flag");try{var a=new RegExp(r,s)}catch(t){t instanceof SyntaxError&&C(i,t.message),C(t)}return O(Q,a)}function ce(t,e){for(var i=g,n=0,r=0,s=null==e?1/0:e;r<s;++r){var a=f.charCodeAt(g),a=97<=a?a-97+10:65<=a?a-65+10:48<=a&&a<=57?a-48:1/0;if(t<=a)break;++g,n=n*t+a}return g===i||null!=e&&g-i!==e?null:n}function ue(t){var e,i=g,n=!1,r=48===f.charCodeAt(g),t=(t||null!==ce(10)||C(i,"Invalid number"),46===f.charCodeAt(g)&&(++g,ce(10),n=!0),f.charCodeAt(g)),t=(69!==t&&101!==t||(43!==(t=f.charCodeAt(++g))&&45!==t||++g,null===ce(10)&&C(i,"Invalid number"),n=!0),ne(f.charCodeAt(g))&&C(g,"Identifier directly after number"),f.slice(i,g));return n?e=parseFloat(t):r&&1!==t.length?/[89]/.test(t)||S?C(i,"Invalid number"):e=parseInt(t,8):e=parseInt(t,10),O(Y,e)}function pe(t){t=ce(16,t);return null===t&&C(m,"Bad character escape sequence"),t}function de(){for(var t,e=!(Wt=!1),i=g;;){var n=f.charCodeAt(g);if(re(n))Wt&&(t+=f.charAt(g)),++g;else{if(92!==n)break;Wt||(t=f.slice(i,g)),Wt=!0,117!=f.charCodeAt(++g)&&C(g,"Expecting Unicode escape sequence \\uXXXX"),++g;var n=pe(4),r=String.fromCharCode(n);r||C(g-1,"Invalid Unicode escape"),(e?ne:re)(n)||C(g-4,"Invalid Unicode escape"),t+=r}e=!1}return Wt?t:f.slice(i,g)}function fe(){var t=de(),e=k;return O(e=!Wt&&Yt(t)?c[t]:e,t)}function R(){K=m,x=_,h=W,N()}function ge(t){if(S=t,g=m,d.locations)for(;g<w;)w=f.lastIndexOf("\n",w-2)+1,--b;oe(),N()}function me(){this.type=null,this.start=m,this.end=null}function _e(){this.start=H,(this.end=null)!==i&&(this.source=i)}function D(){var t=new me;return d.locations&&(t.loc=new _e),d.directSourceFile&&(t.sourceFile=d.directSourceFile),d.ranges&&(t.range=[m,0]),t}function o(t){var e=new me;return e.start=t.start,d.locations&&(e.loc=new _e,e.loc.start=t.loc.start),d.ranges&&(e.range=[t.range[0],0]),e}function B(t,e){return t.type=e,t.end=x,d.locations&&(t.loc.end=h),d.ranges&&(t.range[1]=x),t}function ve(t){return 5<=d.ecmaVersion&&"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"use strict"===t.expression.value}function V(t){return v===t&&(R(),1)}function ye(){return!d.strictSemicolons&&(v===l||v===E||ee.test(f.slice(x,m)))}function be(){V(P)||ye()||F()}function j(t){(v===t?R:F)()}function F(){C(m,"Unexpected token")}function we(t){"Identifier"!==t.type&&"MemberExpression"!==t.type&&C(t.start,"Assigning to rvalue"),S&&"Identifier"===t.type&&Xt(t.name)&&C(t.start,"Assigning to "+t.name+" in strict mode")}var xe={kind:"loop"},Se={kind:"switch"};function z(){(v===Pt||v===L&&"/="==y)&&N(!0);var t,e,i,n=v,r=D();switch(n){case J:case it:R();var s=n===J;V(P)||ye()?r.label=null:(v!==k?F:(r.label=U(),be))();for(var a=0;a<u.length;++a){var o=u[a];if(null==r.label||o.name===r.label.name){if(null!=o.kind&&(s||"loop"===o.kind))break;if(r.label&&s)break}}return a===u.length&&C(r.start,"Unsyntactic "+n.keyword),B(r,s?"BreakStatement":"ContinueStatement");case nt:return R(),be(),B(r,"DebuggerStatement");case st:return R(),u.push(xe),r.body=z(),u.pop(),j(mt),r.test=Ce(),be(),B(r,"DoWhileStatement");case ht:return(R(),u.push(xe),j(A),v===P)?Ee(r,null):(v===gt?(c=D(),R(),Te(c,!0),B(c,"VariableDeclaration"),1===c.declarations.length&&V(St)?Ae:Ee):(c=q(!1,!0),V(St)?(we(c),Ae):Ee))(r,c);case lt:return R(),Me(r,!0);case ct:return R(),r.test=Ce(),r.consequent=z(),r.alternate=V(at)?z():null,B(r,"IfStatement");case ut:return Z||d.allowReturnOutsideFunction||C(m,"'return' outside of function"),R(),V(P)||ye()?r.argument=null:(r.argument=q(),be()),B(r,"ReturnStatement");case pt:R(),r.discriminant=Ce(),r.cases=[],j(Et),u.push(Se);for(;v!=E;)v===tt||v===rt?(i=v===tt,t&&B(t,"SwitchCase"),r.cases.push(t=D()),t.consequent=[],R(),i?t.test=q():(e&&C(K,"Multiple default clauses"),e=!0,t.test=null),j(At)):(t||F(),t.consequent.push(z()));return t&&B(t,"SwitchCase"),R(),u.pop(),B(r,"SwitchStatement");case dt:return R(),ee.test(f.slice(x,m))&&C(x,"Illegal newline after throw"),r.argument=q(),be(),B(r,"ThrowStatement");case ft:return R(),r.block=ke(),r.handler=null,v===et&&(c=D(),R(),j(A),c.param=U(),S&&Xt(c.param.name)&&C(c.param.start,"Binding "+c.param.name+" in strict mode"),j(T),c.guard=null,c.body=ke(),r.handler=B(c,"CatchClause")),r.guardedHandlers=X,r.finalizer=V(ot)?ke():null,r.handler||r.finalizer||C(r.start,"Missing catch or finally clause"),B(r,"TryStatement");case gt:return R(),Te(r),be(),B(r,"VariableDeclaration");case mt:return R(),r.test=Ce(),u.push(xe),r.body=z(),u.pop(),B(r,"WhileStatement");case _t:return S&&C(m,"'with' in strict mode"),R(),r.object=Ce(),r.body=z(),B(r,"WithStatement");case Et:return ke();case P:return R(),B(r,"EmptyStatement");default:var h=y,l=q();if(n===k&&"Identifier"===l.type&&V(At)){for(a=0;a<u.length;++a)u[a].name===h&&C(l.start,"Label '"+h+"' is already declared");var c=v.isLoop?"loop":v===pt?"switch":null;return u.push({name:h,kind:c}),r.body=z(),u.pop(),r.label=l,B(r,"LabeledStatement")}return r.expression=l,be(),B(r,"ExpressionStatement")}}function Ce(){j(A);var t=q();return j(T),t}function ke(t){var e,i=D(),n=!0,r=!1;for(i.body=[],j(Et);!V(E);){var s=z();i.body.push(s),n&&t&&ve(s)&&(e=r,ge(r=!0)),n=!1}return r&&!e&&ge(!1),B(i,"BlockStatement")}function Ee(t,e){return t.init=e,j(P),t.test=v===P?null:q(),j(P),t.update=v===T?null:q(),j(T),t.body=z(),u.pop(),B(t,"ForStatement")}function Ae(t,e){return t.left=e,t.right=q(),j(T),t.body=z(),u.pop(),B(t,"ForInStatement")}function Te(t,e){for(t.declarations=[],t.kind="var";;){var i=D();if(i.id=U(),S&&Xt(i.id.name)&&C(i.id.start,"Binding "+i.id.name+" in strict mode"),i.init=V(Lt)?q(!0,e):null,t.declarations.push(B(i,"VariableDeclarator")),!V(I))break}}function q(t,e){var i=Ie(e);if(t||v!==I)return i;var n=o(i);for(n.expressions=[i];V(I);)n.expressions.push(Ie(e));return B(n,"SequenceExpression")}function Ie(t){var e,i=function(t){var e=function(t){return function t(e,i,n){var r=v.binop;if(null!=r&&(!n||v!==St)){var s,a;if(i<r)return(s=o(e)).left=e,s.operator=y,a=v,R(),s.right=t(Pe(),r,n),r=B(s,a===Mt||a===Rt?"LogicalExpression":"BinaryExpression"),t(r,i,n)}return e}(Pe(),-1,t)}(t);{var i;if(V(It))return(i=o(e)).test=e,i.consequent=q(!0),j(At),i.alternate=q(!0,t),B(i,"ConditionalExpression")}return e}(t);return v.isAssign?((e=o(i)).operator=y,e.left=i,R(),e.right=Ie(t),we(i),B(e,"AssignmentExpression")):i}function Pe(){var t;if(v.prefix)return e=D(),t=v.isUpdate,e.operator=y,e.prefix=!0,G=!0,R(),e.argument=Pe(),t?we(e.argument):S&&"delete"===e.operator&&"Identifier"===e.argument.type&&C(e.start,"Deleting local variable in strict mode"),B(e,t?"UpdateExpression":"UnaryExpression");for(var e,i=Le(Oe());v.postfix&&!ye();)(e=o(i)).operator=y,e.prefix=!1,we(e.argument=i),R(),i=B(e,"UpdateExpression");return i}function Le(t,e){var i;return V(Tt)?((i=o(t)).object=t,i.property=U(!0),i.computed=!1,Le(B(i,"MemberExpression"),e)):V(Ct)?((i=o(t)).object=t,i.property=q(),i.computed=!0,j(kt),Le(B(i,"MemberExpression"),e)):!e&&V(A)?((i=o(t)).callee=t,i.arguments=Re(T,!1),Le(B(i,"CallExpression"),e)):t}function Oe(){switch(v){case yt:var t=D();return R(),B(t,"ThisExpression");case k:return U();case Y:case $:case Q:return(t=D()).value=y,t.raw=f.slice(m,_),R(),B(t,"Literal");case bt:case wt:case xt:return(t=D()).value=v.atomValue,t.raw=v.keyword,R(),B(t,"Literal");case A:var e=H,i=m,n=(R(),q());return n.start=i,n.end=_,d.locations&&(n.loc.start=e,n.loc.end=W),d.ranges&&(n.range=[i,_]),j(T),n;case Ct:t=D();return R(),t.elements=Re(kt,!0,!0),B(t,"ArrayExpression");case Et:var r=D(),s=!0,a=!1;for(r.properties=[],R();!V(E);){if(s)s=!1;else if(j(I),d.allowTrailingCommas&&V(E))break;var o,h={key:Ne()},l=!1;if(V(At)?(h.value=q(!0),o=h.kind="init"):5<=d.ecmaVersion&&"Identifier"===h.key.type&&("get"===h.key.name||"set"===h.key.name)?(l=a=!0,o=h.kind=h.key.name,h.key=Ne(),v!==A&&F(),h.value=Me(D(),!1)):F(),"Identifier"===h.key.type&&(S||a))for(var c=0;c<r.properties.length;++c){var u,p=r.properties[c];p.key.name===h.key.name&&(u=!((u=o==p.kind||l&&"init"===p.kind||"init"===o&&("get"===p.kind||"set"===p.kind))&&!S&&"init"===o&&"init"===p.kind)&&u)&&C(h.key.start,"Redefinition of property")}r.properties.push(h)}return B(r,"ObjectExpression");case lt:t=D();return R(),Me(t,!1);case vt:e=D();return R(),e.callee=Le(Oe(),!0),V(A)?e.arguments=Re(T,!1):e.arguments=X,B(e,"NewExpression");default:F()}}function Ne(){return v===Y||v===$?Oe():U(!0)}function Me(t,e){v===k?t.id=U():e?F():t.id=null,t.params=[];var i=!0;for(j(A);!V(T);)i?i=!1:j(I),t.params.push(U());var n=Z,r=u;if(Z=!0,u=[],t.body=ke(!0),Z=n,u=r,S||t.body.body.length&&ve(t.body.body[0]))for(var s=t.id?-1:0;s<t.params.length;++s){var a=s<0?t.id:t.params[s];if((Zt(a.name)||Xt(a.name))&&C(a.start,"Defining '"+a.name+"' in strict mode"),0<=s)for(var o=0;o<s;++o)a.name===t.params[o].name&&C(a.start,"Argument name clash in strict mode")}return B(t,e?"FunctionDeclaration":"FunctionExpression")}function Re(t,e,i){for(var n=[],r=!0;!V(t);){if(r)r=!1;else if(j(I),e&&d.allowTrailingCommas&&V(t))break;n.push(i&&v===I?null:q(!0))}return n}function U(t){var e=D();return t&&"everywhere"==d.forbidReserved&&(t=!1),v===k?(!t&&(d.forbidReserved&&(3===d.ecmaVersion?Gt:Kt)(y)||S&&Zt(y))&&-1==f.slice(m,_).indexOf("\\")&&C(m,"The keyword '"+y+"' is reserved"),e.name=y):t&&v.keyword?e.name=v.keyword:F(),G=!1,R(),B(e,"Identifier")}},"object"==typeof r&&"object"==typeof r?e(r):"function"==typeof define&&define.amd?define(["exports"],e):e(t.acorn||(t.acorn={})),n.version)||(n=null);var v={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},y={"-":"__negate","+":"__self"},r=j.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(t){this["__"+t]="#"+t},{__self:function(){return this}});function f(t,e,i){var n=v[e];if(t&&t[n])return n=t[n](i),"!="===e?!n:n;switch(e){case"+":return t+i;case"-":return t-i;case"*":return t*i;case"/":return t/i;case"%":return t%i;case"==":return t==i;case"!=":return t!=i}}function g(t,e){var i=y[t];if(e&&e[i])return e[i]();switch(t){case"+":return+e;case"-":return-e}}function m(h,t){var s,e,i,n,r,a,o,l,c,u;return h?(s=[],e=(t=t||{}).url||"",i=t.sourceMaps,n=t.paperFeatures||{},r=t.source||h,t=t.offset||0,o=(a=B.agent).versionNumber,l=!1,c=/\r\n|\n|\r/gm,i&&(a.chrome&&30<=o||a.webkit&&537.76<=o||a.firefox&&23<=o||a.node)&&(a.node?t-=2:T&&e&&!T.location.href.indexOf(e)&&(t=(u=I.getElementsByTagName("html")[0].innerHTML).substr(0,u.indexOf(h)+1).match(c).length+1),(u=["AA"+function(t){var e="";for(t=(Math.abs(t)<<1)+(t<0?1:0);t||!e;){var i=31&t;(t>>=5)&&(i|=32),e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[i]}return e}((l=0<t&&!(a.chrome&&36<=o||a.safari&&600<=o||a.firefox&&40<=o||a.node))?0:t)+"A"]).length=(h.match(c)||[]).length+1+(l?t:0),u={version:3,file:e,names:[],mappings:u.join(";AACA"),sourceRoot:"",sources:[e],sourcesContent:[r]}),!1===n.operatorOverloading&&!1===n.moduleExports||m(_(h,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,n),u&&(l&&(h=new Array(t+1).join("\n")+h),/^(inline|both)$/.test(i)&&(h+="\n//# sourceMappingURL=data:application/json;base64,"+b.btoa(unescape(encodeURIComponent(JSON.stringify(u))))),h+="\n//# sourceURL="+(e||"paperscript")),{url:e,source:r,code:h,map:u}):"";function p(t){for(var e=0,i=s.length;e<i;e++){var n=s[e];if(n[0]>=t)break;t+=n[1]}return t}function d(t){return h.substring(p(t.range[0]),p(t.range[1]))}function f(t,e){for(var i=p(t.range[0]),t=p(t.range[1]),n=0,r=s.length-1;0<=r;r--)if(i>s[r][0]){n=r+1;break}s.splice(n,0,[i,e.length-t+i]),h=h.substring(0,i)+e+h.substring(t)}function g(t,e){switch(t.type){case"UnaryExpression":t.operator in y&&"Literal"!==t.argument.type&&(i=d(t.argument),f(t,'$__("'+t.operator+'", '+i+")"));break;case"BinaryExpression":t.operator in v&&"Literal"!==t.left.type&&(n=d(t.left),r=d(t.right),a=t.left,o=t.right,a=h.substring(p(a.range[1]),p(o.range[0])),o=t.operator,f(t,"__$__("+n+","+a.replace(new RegExp("\\"+o),'"'+o+'"')+", "+r+")"));break;case"UpdateExpression":case"AssignmentExpression":var i,n,r,s,a=e&&e.type;"ForStatement"===a||"BinaryExpression"===a&&/^[=!<>]/.test(e.operator)||"MemberExpression"===a&&e.computed||("UpdateExpression"===t.type?(o=(i=d(t.argument))+" = "+(s="__$__("+i+', "'+t.operator[0]+'", 1)'),t.prefix?o="("+o+")":"AssignmentExpression"!==a&&"VariableDeclarator"!==a&&"BinaryExpression"!==a||(o=i+"; "+(o=d(e.left||e.id)===i?s:o)),f(t,o)):/^.=$/.test(t.operator)&&"Literal"!==t.left.type&&(n=d(t.left),r=d(t.right),s=n+" = __$__("+n+', "'+t.operator[0]+'", '+r+")",f(t,/^\(.*\)$/.test(d(t))?"("+s+")":s)))}var a,o}function m(t,e,i){if(t){for(var n in t)if("range"!==n&&"loc"!==n){var r=t[n];if(Array.isArray(r))for(var s=0,a=r.length;s<a;s++)m(r[s],t,i);else r&&"object"==typeof r&&m(r,t,i)}if(!1!==i.operatorOverloading&&g(t,e),!1!==i.moduleExports){var o=t;switch(o.type){case"ExportDefaultDeclaration":f({range:[o.start,o.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var h,l=o.declaration,c=o.specifiers;l?(h=l.declarations)&&(h.forEach(function(t){f(t,"module.exports."+d(t))}),f({range:[o.start,l.start+l.kind.length]},"")):c&&(h=c.map(function(t){t=d(t);return"module.exports."+t+" = "+t+"; "}).join(""))&&f(o,h)}}}}}function o(n,t,e){var i,r=(B=t).getView(),s=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(n)&&!/\bnew\s+Tool\b/.test(n)?new pt:null,a=s?s._events:[],o=["onFrame","onResize"].concat(a),h=[],l=[],e="object"==typeof n?n:m(n,e);function c(t,e){for(var i in t)!e&&/^_/.test(i)||!new RegExp("([\\b\\s\\W]|^)"+i.replace(/\$/g,"\\$")+"\\b").test(n)||(h.push(i),l.push(t[i]))}n=e.code,c({__$__:f,$__:g,paper:t,tool:s},!0),c(t),n="var module = { exports: {} }; "+n;var u,p,e=j.each(o,function(t){new RegExp("\\s+"+t+"\\b").test(n)&&(h.push(t),this.push("module.exports."+t+" = "+t+";"))},[]).join("\n"),o=(e&&(n+="\n"+e),n+="\nreturn module.exports;",B.agent);I&&(o.chrome||o.firefox&&o.versionNumber<40)?(u=I.createElement("script"),p=I.head||I.getElementsByTagName("head")[0],o.firefox&&(n="\n"+n),u.appendChild(I.createTextNode("document.__paperscript__ = function("+h+") {"+n+"\n}")),p.appendChild(u),i=I.__paperscript__,delete I.__paperscript__,p.removeChild(u)):i=Function(h,n);var d=(e=i&&i.apply(t,l))||{};return j.each(a,function(t){var e=d[t];e&&(s[t]=e)}),r&&(d.onResize&&r.setOnResize(d.onResize),r.emit("resize",{size:r.size,delta:new L}),d.onFrame&&r.setOnFrame(d.onFrame),r.requestUpdate()),e}function s(t){if(/^text\/(?:x-|)paperscript$/.test(t.type)&&"true"!==c.getAttribute(t,"ignore")){var e,i=c.getAttribute(t,"canvas"),n=I.getElementById(i),r=t.src||t.getAttribute("data-src"),s=c.hasAttribute(t,"async"),a="data-paper-scope";if(n)return e=c.get(n.getAttribute(a))||(new c).setup(n),n.setAttribute(a,e._id),r?ft({url:r,async:s,mimeType:"text/plain",onLoad:function(t){o(t,e,r)}}):o(t.innerHTML,e,t.baseURI),t.setAttribute("data-paper-ignore","true"),e;throw new Error('Unable to find canvas with id "'+i+'"')}}function a(){j.each(I&&I.getElementsByTagName("script"),s)}return L.inject(r),O.inject(r),S.inject(r),T&&("complete"===I.readyState?setTimeout(a):R.add(T,{load:a})),{compile:m,execute:o,load:function(t){return t?s(t):a()},parse:_,calculateBinary:f,calculateUnary:g}}.call(this);var B=new(c.inject(j.exports,{Base:j,Numerical:F,Key:lt,DomEvent:R,DomElement:u,document:I,window:T,Symbol:m,PlacedSymbol:Y}));return B.agent.node&&Bt("./node/extend.js")(B),"function"==typeof define&&define.amd?define("paper",B):"object"==typeof Vt&&Vt&&(Vt.exports=B),B}).call(this,"object"==typeof self?self:null)},{"./node/extend.js":15,"./node/self.js":15,acorn:6}],8:[function(t,e,i){"use strict";var n=l(t("@andreasremdt/simple-translator")),r=l(t("bootstrap")),a=t("mudlet-map-renderer"),s=t("./preview"),o=t("./versions"),h=t("./npc");function l(t){return t&&t.__esModule?t:{default:t}}var c=new n.default({defaultLanguage:"pl",detectLanguage:!0,selector:"[data-i18n]",debug:!1,registerGlobally:"__",persist:!0,persistKey:"preferred_language",filesLocation:"i18n"}),t=((window.translator=c).fetch(["pl"],!1).then(t=>{let e={};document.querySelectorAll("[data-i18n]").forEach(t=>{e[t.getAttribute("data-i18n")]=t.innerHTML}),c.add("pl",{...e,...t})}),c.fetch(["en"]).then(()=>{c.translatePageTo()}).catch(t=>console.log("Cannot fetch translations.",t)),new URLSearchParams(window.location.search));const u=Object.fromEntries(t.entries()),p=window.location.origin+window.location.pathname;let d={},f=((0,h.downloadNpc)().then(t=>d=t),localStorage.getItem("position"));f=f&&JSON.parse(f);let g=new class{constructor(t){this.map=document.querySelector("#map"),this.map.addEventListener("roomSelected",t=>this.selectRoom(t.detail)),this.map.addEventListener("roomDeselected",()=>this.deselectRoom()),this.map.addEventListener("zoom",t=>this.adjustZoomBar(t.detail)),this.map.addEventListener("zoom",t=>this.zoom=t.detail.zoom),this.map.addEventListener("zoom",t=>this.preview.update()),this.map.addEventListener("drag",t=>this.preview.update()),this.map.addEventListener("goToArea",t=>setTimeout(()=>{t.detail.id&&this.findRoom(t.detail.id)})),this.reader=t,this.select=document.querySelector("#area"),this.infoBox=document.querySelector(".info-box"),this.levels=document.querySelector(".levels"),this.saveImageButton=document.querySelector(".save-image"),this.saveSvgImageButton=document.querySelector(".save-image-svg"),this.copyImageButton=document.querySelector(".copy-image"),this.zoomButtons=document.querySelectorAll(".zoom-controls .btn"),this.toastContainer=document.querySelector(".toast"),this.searchModal=document.querySelector("#search"),this.search=document.querySelector(".search-form"),this.helpModal=document.querySelector("#help"),this.zoomBar=document.querySelector(".progress-container"),this.settingsModal=document.querySelector("#settings"),this.settingsForm=document.querySelector("#settings form"),this.resetSettingsButton=document.querySelector("#settings button[type='reset']"),this.versions=document.querySelector("#versions"),this.settings=new a.Settings,this.preview=new s.Preview(this.map,this),this.versionBadge=document.querySelector(".version-number"),this.languageSelector=document.querySelector(".lang-dropdown"),this.currentLanguageFlag=document.querySelector(".current-language-flag"),this.zIndex=0,this.settings.optimizeDrag=!0,this.settings.preview=!0;var t=localStorage.getItem("settings");t&&Object.assign(this.settings,JSON.parse(t)),this.versions&&(this.versions.addEventListener("change",t=>{this.replaceVersion(t.target.value),r.default.Modal.getInstance(this.helpModal).hide()}),this.helpModal.addEventListener("shown.bs.modal",()=>{0==this.versions.children.length&&(0,o.downloadTags)(this.versions.getAttribute("data-tags")).then(t=>{t.forEach(t=>{var e=document.createElement("option");e.setAttribute("value",t),e.innerHTML=t,this.versions.append(e)})})})),null!=(t=this.saveImageButton)&&t.addEventListener("click",()=>this.saveImage()),null!=(t=this.saveSvgImageButton)&&t.addEventListener("click",t=>{t.preventDefault(),this.downloadImage()}),null!=(t=this.copyImageButton)&&t.addEventListener("click",()=>this.copyImage()),this.zoomButtons.forEach(t=>t.addEventListener("click",t=>{t=parseFloat(t.currentTarget.getAttribute("data-factor"));this.renderer.controls.deltaZoom(t)})),this.search.addEventListener("submit",t=>{t.preventDefault(),this.submitSearch(t)}),this.searchModal.addEventListener("shown.bs.modal",()=>{this.searchModal.querySelector("input").focus()}),this.settingsModal.addEventListener("show.bs.modal",()=>{this.populateSettings(this.settings)}),this.settingsModal.addEventListener("shown.bs.modal",()=>{this.settingsModal.querySelector("input").focus()}),this.settingsForm.addEventListener("submit",t=>{t.preventDefault(),this.handleSaveSettings()}),this.resetSettingsButton.addEventListener("click",t=>{t.preventDefault(),this.resetSettings()}),window.addEventListener("resize",()=>{this.render()}),this.translatePage(),this.languageSelector.querySelectorAll("a").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),this.translatePage(e.getAttribute("data-lang"))})})}init(){let t=37,e=0;u.loc?(this.findRoom(u.loc),history.replaceState(null,null,p)):(u.area?(t=u.area,history.replaceState(null,null,p)):null!==f&&f.area&&(t=f.area,e=f.zIndex),this.renderArea(t,e))}handleSaveSettings(){var t=this.settingsModal.querySelectorAll("input");let n={};t.forEach(t=>{var e=t.getAttribute("name"),i=t.getAttribute("type");n[e]="checkbox"===i?t.checked:"number"===i?parseInt(t.value):t.value}),Object.assign(this.settings,n),this.showToast(c.translateForKey("settings-saved",c.currentLanguage)),r.default.Modal.getInstance(this.settingsModal).hide(),this.saveSettings(),this.render(!0)}saveSettings(){localStorage.setItem("settings",JSON.stringify(this.settings))}render(t){return this.renderArea(this.select.value,this.zIndex,t)}renderArea(n,r,s){return new Promise((i,t)=>{var e;this.areaId!==n||this.zIndex!==r||s?(this.map.addEventListener("renderComplete",(t,e)=>{this.preview.init(t.detail.controls).then(()=>i())},{once:!0}),this.areaId=n,this.zIndex=r,localStorage.setItem("position",JSON.stringify({area:n,zIndex:r})),document.querySelector("body").style.background=this.settings.mapBackground,e=this.reader.getArea(n,r),this.renderer&&this.renderer.clear(),this.renderer=new a.Renderer(this.map,this.reader,e,this.reader.getColors(),this.settings),this.select.value=n,this.populateLevelButtons(e.getLevels(),r),this.hideRoomInfo(),this.renderer.clearHighlight(),this.settings.keepZoomLevel&&this.zoom&&this.renderer.controls.setZoom(this.zoom)):i()})}genericSetup(){document.querySelectorAll(".btn").forEach(t=>t.addEventListener("click",()=>t.blur()))}populateLevelButtons(t,e){if(this.levels.innerHTML="",!(t.size<=1)){t=Array.from(t).sort(function(t,e){return t-e});if(10<t.length){var i,n=document.createElement("div"),r=(n.classList.add("dropdown"),document.createElement("button")),s=(r.classList.add("btn","btn-secondary","dropdown-toggle"),r.setAttribute("type","button"),r.setAttribute("data-bs-toggle","dropdown"),r.append(document.createTextNode(e)),document.createElement("div"));s.classList.add("dropdown-menu"),n.append(r),n.append(s);for(i of t){var a=document.createElement("a");a.classList.add("dropdown-item","btn-level"),a.setAttribute("href","#"),a.setAttribute("data-level",i),a.append(document.createTextNode(i)),s.append(a)}this.levels.append(n)}else for(var o of t){var h=document.createElement("button");h.setAttribute("type","button"),h.setAttribute("data-level",o),h.classList.add("btn","btn-level"),o===e?h.classList.add("btn-primary"):h.classList.add("btn-secondary"),h.append(document.createTextNode(o)),this.levels.append(h)}this.levels.querySelectorAll(".btn-level").forEach(t=>{t.addEventListener("click",t=>{t.preventDefault();t=parseInt(t.target.getAttribute("data-level"));this.renderArea(this.select.value,t)})})}}populateSelectBox(){this.select.querySelectorAll("option").forEach(t=>t.remove()),this.reader.getAreas().filter(t=>0<t.rooms.length&&void 0!==t.areaName&&""!==t.areaName).sort((t,e)=>{t=t.areaName.toLowerCase(),e=e.areaName.toLowerCase();return t<e?-1:e<t?1:0}).forEach((t,e)=>{t.rooms.length&&this.select.append(new Option(t.areaName,t.areaId))}),this.select.addEventListener("change",t=>{this.renderArea(t.target.value,0)})}submitSearch(){r.default.Modal.getInstance(this.searchModal).hide();var t=this.search.querySelectorAll("input");let e={};if(t.forEach(t=>{e[t.name]=t.value,t.value=""}),void 0!==e.roomId){let t=e.roomId;t=isNaN(t)?(0,h.findNpc)(t):[t],this.findRooms(t)}}findRoom(t){var e;t&&(void 0!==(e=this.reader.getAreaByRoomId(t))?this.renderArea(e.areaId,e.zIndex).then(()=>{this.renderer.controls.setZoom(1),this.renderer.controls.centerRoom(t)}):this.showToast(c.translateForKey("location-not-found",c.currentLanguage)))}findRooms(t){var e=this.reader.getAreaByRoomId(t[0]);void 0!==e?this.renderArea(e.areaId,e.zIndex).then(()=>{this.renderer.controls.setZoom(1),this.renderer.clearHighlight(),t.forEach(t=>{this.renderer.renderHighlight(t)}),this.findRoom(t[0]),this.renderer.controls.centerOnItem(this.renderer.highlights)}):this.showToast(c.translateForKey("location-not-found",c.currentLanguage))}adjustZoomBar(t){t=(t.zoom-t.minZoom)/(10-t.minZoom);this.zoomBar.querySelector(".progress-bar").style.width=100*t+"%",this.zoomBar.classList.contains("visible")?void 0!==this.progressTimeout&&(clearTimeout(this.progressTimeout),this.progressTimeout=void 0):(this.zoomBar.classList.add("visible"),this.zoomBar.classList.remove("hidden")),this.progressTimeout=setTimeout(()=>{this.zoomBar.classList.add("hidden"),this.zoomBar.classList.remove("visible")},3e3)}selectRoom(t){this.showRoomInfo(t)}deselectRoom(){this.hideRoomInfo()}showRoomInfo(t){var e;this.infoBox.style.display="initial",this.infoBox.querySelector(".room-id").innerHTML=t.id,this.infoBox.querySelector(".room-link").setAttribute("href",p+"?loc="+t.id),this.infoBox.querySelector(".room-name").innerHTML=t.name,this.infoBox.querySelector(".room-env").innerHTML=t.env,this.infoBox.querySelector(".coord-x").innerHTML=t.x,this.infoBox.querySelector(".coord-y").innerHTML=t.y,this.infoBox.querySelector(".coord-z").innerHTML=t.z,this.infoBox.querySelector(".room-hash").innerHTML="",this.infoBox.querySelector(".room-hash").innerHTML=null!=(e=t.hash)?e:"",this.infoExitsGroup(this.infoBox.querySelector(".exits"),t.exits),this.infoExitsGroup(this.infoBox.querySelector(".special"),t.specialExits),this.userDataGroup(this.infoBox.querySelector(".userData"),t.userData),this.npcDataGroup(this.infoBox.querySelector(".npc"),d[t.id]||{})}userDataGroup(t,e){var i,n=t.querySelector("ul");n.innerHTML="";let r=!1;for(i in e){r=!0;var s=document.createElement("li");s.innerHTML=i+":<br>&nbsp; &nbsp; &nbsp;"+e[i],n.append(s)}t.style.display=r?"initial":"none"}infoExitsGroup(t,e){var i,n=t.querySelector("ul");n.innerHTML="";let r=!1;for(i in e)r=!0,n.append(this.infoExit(i,e[i]));t.style.display=r?"initial":"none"}npcDataGroup(t,e){var i,n=t.querySelector("ul");n.innerHTML="";let r=!1;for(i in e){r=!0;var s=document.createElement("li");s.append(document.createTextNode(e[i])),n.append(s)}t.style.display=r?"initial":"none"}infoExit(t,e){var i=document.createElement("li"),n=document.createElement("span"),t=(n.setAttribute("data-i18n",t),n.innerHTML=this.translateDir(t),i.append(n),i.append(document.createTextNode(": ")),document.createElement("a")),n=(t.setAttribute("href","#"),t.setAttribute("data-room",e),t.innerHTML=e,t.addEventListener("click",t=>{t.preventDefault(),this.findRoom(parseInt(t.currentTarget.getAttribute("data-room")))}),i.append(t),this.reader.getRoomById(e));return parseInt(n.areaId)!==this.renderer.area.areaId&&(t=this.reader.getAreaProperties(n.areaId),i.append(document.createTextNode(" ->  ")),(e=document.createElement("a")).setAttribute("href","#"),e.setAttribute("data-room",n.id),e.innerHTML=t.areaName,e.addEventListener("click",t=>{t.preventDefault(),this.findRoom(parseInt(t.currentTarget.getAttribute("data-room")))}),i.append(e)),i}showToast(t){this.toastContainer.querySelector(".toast-body").innerHTML=t,r.default.Toast.getOrCreateInstance(this.toastContainer).show()}translateDir(t){var e;return null!=(e=c.translateForKey(t))?e:t}translatePage(t){this.currentLanguageFlag.classList.remove("flag-"+c.currentLanguage),t&&c.translatePageTo(t),this.currentLanguageFlag.classList.add("flag-"+c.currentLanguage)}hideRoomInfo(){this.infoBox.style.display="none"}populateSettings(t){for(var e in t){var i=this.settingsModal.querySelector("input[name='"+e+"']");i&&("checkbox"===i.getAttribute("type")?i.checked=t[e]:"color"===i.getAttribute("type")?i.value=t[e].toCSS?t[e].toCSS(!0):t[e]:i.value=t[e])}}resetSettings(){var t=new a.Settings;t.preview=!0,t.optimizeDrag=!0,this.populateSettings(t)}saveImage(){var t=document.createElement("a");t.setAttribute("href",this.map.toDataURL()),t.setAttribute("download",this.renderer.area.areaName+".png"),document.querySelector("body").append(t),t.click(),t.remove()}downloadImage(){var t,e=document.createElement("a");e.setAttribute("href",(t=this.renderer.exportSvg(),"data:image/svg+xml,"+encodeURIComponent(t).replace(/'/g,"%27").replace(/"/g,"%22"))),e.setAttribute("download",this.renderer.area.areaName+".svg"),document.querySelector("body").append(e),e.click(),e.remove()}copyImage(){"undefined"!=typeof ClipboardItem?(this.map.toBlob(t=>navigator.clipboard.write([new ClipboardItem({"image/png":t})])),this.showToast(c.translateForKey("copied",c.currentLanguage))):this.showToast(c.translateForKey("no-clipboard",c.currentLanguage))}move(t,e){this.renderer.controls.move(t,e)}goDirection(t){t=t;var e=void 0!==(e=function(t,e){for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e)return i}(m,t))?e:t;this.renderer.controls.selected&&this.findRoom(this.renderer.controls.selected.exits[e])}registerKeyBoard(){let e={Numpad1:"sw",Numpad2:"s",Numpad3:"se",Numpad4:"w",Numpad6:"e",Numpad7:"nw",Numpad8:"n",Numpad9:"ne",NumpadMultiply:"u",NumpadDivide:"d"};window.addEventListener("keydown",t=>{this.settings.disableKeyBinds||("F1"===t.code&&(t.preventDefault(),this.showHelp()),t.ctrlKey&&"KeyF"===t.code&&(t.preventDefault(),this.showSearch()))}),window.addEventListener("resize",()=>{this.render(!0)}),window.addEventListener("keydown",t=>{document.querySelector("input:focus")||this.settings.disableKeyBinds||(t.ctrlKey&&"KeyS"===t.code&&(this.saveImage(),t.preventDefault()),"Equal"===t.code&&(this.renderer.controls.deltaZoom(1.1),t.preventDefault()),"Minus"===t.code&&(this.renderer.controls.deltaZoom(.9),t.preventDefault()),"ArrowUp"===t.code&&(this.move(0,-1),t.preventDefault()),"ArrowDown"===t.code&&(this.move(0,1),t.preventDefault()),"ArrowLeft"===t.code&&(this.move(-1,0),t.preventDefault()),"ArrowRight"===t.code&&(this.move(1,0),t.preventDefault()),e.hasOwnProperty(t.code)&&(this.goDirection(e[t.code]),t.preventDefault()))})}showHelp(){r.default.Modal.getOrCreateInstance(this.helpModal).show()}showSearch(){r.default.Modal.getOrCreateInstance(this.searchModal).show()}replaceVersion(e){(0,o.downloadVersion)(e,this.versions.getAttribute("data-files")).then(t=>{this.reader=new a.MapReader(t,colors),this.populateSelectBox(),this.renderArea(g.areaId,g.zIndex,!0).then(()=>this.showToast("Przeładowano wersję na "+e)),this.versionBadge.innerHTML="v"+e,this.versionBadge.style.display="initial"})}}(new a.MapReader(mapData,colors)),m=((window.controls=g).genericSetup(),g.populateSelectBox(),g.init(),g.registerKeyBoard(),{north:"n",south:"s",east:"e",west:"w",northeast:"ne",northwest:"nw",southeast:"se",southwest:"sw",up:"u",down:"d"})},{"./npc":54,"./preview":55,"./versions":56,"@andreasremdt/simple-translator":9,bootstrap:14,"mudlet-map-renderer":1}],9:[function(d,f,t){!function(u,p){!function(){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var e,i,r,s,l={INVALID_PARAM_LANGUAGE:function(t){return"Invalid parameter for `language` provided. Expected a string, but got ".concat(n(t),".")},INVALID_PARAM_JSON:function(t){return"Invalid parameter for `json` provided. Expected an object, but got ".concat(n(t),".")},EMPTY_PARAM_LANGUAGE:function(){return"The parameter for `language` can't be an empty string."},EMPTY_PARAM_JSON:function(){return"The parameter for `json` must have at least one key/value pair."},INVALID_PARAM_KEY:function(t){return"Invalid parameter for `key` provided. Expected a string, but got ".concat(n(t),".")},NO_LANGUAGE_REGISTERED:function(t){return'No translation for language "'.concat(t,'" has been added, yet. Make sure to register that language using the `.add()` method first.')},TRANSLATION_NOT_FOUND:function(t,e){return'No translation found for key "'.concat(t,'" in language "').concat(e,'". Is there a key/value in your translation file?')},INVALID_PARAMETER_SOURCES:function(t){return"Invalid parameter for `sources` provided. Expected either a string or an array, but got ".concat(n(t),".")},FETCH_ERROR:function(t){return'Could not fetch "'.concat(t.url,'": ').concat(t.status," (").concat(t.statusText,")")},INVALID_ENVIRONMENT:function(){return"You are trying to execute the method `translatePageTo()`, which is only available in the browser. Your environment is most likely Node.js"},MODULE_NOT_FOUND:function(t){return t},MISMATCHING_ATTRIBUTES:function(t,e,i){return'The attributes "data-i18n" and "data-i18n-attr" must contain the same number of keys.\n\nValues in `data-i18n`:      ('.concat(t.length,") `").concat(t.join(" "),"`\nValues in `data-i18n-attr`: (").concat(e.length,") `").concat(e.join(" "),"`\n\nThe HTML element is:\n").concat(i.outerHTML)},INVALID_OPTIONS:function(t){return"Invalid config passed to the `Translator` constructor. Expected an object, but got ".concat(n(t),". Using default config instead.")}};function a(o){return function(e){if(o)try{for(var i=l[e],t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new TypeError(i?i.apply(void 0,n):"Unhandled Error")}catch(t){i=t.stack.split(/\n/g)[1].split(/@/),s=(a=2,function(t){if(Array.isArray(t))return t}(s=i)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,s=[],a=!0,o=!1;try{for(i=i.call(t);!(a=(n=i.next()).done)&&(s.push(n.value),!e||s.length!==e);a=!0);}catch(t){o=!0,r=t}finally{try{a||null==i.return||i.return()}finally{if(o)throw r}}return s}}(s,a)||function(t,e){var i;if(t)return"string"==typeof t?h(t,e):"Map"===(i="Object"===(i=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?h(t,e):void 0}(s,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=s[0],s=s[1];console.error("".concat(t.message,"\n\nThis error happened in the method `").concat(a,"` from: `").concat(s,"`.\n\nIf you don't want to see these error messages, turn off debugging by passing `{ debug: false }` to the constructor.\n\nError code: ").concat(e,"\n\nCheck out the documentation for more details about the API:\nhttps://github.com/andreasremdt/simple-translator#usage\n        "))}var s,a}}function o(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=this,i=o;if(!(e instanceof i))throw new TypeError("Cannot call a class as a function");this.debug=a(!0),"object"==n(t)&&!Array.isArray(t)||(this.debug("INVALID_OPTIONS",t),t={}),this.languages=new Map,this.config=Object.assign(o.defaultConfig,t);e=this.config,i=e.debug,t=e.registerGlobally,e=e.detectLanguage;this.debug=a(i),t&&(this._globalObject[t]=this.translateForKey.bind(this)),e&&"browser"==this._env&&this._detectLanguage()}function c(t){return e.apply(this,arguments)}i=o,r=[{key:"_globalObject",get:function(){return"browser"==this._env?window:p}},{key:"_env",get:function(){return"undefined"==typeof window&&void 0!==f&&f.exports?"node":"browser"}},{key:"_detectLanguage",value:function(){var t=window.localStorage?localStorage.getItem(this.config.persistKey):void 0;t?this.config.defaultLanguage=t:(t=navigator.languages?navigator.languages[0]:navigator.language,this.config.defaultLanguage=t.substr(0,2))}},{key:"_getValueFromJSON",value:function(t,e){e=this.languages.get(e);return t.split(".").reduce(function(t,e){return t?t[e]:null},e)}},{key:"_replace",value:function(n,r){var t,s=this,e=null==(e=n.getAttribute("data-i18n"))?void 0:e.split(/\s/g),a=null==n||null==(t=n.getAttribute("data-i18n-attr"))?void 0:t.split(/\s/g);a&&e.length!=a.length&&this.debug("MISMATCHING_ATTRIBUTES",e,a,n),e.forEach(function(t,e){var i=s._getValueFromJSON(t,r),e=a?a[e]:"innerHTML";i?"innerHTML"==e?n[e]=i:n.setAttribute(e,i):s.debug("TRANSLATION_NOT_FOUND",t,r)})}},{key:"translatePageTo",value:function(){var t,e=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.config.defaultLanguage;"node"!=this._env?"string"==typeof i?0!=i.length?this.languages.has(i)?((t="string"==typeof this.config.selector?Array.from(document.querySelectorAll(this.config.selector)):this.config.selector).length&&0<t.length?t.forEach(function(t){return e._replace(t,i)}):null==t.length&&this._replace(t,i),this._currentLanguage=i,document.documentElement.lang=i,this.config.persist&&window.localStorage&&localStorage.setItem(this.config.persistKey,i)):this.debug("NO_LANGUAGE_REGISTERED",i):this.debug("EMPTY_PARAM_LANGUAGE"):this.debug("INVALID_PARAM_LANGUAGE",i):this.debug("INVALID_ENVIRONMENT")}},{key:"translateForKey",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.config.defaultLanguage;return"string"!=typeof t?(this.debug("INVALID_PARAM_KEY",t),null):this.languages.has(e)?this._getValueFromJSON(t,e)||(this.debug("TRANSLATION_NOT_FOUND",t,e),null):(this.debug("NO_LANGUAGE_REGISTERED",e),null)}},{key:"add",value:function(t,e){return"string"!=typeof t?this.debug("INVALID_PARAM_LANGUAGE",t):0==t.length?this.debug("EMPTY_PARAM_LANGUAGE"):Array.isArray(e)||"object"!=n(e)?this.debug("INVALID_PARAM_JSON",e):0==Object.keys(e).length?this.debug("EMPTY_PARAM_JSON"):this.languages.set(t,e),this}},{key:"remove",value:function(t){return"string"!=typeof t?this.debug("INVALID_PARAM_LANGUAGE",t):0==t.length?this.debug("EMPTY_PARAM_LANGUAGE"):this.languages.delete(t),this}},{key:"fetch",value:(e=function(r){var e,s=this,a=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return Array.isArray(r)||"string"==typeof r?(e=(r=Array.isArray(r)?r:[r]).map(function(t){var t=t.replace(/\.json$/,"").replace(/^\//,""),e=s.config.filesLocation.replace(/\/$/,"");return"".concat(e,"/").concat(t,".json")}),"browser"==this._env?Promise.all(e.map(function(t){return fetch(t)})).then(function(t){return Promise.all(t.map(function(t){if(t.ok)return t.json();s.debug("FETCH_ERROR",t)}))}).then(function(t){return t=t.filter(function(t){return t}),a&&t.forEach(function(t,e){s.add(r[e],t)}),1<t.length?t:t[0]}):"node"==this._env?new Promise(function(t){var n=[];e.forEach(function(t,e){try{var i=JSON.parse(d("fs").readFileSync(u.cwd()+t,"utf-8"));a&&s.add(r[e],i),n.push(i)}catch(t){s.debug("MODULE_NOT_FOUND",t.message)}}),t(1<n.length?n:n[0])}):void 0):(this.debug("INVALID_PARAMETER_SOURCES",r),null)},c.toString=function(){return e.toString()},c)},{key:"setDefaultLanguage",value:function(t){if("string"==typeof t){if(0!=t.length)return this.languages.has(t)?void(this.config.defaultLanguage=t):(this.debug("NO_LANGUAGE_REGISTERED",t),null);this.debug("EMPTY_PARAM_LANGUAGE")}else this.debug("INVALID_PARAM_LANGUAGE",t)}},{key:"currentLanguage",get:function(){return this._currentLanguage||this.config.defaultLanguage}},{key:"defaultLanguage",get:function(){return this.config.defaultLanguage}}],s=[{key:"defaultConfig",get:function(){return{defaultLanguage:"en",detectLanguage:!0,selector:"[data-i18n]",debug:!1,registerGlobally:"__",persist:!1,persistKey:"preferred_language",filesLocation:"/i18n"}}}],t(i.prototype,r),t(i,s),f.exports=o}.call(this)}.call(this,d("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:25,fs:16}],10:[function(t,e,At){!function(Et){!function(){"use strict";function y(t){var e;return null==t?window:"[object Window]"!==t.toString()?(e=t.ownerDocument)&&e.defaultView||window:t}function g(t){return t instanceof y(t).Element||t instanceof Element}function h(t){return t instanceof y(t).HTMLElement||t instanceof HTMLElement}function s(t){return"undefined"!=typeof ShadowRoot&&(t instanceof y(t).ShadowRoot||t instanceof ShadowRoot)}Object.defineProperty(At,"__esModule",{value:!0});var E=Math.max,A=Math.min,b=Math.round;function a(){var t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function k(){return!/^((?!chrome|android).)*safari/i.test(a())}function u(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var n=t.getBoundingClientRect(),r=1,s=1;e&&h(t)&&(r=0<t.offsetWidth&&b(n.width)/t.offsetWidth||1,s=0<t.offsetHeight&&b(n.height)/t.offsetHeight||1);e=(g(t)?y(t):window).visualViewport,t=!k()&&i,i=(n.left+(t&&e?e.offsetLeft:0))/r,t=(n.top+(t&&e?e.offsetTop:0))/s,e=n.width/r,r=n.height/s;return{width:e,height:r,top:t,right:i+e,bottom:t+r,left:i,x:i,y:t}}function p(t){t=y(t);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function l(t){return t?(t.nodeName||"").toLowerCase():null}function w(t){return((g(t)?t.ownerDocument:t.document)||window.document).documentElement}function d(t){return u(w(t)).left+p(t).scrollLeft}function x(t){return y(t).getComputedStyle(t)}function c(t){var t=x(t),e=t.overflow,i=t.overflowX,t=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+t+i)}function q(t,e,i){void 0===i&&(i=!1);var n=h(e),r=h(e)&&(a=(r=e).getBoundingClientRect(),s=b(a.width)/r.offsetWidth||1,a=b(a.height)/r.offsetHeight||1,1!==s||1!==a),s=w(e),a=u(t,r,i),t={scrollLeft:0,scrollTop:0},o={x:0,y:0};return!n&&i||("body"===l(e)&&!c(s)||(t=(n=e)!==y(n)&&h(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:p(n)),h(e)?((o=u(e,!0)).x+=e.clientLeft,o.y+=e.clientTop):s&&(o.x=d(s))),{x:a.left+t.scrollLeft-o.x,y:a.top+t.scrollTop-o.y,width:a.width,height:a.height}}function T(t){var e=u(t),i=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:n}}function o(t){return"html"===l(t)?t:t.assignedSlot||t.parentNode||(s(t)?t.host:null)||w(t)}function m(t,e){void 0===e&&(e=[]);var i=function t(e){return 0<=["html","body","#document"].indexOf(l(e))?e.ownerDocument.body:h(e)&&c(e)?e:t(o(e))}(t),t=i===(null==(t=t.ownerDocument)?void 0:t.body),n=y(i),n=t?[n].concat(n.visualViewport||[],c(i)?i:[]):i,i=e.concat(n);return t?i:i.concat(m(o(n)))}function r(t){return h(t)&&"fixed"!==x(t).position?t.offsetParent:null}function I(t){for(var e,i=y(t),n=r(t);n&&(e=n,0<=["table","td","th"].indexOf(l(e)))&&"static"===x(n).position;)n=r(n);return(!n||"html"!==l(n)&&("body"!==l(n)||"static"!==x(n).position))&&(n||function(t){var e=/firefox/i.test(a()),i=/Trident/i.test(a());if(!i||!h(t)||"fixed"!==x(t).position){var n=o(t);for(s(n)&&(n=n.host);h(n)&&["html","body"].indexOf(l(n))<0;){var r=x(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||e&&"filter"===r.willChange||e&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}}return null}(t))||i}var P="top",L="bottom",O="right",N="left",M="auto",R=[P,L,O,N],D="start",S="end",U="clippingParents",H="viewport",f="popper",W="reference",G=R.reduce(function(t,e){return t.concat([e+"-"+D,e+"-"+S])},[]),K=[].concat(R,[M]).reduce(function(t,e){return t.concat([e,e+"-"+D,e+"-"+S])},[]),Z=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function X(t){var i=new Map,n=new Set,r=[];return t.forEach(function(t){i.set(t.name,t)}),t.forEach(function(t){n.has(t.name)||!function e(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach(function(t){n.has(t)||(t=i.get(t))&&e(t)}),r.push(t)}(t)}),r}function _(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return[].concat(i).reduce(function(t,e){return t.replace(/%s/,e)},t)}var v='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',Y='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',Q=["name","enabled","phase","fn","effect","requires","options"];function B(t){return t.split("-")[0]}function $(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&s(i)){var n=e;do{if(n&&t.isSameNode(n))return!0}while(n=n.parentNode||n.host)}return!1}function J(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function tt(t,e,i){return e===H?J((r=i,a=y(n=t),o=w(n),a=a.visualViewport,h=o.clientWidth,o=o.clientHeight,c=l=0,a&&(h=a.width,o=a.height,(s=k())||!s&&"fixed"===r)&&(l=a.offsetLeft,c=a.offsetTop),{width:h,height:o,x:l+d(n),y:c})):g(e)?((r=u(s=e,!1,"fixed"===(r=i))).top=r.top+s.clientTop,r.left=r.left+s.clientLeft,r.bottom=r.top+s.clientHeight,r.right=r.left+s.clientWidth,r.width=s.clientWidth,r.height=s.clientHeight,r.x=r.left,r.y=r.top,r):J((a=w(t),h=w(a),o=p(a),l=null==(l=a.ownerDocument)?void 0:l.body,n=E(h.scrollWidth,h.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),c=E(h.scrollHeight,h.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),a=-o.scrollLeft+d(a),o=-o.scrollTop,"rtl"===x(l||h).direction&&(a+=E(h.clientWidth,l?l.clientWidth:0)-n),{width:n,height:c,x:a,y:o}));var n,r,s,a,o,h,l,c}function et(i,t,e,n){var r,s="clippingParents"===t?(a=m(o(s=i)),g(r=0<=["absolute","fixed"].indexOf(x(s).position)&&h(s)?I(s):s)?a.filter(function(t){return g(t)&&$(t,r)&&"body"!==l(t)}):[]):[].concat(t),a=[].concat(s,[e]),t=a[0],e=a.reduce(function(t,e){e=tt(i,e,n);return t.top=E(e.top,t.top),t.right=A(e.right,t.right),t.bottom=A(e.bottom,t.bottom),t.left=E(e.left,t.left),t},tt(i,t,n));return e.width=e.right-e.left,e.height=e.bottom-e.top,e.x=e.left,e.y=e.top,e}function V(t){return t.split("-")[1]}function it(t){return 0<=["top","bottom"].indexOf(t)?"x":"y"}function nt(t){var e,i=t.reference,n=t.element,t=t.placement,r=t?B(t):null,t=t?V(t):null,s=i.x+i.width/2-n.width/2,a=i.y+i.height/2-n.height/2;switch(r){case P:e={x:s,y:i.y-n.height};break;case L:e={x:s,y:i.y+i.height};break;case O:e={x:i.x+i.width,y:a};break;case N:e={x:i.x-n.width,y:a};break;default:e={x:i.x,y:i.y}}var o=r?it(r):null;if(null!=o){var h="y"===o?"height":"width";switch(t){case D:e[o]=e[o]-(i[h]/2-n[h]/2);break;case S:e[o]=e[o]+(i[h]/2-n[h]/2)}}return e}function rt(){return{top:0,right:0,bottom:0,left:0}}function st(t){return Object.assign({},rt(),t)}function at(i,t){return t.reduce(function(t,e){return t[e]=i,t},{})}function j(t,e){var n,e=e=void 0===e?{}:e,i=e.placement,i=void 0===i?t.placement:i,r=e.strategy,r=void 0===r?t.strategy:r,s=e.boundary,s=void 0===s?U:s,a=e.rootBoundary,a=void 0===a?H:a,o=e.elementContext,o=void 0===o?f:o,h=e.altBoundary,h=void 0!==h&&h,e=e.padding,e=void 0===e?0:e,e=st("number"!=typeof e?e:at(e,R)),l=t.rects.popper,h=t.elements[h?o===f?W:f:o],h=et(g(h)?h:h.contextElement||w(t.elements.popper),s,a,r),s=u(t.elements.reference),a=nt({reference:s,element:l,strategy:"absolute",placement:i}),r=J(Object.assign({},l,a)),l=o===f?r:s,c={top:h.top-l.top+e.top,bottom:l.bottom-h.bottom+e.bottom,left:h.left-l.left+e.left,right:l.right-h.right+e.right},a=t.modifiersData.offset;return o===f&&a&&(n=a[i],Object.keys(c).forEach(function(t){var e=0<=[O,L].indexOf(t)?1:-1,i=0<=[P,L].indexOf(t)?"y":"x";c[t]+=n[i]*e})),c}var ot="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",ht={placement:"bottom",modifiers:[],strategy:"absolute"};function lt(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some(function(t){return!(t&&"function"==typeof t.getBoundingClientRect)})}function t(t){var t=t=void 0===t?{}:t,e=t.defaultModifiers,d=void 0===e?[]:e,e=t.defaultOptions,f=void 0===e?ht:e;return function(a,o,e){void 0===e&&(e=f);var i,n,h={placement:"bottom",orderedModifiers:[],options:Object.assign({},ht,f),modifiersData:{},elements:{reference:a,popper:o},attributes:{},styles:{}},l=[],c=!1,u={state:h,setOptions:function(t){var i,e,n,r,s,t="function"==typeof t?t(h.options):t,t=(p(),h.options=Object.assign({},f,h.options,t),h.scrollParents={reference:g(a)?m(a):a.contextElement?m(a.contextElement):[],popper:m(o)},t=[].concat(d,h.options.modifiers),e=t.reduce(function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t},{}),t=Object.keys(e).map(function(t){return e[t]}),i=X(t),Z.reduce(function(t,e){return t.concat(i.filter(function(t){return t.phase===e}))},[]));return h.orderedModifiers=t.filter(function(t){return t.enabled}),"production"!==Et.env.NODE_ENV&&(t=[].concat(t,h.options.modifiers),r=function(t){return t.name},s=new Set,t=t.filter(function(t){t=r(t);if(!s.has(t))return s.add(t),!0}),(n=t).forEach(function(i){[].concat(Object.keys(i),Q).filter(function(t,e,i){return i.indexOf(t)===e}).forEach(function(t){switch(t){case"name":"string"!=typeof i.name&&console.error(_(v,String(i.name),'"name"','"string"','"'+String(i.name)+'"'));break;case"enabled":"boolean"!=typeof i.enabled&&console.error(_(v,i.name,'"enabled"','"boolean"','"'+String(i.enabled)+'"'));break;case"phase":Z.indexOf(i.phase)<0&&console.error(_(v,i.name,'"phase"',"either "+Z.join(", "),'"'+String(i.phase)+'"'));break;case"fn":"function"!=typeof i.fn&&console.error(_(v,i.name,'"fn"','"function"','"'+String(i.fn)+'"'));break;case"effect":null!=i.effect&&"function"!=typeof i.effect&&console.error(_(v,i.name,'"effect"','"function"','"'+String(i.fn)+'"'));break;case"requires":null==i.requires||Array.isArray(i.requires)||console.error(_(v,i.name,'"requires"','"array"','"'+String(i.requires)+'"'));break;case"requiresIfExists":Array.isArray(i.requiresIfExists)||console.error(_(v,i.name,'"requiresIfExists"','"array"','"'+String(i.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+i.name+'" modifier, valid properties are '+Q.map(function(t){return'"'+t+'"'}).join(", ")+'; but "'+t+'" was provided.')}i.requires&&i.requires.forEach(function(e){null==n.find(function(t){return t.name===e})&&console.error(_(Y,String(i.name),e,e))})})}),B(h.options.placement)!==M||h.orderedModifiers.find(function(t){return"flip"===t.name})||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" ")),[(t=x(o)).marginTop,t.marginRight,t.marginBottom,t.marginLeft].some(function(t){return parseFloat(t)}))&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" ")),h.orderedModifiers.forEach(function(t){var e=t.name,i=t.options,t=t.effect;"function"==typeof t&&(t=t({state:h,name:e,instance:u,options:void 0===i?{}:i}),l.push(t||function(){}))}),u.update()},forceUpdate:function(){if(!c){var t=h.elements,e=t.reference,t=t.popper;if(lt(e,t)){h.rects={reference:q(e,I(t),"fixed"===h.options.strategy),popper:T(t)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(t){return h.modifiersData[t.name]=Object.assign({},t.data)});for(var i,n,r,s=0,a=0;a<h.orderedModifiers.length;a++){if("production"!==Et.env.NODE_ENV&&100<(s+=1)){console.error("Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.");break}!0===h.reset?(h.reset=!1,a=-1):(i=(r=h.orderedModifiers[a]).fn,n=r.options,r=r.name,"function"==typeof i&&(h=i({state:h,options:void 0===n?{}:n,name:r,instance:u})||h))}}else"production"!==Et.env.NODE_ENV&&console.error(ot)}},update:(i=function(){return new Promise(function(t){u.forceUpdate(),t(h)})},function(){return n=n||new Promise(function(t){Promise.resolve().then(function(){n=void 0,t(i())})})}),destroy:function(){p(),c=!0}};return lt(a,o)?u.setOptions(e).then(function(t){!c&&e.onFirstUpdate&&e.onFirstUpdate(t)}):"production"!==Et.env.NODE_ENV&&console.error(ot),u;function p(){l.forEach(function(t){return t()}),l=[]}}}var C={passive:!0};var e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,i=t.instance,n=(t=t.options).scroll,r=void 0===n||n,s=void 0===(n=t.resize)||n,a=y(e.elements.popper),o=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&o.forEach(function(t){t.addEventListener("scroll",i.update,C)}),s&&a.addEventListener("resize",i.update,C),function(){r&&o.forEach(function(t){t.removeEventListener("scroll",i.update,C)}),s&&a.removeEventListener("resize",i.update,C)}},data:{}};var i={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,t=t.name;e.modifiersData[t]=nt({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},ct={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ut(t){var e,i,n,r=t.popper,s=t.popperRect,a=t.placement,o=t.variation,h=t.offsets,l=t.position,c=t.gpuAcceleration,u=t.adaptive,p=t.roundOffsets,t=t.isFixed,d=h.x,d=void 0===d?0:d,f=h.y,f=void 0===f?0:f,g="function"==typeof p?p({x:d,y:f}):{x:d,y:f},g=(d=g.x,f=g.y,h.hasOwnProperty("x")),h=h.hasOwnProperty("y"),m=N,_=P,v=window,r=(u&&(i="clientHeight",e="clientWidth",(n=I(r))===y(r)&&"static"!==x(n=w(r)).position&&"absolute"===l&&(i="scrollHeight",e="scrollWidth"),a!==P&&(a!==N&&a!==O||o!==S)||(_=L,f=(f-((t&&n===v&&v.visualViewport?v.visualViewport.height:n[i])-s.height))*(c?1:-1)),a!==N&&(a!==P&&a!==L||o!==S)||(m=O,d=(d-((t&&n===v&&v.visualViewport?v.visualViewport.width:n[e])-s.width))*(c?1:-1))),Object.assign({position:l},u&&ct)),t=!0===p?(a=(i={x:d,y:f}).x,i=i.y,o=window.devicePixelRatio||1,{x:b(a*o)/o||0,y:b(i*o)/o||0}):{x:d,y:f};return d=t.x,f=t.y,c?Object.assign({},r,((n={})[_]=h?"0":"",n[m]=g?"0":"",n.transform=(v.devicePixelRatio||1)<=1?"translate("+d+"px, "+f+"px)":"translate3d("+d+"px, "+f+"px, 0)",n)):Object.assign({},r,((e={})[_]=h?f+"px":"",e[m]=g?d+"px":"",e.transform="",e))}var n={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e,i=t.state,t=t.options,n=void 0===(n=t.gpuAcceleration)||n,r=void 0===(r=t.adaptive)||r,t=void 0===(t=t.roundOffsets)||t,n=("production"!==Et.env.NODE_ENV&&(e=x(i.elements.popper).transitionProperty||"",r)&&["transform","top","right","bottom","left"].some(function(t){return 0<=e.indexOf(t)})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',"\n\n",'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.","\n\n","We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" ")),{placement:B(i.placement),variation:V(i.placement),popper:i.elements.popper,popperRect:i.rects.popper,gpuAcceleration:n,isFixed:"fixed"===i.options.strategy});null!=i.modifiersData.popperOffsets&&(i.styles.popper=Object.assign({},i.styles.popper,ut(Object.assign({},n,{offsets:i.modifiersData.popperOffsets,position:i.options.strategy,adaptive:r,roundOffsets:t})))),null!=i.modifiersData.arrow&&(i.styles.arrow=Object.assign({},i.styles.arrow,ut(Object.assign({},n,{offsets:i.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:t})))),i.attributes.popper=Object.assign({},i.attributes.popper,{"data-popper-placement":i.placement})},data:{}};var pt={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var r=t.state;Object.keys(r.elements).forEach(function(t){var e=r.styles[t]||{},i=r.attributes[t]||{},n=r.elements[t];h(n)&&l(n)&&(Object.assign(n.style,e),Object.keys(i).forEach(function(t){var e=i[t];!1===e?n.removeAttribute(t):n.setAttribute(t,!0===e?"":e)}))})},effect:function(t){var n=t.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow),function(){Object.keys(n.elements).forEach(function(t){var e=n.elements[t],i=n.attributes[t]||{},t=Object.keys((n.styles.hasOwnProperty(t)?n.styles:r)[t]).reduce(function(t,e){return t[e]="",t},{});h(e)&&l(e)&&(Object.assign(e.style,t),Object.keys(i).forEach(function(t){e.removeAttribute(t)}))})}},requires:["computeStyles"]};var dt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var a=t.state,e=t.options,t=t.name,o=void 0===(e=e.offset)?[0,0]:e,e=K.reduce(function(t,e){var i,n,r,s;return t[e]=(e=e,i=a.rects,n=o,r=B(e),s=0<=[N,P].indexOf(r)?-1:1,e=(i="function"==typeof n?n(Object.assign({},i,{placement:e})):n)[0]||0,n=(i[1]||0)*s,0<=[N,O].indexOf(r)?{x:n,y:e}:{x:e,y:n}),t},{}),i=(n=e[a.placement]).x,n=n.y;null!=a.modifiersData.popperOffsets&&(a.modifiersData.popperOffsets.x+=i,a.modifiersData.popperOffsets.y+=n),a.modifiersData[t]=e}},ft={left:"right",right:"left",bottom:"top",top:"bottom"};function F(t){return t.replace(/left|right|bottom|top/g,function(t){return ft[t]})}var gt={start:"end",end:"start"};function mt(t){return t.replace(/start|end/g,function(t){return gt[t]})}var _t={name:"flip",enabled:!0,phase:"main",fn:function(t){var u=t.state,e=t.options,t=t.name;if(!u.modifiersData[t]._skip){for(var i=e.mainAxis,n=void 0===i||i,i=e.altAxis,r=void 0===i||i,i=e.fallbackPlacements,p=e.padding,d=e.boundary,f=e.rootBoundary,s=e.altBoundary,a=e.flipVariations,g=void 0===a||a,m=e.allowedAutoPlacements,a=u.options.placement,e=B(a),i=i||(e===a||!g?[F(a)]:B(i=a)===M?[]:(e=F(i),[mt(i),e,mt(e)])),o=[a].concat(i).reduce(function(t,e){return t.concat(B(e)===M?(i=u,n=(t=t=void 0===(t={placement:e,boundary:d,rootBoundary:f,padding:p,flipVariations:g,allowedAutoPlacements:m})?{}:t).placement,r=t.boundary,s=t.rootBoundary,a=t.padding,o=t.flipVariations,h=void 0===(t=t.allowedAutoPlacements)?K:t,l=V(n),t=l?o?G:G.filter(function(t){return V(t)===l}):R,0===(n=t.filter(function(t){return 0<=h.indexOf(t)})).length&&(n=t,"production"!==Et.env.NODE_ENV)&&console.error(["Popper: The `allowedAutoPlacements` option did not allow any","placements. Ensure the `placement` option matches the variation","of the allowed placements.",'For example, "auto" cannot be used to allow "bottom-start".','Use "auto-start" instead.'].join(" ")),c=n.reduce(function(t,e){return t[e]=j(i,{placement:e,boundary:r,rootBoundary:s,padding:a})[B(e)],t},{}),Object.keys(c).sort(function(t,e){return c[t]-c[e]})):e);var i,n,r,s,a,o,h,l,c},[]),h=u.rects.reference,l=u.rects.popper,c=new Map,_=!0,v=o[0],y=0;y<o.length;y++){var b=o[y],w=B(b),x=V(b)===D,S=0<=[P,L].indexOf(w),C=S?"width":"height",k=j(u,{placement:b,boundary:d,rootBoundary:f,altBoundary:s,padding:p}),S=S?x?O:N:x?L:P,x=(h[C]>l[C]&&(S=F(S)),F(S)),C=[];if(n&&C.push(k[w]<=0),r&&C.push(k[S]<=0,k[x]<=0),C.every(function(t){return t})){v=b,_=!1;break}c.set(b,C)}if(_)for(var E=g?3:1;0<E;E--)if("break"===function(e){var t=o.find(function(t){t=c.get(t);if(t)return t.slice(0,e).every(function(t){return t})});if(t)return v=t,"break"}(E))break;u.placement!==v&&(u.modifiersData[t]._skip=!0,u.placement=v,u.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function z(t,e,i){return E(t,A(e,i))}var vt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e,i,n,r,s,a,o,h,l,c=t.state,u=t.options,t=t.name,p=void 0===(p=u.mainAxis)||p,d=void 0!==(d=u.altAxis)&&d,f=u.boundary,g=u.rootBoundary,m=u.altBoundary,_=u.padding,v=void 0===(v=u.tether)||v,u=void 0===(u=u.tetherOffset)?0:u,f=j(c,{boundary:f,rootBoundary:g,padding:_,altBoundary:m}),g=B(c.placement),m=!(_=V(c.placement)),y=it(g),b="x"===y?"y":"x",w=c.modifiersData.popperOffsets,x=c.rects.reference,S=c.rects.popper,u="number"==typeof(u="function"==typeof u?u(Object.assign({},c.rects,{placement:c.placement})):u)?{mainAxis:u,altAxis:u}:Object.assign({mainAxis:0,altAxis:0},u),C=c.modifiersData.offset?c.modifiersData.offset[c.placement]:null,k={x:0,y:0};w&&(p&&(p="y"===y?"height":"width",a=(o=w[y])+f[i="y"===y?P:N],h=o-f[l="y"===y?L:O],e=v?-S[p]/2:0,r=(_===D?x:S)[p],_=_===D?-S[p]:-x[p],s=c.elements.arrow,s=v&&s?T(s):{width:0,height:0},i=(n=c.modifiersData["arrow#persistent"]?c.modifiersData["arrow#persistent"].padding:rt())[i],n=n[l],l=z(0,x[p],s[p]),s=m?x[p]/2-e-l-i-u.mainAxis:r-l-i-u.mainAxis,r=m?-x[p]/2+e+l+n+u.mainAxis:_+l+n+u.mainAxis,m=(i=c.elements.arrow&&I(c.elements.arrow))?"y"===y?i.clientTop||0:i.clientLeft||0:0,_=o+r-(e=null!=(p=null==C?void 0:C[y])?p:0),l=z(v?A(a,o+s-e-m):a,o,v?E(h,_):h),w[y]=l,k[y]=l-o),d&&(n="y"==b?"height":"width",r=(i=w[b])+f["x"===y?P:N],p=i-f["x"===y?L:O],s=-1!==[P,N].indexOf(g),m=null!=(e=null==C?void 0:C[b])?e:0,a=s?r:i-x[n]-S[n]-m+u.altAxis,_=s?i+x[n]+S[n]-m-u.altAxis:p,o=v&&s?(h=z(h=a,i,l=_),l<h?l:h):z(v?a:r,i,v?_:p),w[b]=o,k[b]=o-i),c.modifiersData[t]=k)},requiresIfExists:["offset"]};var yt={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,i,n,r,s=t.state,a=t.name,t=t.options,o=s.elements.arrow,h=s.modifiersData.popperOffsets,l=it(c=B(s.placement)),c=0<=[N,O].indexOf(c)?"height":"width";o&&h&&(t=t.padding,i=s,i=st("number"!=typeof(t="function"==typeof t?t(Object.assign({},i.rects,{placement:i.placement})):t)?t:at(t,R)),t=T(o),r="y"===l?P:N,n="y"===l?L:O,e=s.rects.reference[c]+s.rects.reference[l]-h[l]-s.rects.popper[c],h=h[l]-s.rects.reference[l],o=(o=I(o))?"y"===l?o.clientHeight||0:o.clientWidth||0:0,r=i[r],i=o-t[c]-i[n],r=z(r,n=o/2-t[c]/2+(e/2-h/2),i),s.modifiersData[a]=((o={})[l]=r,o.centerOffset=r-n,o))},effect:function(t){var e=t.state;null==(t=void 0===(t=t.options.element)?"[data-popper-arrow]":t)||"string"==typeof t&&!(t=e.elements.popper.querySelector(t))||("production"===Et.env.NODE_ENV||h(t)||console.error(['Popper: "arrow" element must be an HTMLElement (not an SVGElement).',"To use an SVG arrow, wrap it in an HTMLElement that will be used as","the arrow."].join(" ")),$(e.elements.popper,t)?e.elements.arrow=t:"production"!==Et.env.NODE_ENV&&console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper',"element."].join(" ")))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function bt(t,e,i){return{top:t.top-e.height-(i=void 0===i?{x:0,y:0}:i).y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function wt(e){return[P,O,L,N].some(function(t){return 0<=e[t]})}var xt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,t=t.name,i=e.rects.reference,n=e.rects.popper,r=e.modifiersData.preventOverflow,s=j(e,{elementContext:"reference"}),a=j(e,{altBoundary:!0}),s=bt(s,i),i=bt(a,n,r),a=wt(s),n=wt(i);e.modifiersData[t]={referenceClippingOffsets:s,popperEscapeOffsets:i,isReferenceHidden:a,hasPopperEscaped:n},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":a,"data-popper-escaped":n})}},St=t({defaultModifiers:[e,i,n,pt]}),Ct=[e,i,n,pt,dt,_t,vt,yt,xt],kt=t({defaultModifiers:Ct});At.applyStyles=pt,At.arrow=yt,At.computeStyles=n,At.createPopper=kt,At.createPopperLite=St,At.defaultModifiers=Ct,At.detectOverflow=j,At.eventListeners=e,At.flip=_t,At.hide=xt,At.offset=dt,At.popperGenerator=t,At.popperOffsets=i,At.preventOverflow=vt}.call(this)}.call(this,t("_process"))},{_process:25}],11:[function(t,e,i){var n=this,r=function(){"use strict";function e(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function g(n){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e(Object(r),!0).forEach(function(t){var e,i;e=n,i=r[t=t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(r,t))})}return n}function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}()||c(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){var i;if(t)return"string"==typeof t?n(t,e):"Map"===(i="Object"===(i=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,e):void 0}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function l(t){return"string"==typeof t?document.querySelector(t):t()}function u(i,t,e){var n=(e=e||{}).mode,r=e.diacritics,s=e.highlight,a=_(t,r);if(t=String(t),i=_(i,r),"loose"===n){var o=(i=i.replace(/ /g,"")).length,h=0,e=Array.from(t).map(function(t,e){return h<o&&a[e]===i[h]&&(t=s?v(t,s):t,h++),t}).join("");if(h===o)return e}else{r=a.indexOf(i);if(~r)return i=t.substring(r,r+i.length),s?t.replace(i,v(i,s)):t}}function p(t){k(t.cursor+1,t)}function d(t){k(t.cursor-1,t)}function f(t,e,i){(i=0<=i?i:t.cursor)<0||(t.feedback.event=e,x(t,i),y("selection",t),C(t))}var m=function(t,e){var i,n="string"==typeof t?document.createElement(t):t;for(i in e){var r,s=e[i];"inside"===i?s.append(n):"dest"===i?l(s[0]).insertAdjacentElement(s[1],n):"around"===i?((r=s).parentNode.insertBefore(n,r),n.append(r),null!=r.getAttribute("autofocus")&&r.focus()):i in n?n[i]=s:n.setAttribute(i,s)}return n},_=function(t,e){return t=String(t).toLowerCase(),e?t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").normalize("NFC"):t},v=function(t,e){return m("mark",g({innerHTML:t},"string"==typeof e&&{class:e})).outerHTML},y=function(t,e){e.input.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:e.feedback,cancelable:!0}))},b=function(r,s){return new Promise(function(e,i){var n;return(n=r.data).cache&&n.store?e():new Promise(function(t,e){return"function"==typeof n.src?n.src(s).then(t,e):t(n.src)}).then(function(t){try{return r.feedback=n.store=t,y("response",r),e()}catch(t){return i(t)}},i)})},w=function(s,a){var o=a.data,h=a.searchEngine,l=[],t=(o.store.forEach(function(i,t){function e(t){var e=t?i[t]:i;(e="function"==typeof h?h(s,e):u(s,e,{mode:h,diacritics:a.diacritics,highlight:a.resultItem.highlight}))&&(e={match:e,value:i},t&&(e.key=t),l.push(e))}if(o.keys){var n,r=function(t){var e,i,n,r,s,a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(a)return n=!(i=!0),{s:function(){a=a.call(t)},n:function(){var t=a.next();return i=t.done,t},e:function(t){n=!0,e=t},f:function(){try{i||null==a.return||a.return()}finally{if(n)throw e}}};if(Array.isArray(t)||(a=c(t)))return a&&(t=a),r=0,{s:s=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:s};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(o.keys);try{for(r.s();!(n=r.n()).done;)e(n.value)}catch(t){r.e(t)}finally{r.f()}}else e()}),(l=o.filter?o.filter(l):l).slice(0,a.resultsList.maxResults));a.feedback={query:s,matches:l,results:t},y("results",a)},i="aria-expanded",a="aria-activedescendant",o="aria-selected",x=function(t,e){t.feedback.selection=g({index:e},t.feedback.results[e])},S=function(t){t.isOpen||((t.wrapper||t.input).setAttribute(i,!0),t.list.removeAttribute("hidden"),t.isOpen=!0,y("open",t))},C=function(t){t.isOpen&&((t.wrapper||t.input).setAttribute(i,!1),t.input.setAttribute(a,""),t.list.setAttribute("hidden",""),t.isOpen=!1,y("close",t))},k=function(t,e){var i,n=e.resultItem,r=e.list.getElementsByTagName(n.tag),n=!!n.selected&&n.selected.split(" ");e.isOpen&&r.length&&(i=e.cursor,(t=t>=r.length?0:t)<0&&(t=r.length-1),e.cursor=t,-1<i&&(r[i].removeAttribute(o),n)&&(i=r[i].classList).remove.apply(i,s(n)),r[t].setAttribute(o,!0),n&&(i=r[t].classList).add.apply(i,s(n)),e.input.setAttribute(a,r[e.cursor].id),e.list.scrollTop=r[t].offsetTop-e.list.clientHeight+r[t].clientHeight+5,e.feedback.cursor=e.cursor,x(e,t),y("navigate",e))};function E(d,n){var f=this;return new Promise(function(l,c){var t,e,i,u=n||((t=d.input)instanceof HTMLInputElement||t instanceof HTMLTextAreaElement?t.value:t.innerHTML);return t=u=d.query?d.query(u):u,e=d.trigger,i=d.threshold,(e?e(t):t.length>=i)?b(d,u).then(function(t){try{return d.feedback instanceof Error?l():(w(u,d),d.resultsList&&(n=(e=d).resultsList,r=e.list,s=e.resultItem,a=e.feedback,o=a.matches,h=a.results,e.cursor=-1,r.innerHTML="",(o.length||n.noResults?(i=new DocumentFragment,h.forEach(function(t,e){e=m(s.tag,g({id:"".concat(s.id,"_").concat(e),role:"option",innerHTML:t.match,inside:i},s.class&&{class:s.class}));s.element&&s.element(e,t)}),r.append(i),n.element&&n.element(r,a),S):C)(e)),p.call(f))}catch(t){return c(t)}var e,i,n,r,s,a,o,h},c):(C(d),p.call(f));function p(){return l()}})}function A(t,e){for(var i in t)for(var n in t[i])e(i,n)}var T=function(s){var t,e,i,n=s.events,r=(t=function(){return E(s)},e=s.debounce,s.events=g({input:g({},n&&n.input)},s.resultsList&&{list:n?g({},n.list):{}})),a={input:{input:function(){clearTimeout(i),i=setTimeout(t,e)},keydown:function(t){var e=t,i=s;switch(e.keyCode){case 40:case 38:e.preventDefault(),(40===e.keyCode?p:d)(i);break;case 13:i.submit||e.preventDefault(),0<=i.cursor&&f(i,e);break;case 9:i.resultsList.tabSelect&&0<=i.cursor&&f(i,e);break;case 27:i.input.value="",C(i)}},blur:function(){C(s)}},list:{mousedown:function(t){t.preventDefault()},click:function(t){var e,i,n,r;t=t,i=(e=s).resultItem.tag.toUpperCase(),n=Array.from(e.list.querySelectorAll(i)),(r=t.target.closest(i))&&r.nodeName===i&&f(e,t,n.indexOf(r))}}};A(a,function(t,e){!s.resultsList&&"input"!==e||r[t][e]||(r[t][e]=a[t][e])}),A(r,function(t,e){s[t].addEventListener(e,r[t][e])})};function I(a){var o=this;new Promise(function(t,e){var i,n,r;return i=a.placeHolder,r={role:"combobox","aria-owns":(n=a.resultsList).id,"aria-haspopup":!0,"aria-expanded":!1},m(a.input,g(g({"aria-controls":n.id,"aria-autocomplete":"both"},i&&{placeholder:i}),!a.wrapper&&g({},r))),a.wrapper&&(a.wrapper=m("div",g({around:a.input,class:a.name+"_wrapper"},r))),n&&(a.list=m(n.tag,g({dest:[n.destination,n.position],id:n.id,role:"listbox",hidden:"hidden"},n.class&&{class:n.class}))),T(a),a.data.cache?b(a).then(function(t){try{return s.call(o)}catch(t){return e(t)}},e):s.call(o);function s(){return y("init",a),t()}})}return function t(e){this.options=e,this.id=t.instances=(t.instances||0)+1,this.name="autoComplete",this.wrapper=1,this.threshold=1,this.debounce=0,this.resultsList={position:"afterend",tag:"ul",maxResults:5},this.resultItem={tag:"li"};var i,n=this,e=n.name,r=n.options,s=n.resultsList,a=n.resultItem;for(i in r)if("object"===h(r[i]))for(var o in n[i]||(n[i]={}),r[i])n[i][o]=r[i][o];else n[i]=r[i];n.selector=n.selector||"#"+e,s.destination=s.destination||n.selector,s.id=s.id||e+"_list_"+n.id,a.id=a.id||e+"_result",n.input=l(n.selector),function(t){(t=t.prototype).init=function(){I(this)},t.start=function(t){E(this,t)},t.unInit=function(){var t,i;this.wrapper&&((t=this.wrapper.parentNode).insertBefore(this.input,this.wrapper),t.removeChild(this.wrapper)),A((i=this).events,function(t,e){i[t].removeEventListener(e,i.events[t][e])})},t.open=function(){S(this)},t.close=function(){C(this)},t.goTo=function(t){k(t,this)},t.next=function(){p(this)},t.previous=function(){d(this)},t.select=function(t){f(this,null,t)},t.search=u}.call(this,t),I(this)}};"object"==typeof i&&void 0!==e?e.exports=r():"function"==typeof define&&define.amd?define(r):(n="undefined"!=typeof globalThis?globalThis:n||self).autoComplete=r()},{}],12:[function(t,e,i){var n,r;n=this,r=function(t){"use strict";var a={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},e="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",D={5:e,"5module":e+" export import",6:e+" const class extends export import super"},B=/^in(stanceof)?$/,e="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࣇऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-鿼ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞿꟂ-ꟊꟵ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",V=new RegExp("["+e+"]"),j=new RegExp("["+e+"‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࣓-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿᫀᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷹᷻-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿]"),F=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,107,20,28,22,13,52,76,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8952,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42717,35,4148,12,221,3,5761,15,7472,3104,541,1507,4938],z=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,4759,9,787719,239];function i(t,e){for(var i=65536,n=0;n<e.length;n+=2){if(t<(i+=e[n]))return!1;if(t<=(i+=e[n+1]))return!0}}function o(t,e){return t<65?36===t:t<91||(t<97?95===t:t<123||(t<=65535?170<=t&&V.test(String.fromCharCode(t)):!1!==e&&i(t,F)))}function h(t,e){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||(t<=65535?170<=t&&j.test(String.fromCharCode(t)):!1!==e&&(i(t,F)||i(t,z)))))}function n(t,e){void 0===e&&(e={}),this.label=t,this.keyword=e.keyword,this.beforeExpr=!!e.beforeExpr,this.startsExpr=!!e.startsExpr,this.isLoop=!!e.isLoop,this.isAssign=!!e.isAssign,this.prefix=!!e.prefix,this.postfix=!!e.postfix,this.binop=e.binop||null,this.updateContext=null}function r(t,e){return new n(t,{beforeExpr:!0,binop:e})}var e={beforeExpr:!0},s={startsExpr:!0},l={};function c(t,e){return(e=void 0===e?{}:e).keyword=t,l[t]=new n(t,e)}var m={num:new n("num",s),regexp:new n("regexp",s),string:new n("string",s),name:new n("name",s),eof:new n("eof"),bracketL:new n("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new n("]"),braceL:new n("{",{beforeExpr:!0,startsExpr:!0}),braceR:new n("}"),parenL:new n("(",{beforeExpr:!0,startsExpr:!0}),parenR:new n(")"),comma:new n(",",e),semi:new n(";",e),colon:new n(":",e),dot:new n("."),question:new n("?",e),questionDot:new n("?."),arrow:new n("=>",e),template:new n("template"),invalidTemplate:new n("invalidTemplate"),ellipsis:new n("...",e),backQuote:new n("`",s),dollarBraceL:new n("${",{beforeExpr:!0,startsExpr:!0}),eq:new n("=",{beforeExpr:!0,isAssign:!0}),assign:new n("_=",{beforeExpr:!0,isAssign:!0}),incDec:new n("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new n("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:r("||",1),logicalAND:r("&&",2),bitwiseOR:r("|",3),bitwiseXOR:r("^",4),bitwiseAND:r("&",5),equality:r("==/!=/===/!==",6),relational:r("</>/<=/>=",7),bitShift:r("<</>>/>>>",8),plusMin:new n("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:r("%",10),star:r("*",10),slash:r("/",10),starstar:new n("**",{beforeExpr:!0}),coalesce:r("??",1),_break:c("break"),_case:c("case",e),_catch:c("catch"),_continue:c("continue"),_debugger:c("debugger"),_default:c("default",e),_do:c("do",{isLoop:!0,beforeExpr:!0}),_else:c("else",e),_finally:c("finally"),_for:c("for",{isLoop:!0}),_function:c("function",s),_if:c("if"),_return:c("return",e),_switch:c("switch"),_throw:c("throw",e),_try:c("try"),_var:c("var"),_const:c("const"),_while:c("while",{isLoop:!0}),_with:c("with"),_new:c("new",{beforeExpr:!0,startsExpr:!0}),_this:c("this",s),_super:c("super",s),_class:c("class",s),_extends:c("extends",e),_export:c("export"),_import:c("import",s),_null:c("null",s),_true:c("true",s),_false:c("false",s),_in:c("in",{beforeExpr:!0,binop:7}),_instanceof:c("instanceof",{beforeExpr:!0,binop:7}),_typeof:c("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:c("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:c("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},u=/\r\n?|\n|\u2028|\u2029/,p=new RegExp(u.source,"g");function d(t,e){return 10===t||13===t||!e&&(8232===t||8233===t)}var f=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,g=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,e=Object.prototype,q=e.hasOwnProperty,U=e.toString;function _(t,e){return q.call(t,e)}var H=Array.isArray||function(t){return"[object Array]"===U.call(t)};function v(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}function y(t,e){this.line=t,this.column=e}function b(t,e,i){this.start=e,this.end=i,null!==t.sourceFile&&(this.source=t.sourceFile)}function w(t,e){for(var i=1,n=0;;){p.lastIndex=n;var r=p.exec(t);if(!(r&&r.index<e))return new y(i,e-n);++i,n=r.index+r[0].length}}var x={ecmaVersion:10,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!(y.prototype.offset=function(t){return new y(this.line,this.column+t)}),allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};function W(t){var e,i,a,o,n={};for(e in x)n[e]=(t&&_(t,e)?t:x)[e];return 2015<=n.ecmaVersion&&(n.ecmaVersion-=2009),null==n.allowReserved&&(n.allowReserved=n.ecmaVersion<5),H(n.onToken)&&(i=n.onToken,n.onToken=function(t){return i.push(t)}),H(n.onComment)&&(n.onComment=(o=(a=n).onComment,function(t,e,i,n,r,s){t={type:t?"Block":"Line",value:e,start:i,end:n};a.locations&&(t.loc=new b(this,r,s)),a.ranges&&(t.range=[i,n]),o.push(t)})),n}function S(t,e){return 2|(t?4:0)|(e?8:0)}function C(t,e,i){this.options=t=W(t),this.sourceFile=t.sourceFile,this.keywords=v(D[6<=t.ecmaVersion?6:"module"===t.sourceType?"5module":5]);var n="";if(!0!==t.allowReserved){for(var r=t.ecmaVersion;!(n=a[r]);r--);"module"===t.sourceType&&(n+=" await")}this.reservedWords=v(n);var s=(n?n+" ":"")+a.strict;this.reservedWordsStrict=v(s),this.reservedWordsStrictBind=v(s+" "+a.strictBind),this.input=String(e),this.containsEsc=!1,i?(this.pos=i,this.lineStart=this.input.lastIndexOf("\n",i-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(u).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=m.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===t.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},0===this.pos&&t.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null}var s={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}},e=(C.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)},s.inFunction.get=function(){return 0<(2&this.currentVarScope().flags)},s.inGenerator.get=function(){return 0<(8&this.currentVarScope().flags)},s.inAsync.get=function(){return 0<(4&this.currentVarScope().flags)},s.allowSuper.get=function(){return 0<(64&this.currentThisScope().flags)},s.allowDirectSuper.get=function(){return 0<(128&this.currentThisScope().flags)},s.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},C.prototype.inNonArrowFunction=function(){return 0<(2&this.currentThisScope().flags)},C.extend=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var i=this,n=0;n<t.length;n++)i=t[n](i);return i},C.parse=function(t,e){return new this(e,t).parse()},C.parseExpressionAt=function(t,e,i){i=new this(i,t,e);return i.nextToken(),i.parseExpression()},C.tokenizer=function(t,e){return new this(e,t)},Object.defineProperties(C.prototype,s),C.prototype),G=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;function k(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}e.strictDirective=function(t){for(;;){g.lastIndex=t,t+=g.exec(this.input)[0].length;var e,i,n,r=G.exec(this.input.slice(t));if(!r)return!1;if("use strict"===(r[1]||r[2]))return g.lastIndex=t+r[0].length,i=(e=g.exec(this.input)).index+e[0].length,";"===(n=this.input.charAt(i))||"}"===n||u.test(e[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(n)||"!"===n&&"="===this.input.charAt(i+1));t+=r[0].length,g.lastIndex=t,t+=g.exec(this.input)[0].length,";"===this.input[t]&&t++}},e.eat=function(t){return this.type===t&&(this.next(),!0)},e.isContextual=function(t){return this.type===m.name&&this.value===t&&!this.containsEsc},e.eatContextual=function(t){return!!this.isContextual(t)&&(this.next(),!0)},e.expectContextual=function(t){this.eatContextual(t)||this.unexpected()},e.canInsertSemicolon=function(){return this.type===m.eof||this.type===m.braceR||u.test(this.input.slice(this.lastTokEnd,this.start))},e.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},e.semicolon=function(){this.eat(m.semi)||this.insertSemicolon()||this.unexpected()},e.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0},e.expect=function(t){this.eat(t)||this.unexpected()},e.unexpected=function(t){this.raise(null!=t?t:this.start,"Unexpected token")},e.checkPatternErrors=function(t,e){t&&(-1<t.trailingComma&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element"),-1<(e=e?t.parenthesizedAssign:t.parenthesizedBind))&&this.raiseRecoverable(e,"Parenthesized pattern")},e.checkExpressionErrors=function(t,e){var i;return!!t&&(i=t.shorthandAssign,t=t.doubleProto,e?(0<=i&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),void(0<=t&&this.raiseRecoverable(t,"Redefinition of __proto__ property"))):0<=i||0<=t)},e.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},e.isSimpleAssignTarget=function(t){return"ParenthesizedExpression"===t.type?this.isSimpleAssignTarget(t.expression):"Identifier"===t.type||"MemberExpression"===t.type};function K(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[]}function E(t,e,i){this.type="",this.start=e,this.end=0,t.options.locations&&(this.loc=new b(t,i)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[e,0])}var s=C.prototype,A=(s.parseTopLevel=function(t){var e={};for(t.body||(t.body=[]);this.type!==m.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var n=0,r=Object.keys(this.undefinedExports);n<r.length;n+=1){var s=r[n];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")},{kind:"loop"}),Z={kind:"switch"},X=(s.isLet=function(t){if(!(this.options.ecmaVersion<6)&&this.isContextual("let")){g.lastIndex=this.pos;var e=g.exec(this.input),e=this.pos+e[0].length,i=this.input.charCodeAt(e);if(91===i)return!0;if(!t){if(123===i)return!0;if(o(i,!0)){for(var n=e+1;h(this.input.charCodeAt(n),!0);)++n;t=this.input.slice(e,n);if(!B.test(t))return!0}}}return!1},s.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;g.lastIndex=this.pos;var t=g.exec(this.input),t=this.pos+t[0].length;return!(u.test(this.input.slice(this.pos,t))||"function"!==this.input.slice(t,t+8)||t+8!==this.input.length&&h(this.input.charAt(t+8)))},s.parseStatement=function(t,e,i){var n,r,s=this.type,a=this.startNode();switch(this.isLet(t)&&(s=m._var,n="let"),s){case m._break:case m._continue:return this.parseBreakContinueStatement(a,s.keyword);case m._debugger:return this.parseDebuggerStatement(a);case m._do:return this.parseDoStatement(a);case m._for:return this.parseForStatement(a);case m._function:return t&&(this.strict||"if"!==t&&"label"!==t)&&6<=this.options.ecmaVersion&&this.unexpected(),this.parseFunctionStatement(a,!1,!t);case m._class:return t&&this.unexpected(),this.parseClass(a,!0);case m._if:return this.parseIfStatement(a);case m._return:return this.parseReturnStatement(a);case m._switch:return this.parseSwitchStatement(a);case m._throw:return this.parseThrowStatement(a);case m._try:return this.parseTryStatement(a);case m._const:case m._var:return n=n||this.value,t&&"var"!==n&&this.unexpected(),this.parseVarStatement(a,n);case m._while:return this.parseWhileStatement(a);case m._with:return this.parseWithStatement(a);case m.braceL:return this.parseBlock(!0,a);case m.semi:return this.parseEmptyStatement(a);case m._export:case m._import:if(10<this.options.ecmaVersion&&s===m._import){g.lastIndex=this.pos;var o=g.exec(this.input),o=this.pos+o[0].length,o=this.input.charCodeAt(o);if(40===o||46===o)return this.parseExpressionStatement(a,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule)||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'"),s===m._import?this.parseImport(a):this.parseExport(a,i);default:return this.isAsyncFunction()?(t&&this.unexpected(),this.next(),this.parseFunctionStatement(a,!0,!t)):(o=this.value,r=this.parseExpression(),s===m.name&&"Identifier"===r.type&&this.eat(m.colon)?this.parseLabeledStatement(a,o,r,t):this.parseExpressionStatement(a,r))}},s.parseBreakContinueStatement=function(t,e){for(var i="break"===e,n=(this.next(),this.eat(m.semi)||this.insertSemicolon()?t.label=null:this.type!==m.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon()),0);n<this.labels.length;++n){var r=this.labels[n];if(null==t.label||r.name===t.label.name){if(null!=r.kind&&(i||"loop"===r.kind))break;if(t.label&&i)break}}return n===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")},s.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")},s.parseDoStatement=function(t){return this.next(),this.labels.push(A),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(m._while),t.test=this.parseParenExpression(),6<=this.options.ecmaVersion?this.eat(m.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")},s.parseForStatement=function(t){this.next();var e,i,n=9<=this.options.ecmaVersion&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;return this.labels.push(A),this.enterScope(0),this.expect(m.parenL),this.type===m.semi?(-1<n&&this.unexpected(n),this.parseFor(t,null)):(e=this.isLet(),this.type===m._var||this.type===m._const||e?(i=this.startNode(),e=e?"let":this.value,this.next(),this.parseVar(i,!0,e),this.finishNode(i,"VariableDeclaration"),(this.type===m._in||6<=this.options.ecmaVersion&&this.isContextual("of"))&&1===i.declarations.length?(9<=this.options.ecmaVersion&&(this.type===m._in?-1<n&&this.unexpected(n):t.await=-1<n),this.parseForIn(t,i)):(-1<n&&this.unexpected(n),this.parseFor(t,i))):(e=new k,i=this.parseExpression(!0,e),this.type===m._in||6<=this.options.ecmaVersion&&this.isContextual("of")?(9<=this.options.ecmaVersion&&(this.type===m._in?-1<n&&this.unexpected(n):t.await=-1<n),this.toAssignable(i,!1,e),this.checkLVal(i),this.parseForIn(t,i)):(this.checkExpressionErrors(e,!0),-1<n&&this.unexpected(n),this.parseFor(t,i))))},s.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,T|(i?0:I),!1,e)},s.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(m._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")},s.parseReturnStatement=function(t){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(m.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")},s.parseSwitchStatement=function(t){var e;this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(m.braceL),this.labels.push(Z),this.enterScope(0);for(var i,n=!1;this.type!==m.braceR;)this.type===m._case||this.type===m._default?(i=this.type===m._case,e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),i?e.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,e.test=null),this.expect(m.colon)):(e||this.unexpected(),e.consequent.push(this.parseStatement(null)));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")},s.parseThrowStatement=function(t){return this.next(),u.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")},[]),T=(s.parseTryStatement=function(t){var e,i;return this.next(),t.block=this.parseBlock(),t.handler=null,this.type===m._catch&&(e=this.startNode(),this.next(),this.eat(m.parenL)?(e.param=this.parseBindingAtom(),i="Identifier"===e.param.type,this.enterScope(i?32:0),this.checkLVal(e.param,i?4:2),this.expect(m.parenR)):(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")),t.finalizer=this.eat(m._finally)?this.parseBlock():null,t.handler||t.finalizer||this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")},s.parseVarStatement=function(t,e){return this.next(),this.parseVar(t,!1,e),this.semicolon(),this.finishNode(t,"VariableDeclaration")},s.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(A),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")},s.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")},s.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")},s.parseLabeledStatement=function(t,e,i,n){for(var r=0,s=this.labels;r<s.length;r+=1)s[r].name===e&&this.raise(i.start,"Label '"+e+"' is already declared");for(var a=this.type.isLoop?"loop":this.type===m._switch?"switch":null,o=this.labels.length-1;0<=o;o--){var h=this.labels[o];if(h.statementStart!==t.start)break;h.statementStart=this.start,h.kind=a}return this.labels.push({name:e,kind:a,statementStart:this.start}),t.body=this.parseStatement(n?-1===n.indexOf("label")?n+"label":n:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")},s.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")},s.parseBlock=function(t,e,i){for(void 0===t&&(t=!0),(e=void 0===e?this.startNode():e).body=[],this.expect(m.braceL),t&&this.enterScope(0);this.type!==m.braceR;){var n=this.parseStatement(null);e.body.push(n)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")},s.parseFor=function(t,e){return t.init=e,this.expect(m.semi),t.test=this.type===m.semi?null:this.parseExpression(),this.expect(m.semi),t.update=this.type===m.parenR?null:this.parseExpression(),this.expect(m.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")},s.parseForIn=function(t,e){var i=this.type===m._in;return this.next(),"VariableDeclaration"===e.type&&null!=e.declarations[0].init&&(!i||this.options.ecmaVersion<8||this.strict||"var"!==e.kind||"Identifier"!==e.declarations[0].id.type)?this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"):"AssignmentPattern"===e.type&&this.raise(e.start,"Invalid left-hand side in for-loop"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(m.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")},s.parseVar=function(t,e,i){for(t.declarations=[],t.kind=i;;){var n=this.startNode();if(this.parseVarId(n,i),this.eat(m.eq)?n.init=this.parseMaybeAssign(e):"const"!==i||this.type===m._in||6<=this.options.ecmaVersion&&this.isContextual("of")?"Identifier"===n.id.type||e&&(this.type===m._in||this.isContextual("of"))?n.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),t.declarations.push(this.finishNode(n,"VariableDeclarator")),!this.eat(m.comma))break}return t},s.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLVal(t.id,"var"===e?1:2,!1)},1),I=2,e=(s.parseFunction=function(t,e,i,n){this.initFunction(t),(9<=this.options.ecmaVersion||6<=this.options.ecmaVersion&&!n)&&(this.type===m.star&&e&I&&this.unexpected(),t.generator=this.eat(m.star)),8<=this.options.ecmaVersion&&(t.async=!!n),e&T&&(t.id=4&e&&this.type!==m.name?null:this.parseIdent(),!t.id||e&I||this.checkLVal(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?1:2:3));var n=this.yieldPos,r=this.awaitPos,s=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(S(t.async,t.generator)),e&T||(t.id=this.type===m.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1),this.yieldPos=n,this.awaitPos=r,this.awaitIdentPos=s,this.finishNode(t,e&T?"FunctionDeclaration":"FunctionExpression")},s.parseFunctionParams=function(t){this.expect(m.parenL),t.params=this.parseBindingList(m.parenR,!1,8<=this.options.ecmaVersion),this.checkYieldAwaitInDefaultParams()},s.parseClass=function(t,e){this.next();var i=this.strict,n=(this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t),this.startNode()),r=!1;for(n.body=[],this.expect(m.braceL);this.type!==m.braceR;){var s=this.parseClassElement(null!==t.superClass);s&&(n.body.push(s),"MethodDefinition"===s.type)&&"constructor"===s.kind&&(r&&this.raise(s.start,"Duplicate constructor in the same class"),r=!0)}return this.strict=i,this.next(),t.body=this.finishNode(n,"ClassBody"),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")},s.parseClassElement=function(t){var r,e,i,n,s,a=this;return this.eat(m.semi)?null:(n=function(t,e){void 0===e&&(e=!1);var i=a.start,n=a.startLoc;if(a.eatContextual(t)){if(!(a.type===m.parenL||e&&a.canInsertSemicolon()))return!0;r.key&&a.unexpected(),r.computed=!1,r.key=a.startNodeAt(i,n),r.key.name=t,a.finishNode(r.key,"Identifier")}return!1},(r=this.startNode()).kind="method",r.static=n("static"),i=!1,(e=this.eat(m.star))||(8<=this.options.ecmaVersion&&n("async",!0)?(i=!0,e=9<=this.options.ecmaVersion&&this.eat(m.star)):n("get")?r.kind="get":n("set")&&(r.kind="set")),r.key||this.parsePropertyName(r),n=r.key,s=!1,r.computed||r.static||!("Identifier"===n.type&&"constructor"===n.name||"Literal"===n.type&&"constructor"===n.value)?r.static&&"Identifier"===n.type&&"prototype"===n.name&&this.raise(n.start,"Classes may not have a static property named prototype"):("method"!==r.kind&&this.raise(n.start,"Constructor can't have get/set modifier"),e&&this.raise(n.start,"Constructor can't be a generator"),i&&this.raise(n.start,"Constructor can't be an async method"),r.kind="constructor",s=t),this.parseClassMethod(r,e,i,s),"get"===r.kind&&0!==r.value.params.length&&this.raiseRecoverable(r.value.start,"getter should have no params"),"set"===r.kind&&1!==r.value.params.length&&this.raiseRecoverable(r.value.start,"setter should have exactly one param"),"set"===r.kind&&"RestElement"===r.value.params[0].type&&this.raiseRecoverable(r.value.params[0].start,"Setter cannot use rest params"),r)},s.parseClassMethod=function(t,e,i,n){return t.value=this.parseMethod(e,i,n),this.finishNode(t,"MethodDefinition")},s.parseClassId=function(t,e){this.type===m.name?(t.id=this.parseIdent(),e&&this.checkLVal(t.id,2,!1)):(!0===e&&this.unexpected(),t.id=null)},s.parseClassSuper=function(t){t.superClass=this.eat(m._extends)?this.parseExprSubscripts():null},s.parseExport=function(t,e){if(this.next(),this.eat(m.star))return 11<=this.options.ecmaVersion&&(this.eatContextual("as")?(t.exported=this.parseIdent(!0),this.checkExport(e,t.exported.name,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==m.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration");var i,n;if(this.eat(m._default))return this.checkExport(e,"default",this.lastTokStart),this.type===m._function||(i=this.isAsyncFunction())?(n=this.startNode(),this.next(),i&&this.next(),t.declaration=this.parseFunction(n,4|T,!1,i)):this.type===m._class?(n=this.startNode(),t.declaration=this.parseClass(n,"nullableID")):(t.declaration=this.parseMaybeAssign(),this.semicolon()),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseStatement(null),"VariableDeclaration"===t.declaration.type?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id.name,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==m.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var r=0,s=t.specifiers;r<s.length;r+=1){var a=s[r];this.checkUnreserved(a.local),this.checkLocalExport(a.local)}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")},s.checkExport=function(t,e,i){t&&(_(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)},s.checkPatternExport=function(t,e){var i=e.type;if("Identifier"===i)this.checkExport(t,e.name,e.start);else if("ObjectPattern"===i)for(var n=0,r=e.properties;n<r.length;n+=1){var s=r[n];this.checkPatternExport(t,s)}else if("ArrayPattern"===i)for(var a=0,o=e.elements;a<o.length;a+=1){var h=o[a];h&&this.checkPatternExport(t,h)}else"Property"===i?this.checkPatternExport(t,e.value):"AssignmentPattern"===i?this.checkPatternExport(t,e.left):"RestElement"===i?this.checkPatternExport(t,e.argument):"ParenthesizedExpression"===i&&this.checkPatternExport(t,e.expression)},s.checkVariableExport=function(t,e){if(t)for(var i=0,n=e;i<n.length;i+=1){var r=n[i];this.checkPatternExport(t,r.id)}},s.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},s.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(m.braceL);!this.eat(m.braceR);){if(i)i=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;var n=this.startNode();n.local=this.parseIdent(!0),n.exported=this.eatContextual("as")?this.parseIdent(!0):n.local,this.checkExport(t,n.exported.name,n.exported.start),e.push(this.finishNode(n,"ExportSpecifier"))}return e},s.parseImport=function(t){return this.next(),this.type===m.string?(t.specifiers=X,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===m.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")},s.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===m.name){var i=this.startNode();if(i.local=this.parseIdent(),this.checkLVal(i.local,2),t.push(this.finishNode(i,"ImportDefaultSpecifier")),!this.eat(m.comma))return t}if(this.type===m.star)i=this.startNode(),this.next(),this.expectContextual("as"),i.local=this.parseIdent(),this.checkLVal(i.local,2),t.push(this.finishNode(i,"ImportNamespaceSpecifier"));else for(this.expect(m.braceL);!this.eat(m.braceR);){if(e)e=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;var n=this.startNode();n.imported=this.parseIdent(!0),this.eatContextual("as")?n.local=this.parseIdent():(this.checkUnreserved(n.imported),n.local=n.imported),this.checkLVal(n.local,2),t.push(this.finishNode(n,"ImportSpecifier"))}return t},s.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)},s.isDirectiveCandidate=function(t){return"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"string"==typeof t.expression.value&&('"'===this.input[t.start]||"'"===this.input[t.start])},C.prototype),s=(e.toAssignable=function(t,e,i){if(6<=this.options.ecmaVersion&&t)switch(t.type){case"Identifier":this.inAsync&&"await"===t.name&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var n=0,r=t.properties;n<r.length;n+=1){var s=r[n];this.toAssignable(s,e),"RestElement"!==s.type||"ArrayPattern"!==s.argument.type&&"ObjectPattern"!==s.argument.type||this.raise(s.argument.start,"Unexpected token")}break;case"Property":"init"!==t.kind&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),"AssignmentPattern"===t.argument.type&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==t.operator&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t},e.toAssignableList=function(t,e){for(var i,n=t.length,r=0;r<n;r++){var s=t[r];s&&this.toAssignable(s,e)}return n&&(i=t[n-1],6===this.options.ecmaVersion)&&e&&i&&"RestElement"===i.type&&"Identifier"!==i.argument.type&&this.unexpected(i.argument.start),t},e.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")},e.parseRestBinding=function(){var t=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==m.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")},e.parseBindingAtom=function(){if(6<=this.options.ecmaVersion)switch(this.type){case m.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(m.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case m.braceL:return this.parseObj(!0)}return this.parseIdent()},e.parseBindingList=function(t,e,i){for(var n=[],r=!0;!this.eat(t);)if(r?r=!1:this.expect(m.comma),e&&this.type===m.comma)n.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===m.ellipsis){var s=this.parseRestBinding();this.parseBindingListItem(s),n.push(s),this.type===m.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}s=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(s),n.push(s)}return n},e.parseBindingListItem=function(t){return t},e.parseMaybeDefault=function(t,e,i){return i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(m.eq)?i:((t=this.startNodeAt(t,e)).left=i,t.right=this.parseMaybeAssign(),this.finishNode(t,"AssignmentPattern"))},e.checkLVal=function(t,e,i){switch(void 0===e&&(e=0),t.type){case"Identifier":2===e&&"let"===t.name&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(e?"Binding ":"Assigning to ")+t.name+" in strict mode"),i&&(_(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),0!==e&&5!==e&&this.declareName(t.name,e,t.start);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":e&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ObjectPattern":for(var n=0,r=t.properties;n<r.length;n+=1){var s=r[n];this.checkLVal(s,e,i)}break;case"Property":this.checkLVal(t.value,e,i);break;case"ArrayPattern":for(var a=0,o=t.elements;a<o.length;a+=1){var h=o[a];h&&this.checkLVal(h,e,i)}break;case"AssignmentPattern":this.checkLVal(t.left,e,i);break;case"RestElement":this.checkLVal(t.argument,e,i);break;case"ParenthesizedExpression":this.checkLVal(t.expression,e,i);break;default:this.raise(t.start,(e?"Binding":"Assigning to")+" rvalue")}},C.prototype),Y=(s.checkPropClash=function(t,e,i){if(!(9<=this.options.ecmaVersion&&"SpreadElement"===t.type||6<=this.options.ecmaVersion&&(t.computed||t.method||t.shorthand))){var n=t.key;switch(n.type){case"Identifier":r=n.name;break;case"Literal":r=String(n.value);break;default:return}var r,t=t.kind;6<=this.options.ecmaVersion?"__proto__"===r&&"init"===t&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=n.start):this.raiseRecoverable(n.start,"Redefinition of __proto__ property")),e.proto=!0):((i=e[r="$"+r])?("init"===t?this.strict&&i.init||i.get||i.set:i.init||i[t])&&this.raiseRecoverable(n.start,"Redefinition of property"):i=e[r]={init:!1,get:!1,set:!1},i[t]=!0)}},s.parseExpression=function(t,e){var i=this.start,n=this.startLoc,r=this.parseMaybeAssign(t,e);if(this.type!==m.comma)return r;var s=this.startNodeAt(i,n);for(s.expressions=[r];this.eat(m.comma);)s.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(s,"SequenceExpression")},s.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var n=!1,r=-1,s=-1,a=(e?(r=e.parenthesizedAssign,s=e.trailingComma,e.parenthesizedAssign=e.trailingComma=-1):(e=new k,n=!0),this.start),o=this.startLoc,h=(this.type!==m.parenL&&this.type!==m.name||(this.potentialArrowAt=this.start),this.parseMaybeConditional(t,e));return i&&(h=i.call(this,h,a,o)),this.type.isAssign?((i=this.startNodeAt(a,o)).operator=this.value,i.left=this.type===m.eq?this.toAssignable(h,!1,e):h,n||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=i.left.start&&(e.shorthandAssign=-1),this.checkLVal(h),this.next(),i.right=this.parseMaybeAssign(t),this.finishNode(i,"AssignmentExpression")):(n&&this.checkExpressionErrors(e,!0),-1<r&&(e.parenthesizedAssign=r),-1<s&&(e.trailingComma=s),h)},s.parseMaybeConditional=function(t,e){var i=this.start,n=this.startLoc,r=this.parseExprOps(t,e);return!this.checkExpressionErrors(e)&&this.eat(m.question)?((e=this.startNodeAt(i,n)).test=r,e.consequent=this.parseMaybeAssign(),this.expect(m.colon),e.alternate=this.parseMaybeAssign(t),this.finishNode(e,"ConditionalExpression")):r},s.parseExprOps=function(t,e){var i=this.start,n=this.startLoc,r=this.parseMaybeUnary(e,!1);return this.checkExpressionErrors(e)||r.start===i&&"ArrowFunctionExpression"===r.type?r:this.parseExprOp(r,i,n,-1,t)},s.parseExprOp=function(t,e,i,n,r){var s,a,o,h,l,c=this.type.binop;if(null!=c&&(!r||this.type!==m._in)&&n<c)return s=this.type===m.logicalOR||this.type===m.logicalAND,(a=this.type===m.coalesce)&&(c=m.logicalAND.binop),o=this.value,this.next(),h=this.start,l=this.startLoc,h=this.parseExprOp(this.parseMaybeUnary(null,!1),h,l,c,r),l=this.buildBinary(e,i,t,h,o,s||a),(s&&this.type===m.coalesce||a&&(this.type===m.logicalOR||this.type===m.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(l,e,i,n,r);return t},s.buildBinary=function(t,e,i,n,r,s){t=this.startNodeAt(t,e);return t.left=i,t.operator=r,t.right=n,this.finishNode(t,s?"LogicalExpression":"BinaryExpression")},s.parseMaybeUnary=function(t,e){var i,n=this.start,r=this.startLoc;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))i=this.parseAwait(),e=!0;else if(this.type.prefix){var s=this.startNode(),a=this.type===m.incDec;s.operator=this.value,s.prefix=!0,this.next(),s.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(t,!0),a?this.checkLVal(s.argument):this.strict&&"delete"===s.operator&&"Identifier"===s.argument.type?this.raiseRecoverable(s.start,"Deleting local variable in strict mode"):e=!0,i=this.finishNode(s,a?"UpdateExpression":"UnaryExpression")}else{if(i=this.parseExprSubscripts(t),this.checkExpressionErrors(t))return i;for(;this.type.postfix&&!this.canInsertSemicolon();){var o=this.startNodeAt(n,r);o.operator=this.value,o.prefix=!1,o.argument=i,this.checkLVal(i),this.next(),i=this.finishNode(o,"UpdateExpression")}}return!e&&this.eat(m.starstar)?this.buildBinary(n,r,i,this.parseMaybeUnary(null,!1),"**",!1):i},s.parseExprSubscripts=function(t){var e=this.start,i=this.startLoc,n=this.parseExprAtom(t);return"ArrowFunctionExpression"===n.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd)||(n=this.parseSubscripts(n,e,i),t&&"MemberExpression"===n.type&&(t.parenthesizedAssign>=n.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=n.start)&&(t.parenthesizedBind=-1)),n},s.parseSubscripts=function(t,e,i,n){for(var r=8<=this.options.ecmaVersion&&"Identifier"===t.type&&"async"===t.name&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start==5&&this.potentialArrowAt===t.start,s=!1;;){var a,o=this.parseSubscript(t,e,i,n,r,s);if(o.optional&&(s=!0),o===t||"ArrowFunctionExpression"===o.type)return s&&((a=this.startNodeAt(e,i)).expression=o,o=this.finishNode(a,"ChainExpression")),o;t=o}},s.parseSubscript=function(t,e,i,n,r,s){var a=11<=this.options.ecmaVersion,o=a&&this.eat(m.questionDot),h=(n&&o&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions"),this.eat(m.bracketL));if(h||o&&this.type!==m.parenL&&this.type!==m.backQuote||this.eat(m.dot)){var l=this.startNodeAt(e,i);l.object=t,l.property=h?this.parseExpression():this.parseIdent("never"!==this.options.allowReserved),l.computed=!!h,h&&this.expect(m.bracketR),a&&(l.optional=o),t=this.finishNode(l,"MemberExpression")}else if(!n&&this.eat(m.parenL)){var h=new k,l=this.yieldPos,n=this.awaitPos,c=this.awaitIdentPos,u=(this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.parseExprList(m.parenR,8<=this.options.ecmaVersion,!1,h));if(r&&!o&&!this.canInsertSemicolon()&&this.eat(m.arrow))return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),0<this.awaitIdentPos&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=l,this.awaitPos=n,this.awaitIdentPos=c,this.parseArrowExpression(this.startNodeAt(e,i),u,!0);this.checkExpressionErrors(h,!0),this.yieldPos=l||this.yieldPos,this.awaitPos=n||this.awaitPos,this.awaitIdentPos=c||this.awaitIdentPos;r=this.startNodeAt(e,i);r.callee=t,r.arguments=u,a&&(r.optional=o),t=this.finishNode(r,"CallExpression")}else this.type===m.backQuote&&((o||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions"),(h=this.startNodeAt(e,i)).tag=t,h.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(h,"TaggedTemplateExpression"));return t},s.parseExprAtom=function(t){this.type===m.slash&&this.readRegexp();var e=this.potentialArrowAt===this.start;switch(this.type){case m._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),a=this.startNode(),this.next(),this.type!==m.parenL||this.allowDirectSuper||this.raise(a.start,"super() call outside constructor of a subclass"),this.type!==m.dot&&this.type!==m.bracketL&&this.type!==m.parenL&&this.unexpected(),this.finishNode(a,"Super");case m._this:return a=this.startNode(),this.next(),this.finishNode(a,"ThisExpression");case m.name:var i=this.start,n=this.startLoc,r=this.containsEsc,s=this.parseIdent(!1);if(8<=this.options.ecmaVersion&&!r&&"async"===s.name&&!this.canInsertSemicolon()&&this.eat(m._function))return this.parseFunction(this.startNodeAt(i,n),0,!1,!0);if(e&&!this.canInsertSemicolon()){if(this.eat(m.arrow))return this.parseArrowExpression(this.startNodeAt(i,n),[s],!1);if(8<=this.options.ecmaVersion&&"async"===s.name&&this.type===m.name&&!r)return s=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(m.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(i,n),[s],!0)}return s;case m.regexp:var a,r=this.value;return(a=this.parseLiteral(r.value)).regex={pattern:r.pattern,flags:r.flags},a;case m.num:case m.string:return this.parseLiteral(this.value);case m._null:case m._true:case m._false:return(a=this.startNode()).value=this.type===m._null?null:this.type===m._true,a.raw=this.type.keyword,this.next(),this.finishNode(a,"Literal");case m.parenL:i=this.start,n=this.parseParenAndDistinguishExpression(e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(n)&&(t.parenthesizedAssign=i),t.parenthesizedBind<0)&&(t.parenthesizedBind=i),n;case m.bracketL:return a=this.startNode(),this.next(),a.elements=this.parseExprList(m.bracketR,!0,!0,t),this.finishNode(a,"ArrayExpression");case m.braceL:return this.parseObj(!1,t);case m._function:return a=this.startNode(),this.next(),this.parseFunction(a,0);case m._class:return this.parseClass(this.startNode(),!1);case m._new:return this.parseNew();case m.backQuote:return this.parseTemplate();case m._import:return 11<=this.options.ecmaVersion?this.parseExprImport():this.unexpected();default:this.unexpected()}},s.parseExprImport=function(){var t=this.startNode(),e=(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.parseIdent(!0));switch(this.type){case m.parenL:return this.parseDynamicImport(t);case m.dot:return t.meta=e,this.parseImportMeta(t);default:this.unexpected()}},s.parseDynamicImport=function(t){var e;return this.next(),t.source=this.parseMaybeAssign(),this.eat(m.parenR)||(e=this.start,this.eat(m.comma)&&this.eat(m.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)),this.finishNode(t,"ImportExpression")},s.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),"meta"!==t.property.name&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),"module"!==this.options.sourceType&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")},s.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),110===e.raw.charCodeAt(e.raw.length-1)&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")},s.parseParenExpression=function(){this.expect(m.parenL);var t=this.parseExpression();return this.expect(m.parenR),t},s.parseParenAndDistinguishExpression=function(t){var e,i=this.start,n=this.startLoc,r=8<=this.options.ecmaVersion;if(6<=this.options.ecmaVersion){this.next();var s,a=this.start,o=this.startLoc,h=[],l=!0,c=!1,u=new k,p=this.yieldPos,d=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==m.parenR;){if(l?l=!1:this.expect(m.comma),r&&this.afterTrailingComma(m.parenR,!0)){c=!0;break}if(this.type===m.ellipsis){s=this.start,h.push(this.parseParenItem(this.parseRestBinding())),this.type===m.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}h.push(this.parseMaybeAssign(!1,u,this.parseParenItem))}var f=this.start,g=this.startLoc;if(this.expect(m.parenR),t&&!this.canInsertSemicolon()&&this.eat(m.arrow))return this.checkPatternErrors(u,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=p,this.awaitPos=d,this.parseParenArrowList(i,n,h);h.length&&!c||this.unexpected(this.lastTokStart),s&&this.unexpected(s),this.checkExpressionErrors(u,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=d||this.awaitPos,1<h.length?((e=this.startNodeAt(a,o)).expressions=h,this.finishNodeAt(e,"SequenceExpression",f,g)):e=h[0]}else e=this.parseParenExpression();return this.options.preserveParens?((t=this.startNodeAt(i,n)).expression=e,this.finishNode(t,"ParenthesizedExpression")):e},s.parseParenItem=function(t){return t},s.parseParenArrowList=function(t,e,i){return this.parseArrowExpression(this.startNodeAt(t,e),i)},[]),e=(s.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t,e,i=this.startNode(),n=this.parseIdent(!0);return 6<=this.options.ecmaVersion&&this.eat(m.dot)?(i.meta=n,n=this.containsEsc,i.property=this.parseIdent(!0),"target"!==i.property.name&&this.raiseRecoverable(i.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(i.start,"'new.target' must not contain escaped characters"),this.inNonArrowFunction()||this.raiseRecoverable(i.start,"'new.target' can only be used in functions"),this.finishNode(i,"MetaProperty")):(n=this.start,t=this.startLoc,e=this.type===m._import,i.callee=this.parseSubscripts(this.parseExprAtom(),n,t,!0),e&&"ImportExpression"===i.callee.type&&this.raise(n,"Cannot use new with import()"),this.eat(m.parenL)?i.arguments=this.parseExprList(m.parenR,8<=this.options.ecmaVersion,!1):i.arguments=Y,this.finishNode(i,"NewExpression"))},s.parseTemplateElement=function(t){var t=t.isTagged,e=this.startNode();return this.type===m.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),e.value={raw:this.value,cooked:null}):e.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),e.tail=this.type===m.backQuote,this.finishNode(e,"TemplateElement")},s.parseTemplate=function(t){var e=(t=void 0===t?{}:t).isTagged,i=(void 0===e&&(e=!1),this.startNode()),n=(this.next(),i.expressions=[],this.parseTemplateElement({isTagged:e}));for(i.quasis=[n];!n.tail;)this.type===m.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(m.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(m.braceR),i.quasis.push(n=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")},s.isAsyncProp=function(t){return!t.computed&&"Identifier"===t.key.type&&"async"===t.key.name&&(this.type===m.name||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword||9<=this.options.ecmaVersion&&this.type===m.star)&&!u.test(this.input.slice(this.lastTokEnd,this.start))},s.parseObj=function(t,e){var i=this.startNode(),n=!0,r={};for(i.properties=[],this.next();!this.eat(m.braceR);){if(n)n=!1;else if(this.expect(m.comma),5<=this.options.ecmaVersion&&this.afterTrailingComma(m.braceR))break;var s=this.parseProperty(t,e);t||this.checkPropClash(s,r,e),i.properties.push(s)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")},s.parseProperty=function(t,e){var i,n,r,s,a=this.startNode();if(9<=this.options.ecmaVersion&&this.eat(m.ellipsis))return t?(a.argument=this.parseIdent(!1),this.type===m.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(a,"RestElement")):(this.type===m.parenL&&e&&(e.parenthesizedAssign<0&&(e.parenthesizedAssign=this.start),e.parenthesizedBind<0)&&(e.parenthesizedBind=this.start),a.argument=this.parseMaybeAssign(!1,e),this.type===m.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(a,"SpreadElement"));6<=this.options.ecmaVersion&&(a.method=!1,a.shorthand=!1,(t||e)&&(r=this.start,s=this.startLoc),t||(i=this.eat(m.star)));var o=this.containsEsc;return this.parsePropertyName(a),!t&&!o&&8<=this.options.ecmaVersion&&!i&&this.isAsyncProp(a)?(n=!0,i=9<=this.options.ecmaVersion&&this.eat(m.star),this.parsePropertyName(a,e)):n=!1,this.parsePropertyValue(a,t,i,n,r,s,e,o),this.finishNode(a,"Property")},s.parsePropertyValue=function(t,e,i,n,r,s,a,o){(i||n)&&this.type===m.colon&&this.unexpected(),this.eat(m.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),t.kind="init"):6<=this.options.ecmaVersion&&this.type===m.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,n)):e||o||!(5<=this.options.ecmaVersion)||t.computed||"Identifier"!==t.key.type||"get"!==t.key.name&&"set"!==t.key.name||this.type===m.comma||this.type===m.braceR||this.type===m.eq?6<=this.options.ecmaVersion&&!t.computed&&"Identifier"===t.key.type?((i||n)&&this.unexpected(),this.checkUnreserved(t.key),"await"!==t.key.name||this.awaitIdentPos||(this.awaitIdentPos=r),t.kind="init",e?t.value=this.parseMaybeDefault(r,s,t.key):this.type===m.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),t.value=this.parseMaybeDefault(r,s,t.key)):t.value=t.key,t.shorthand=!0):this.unexpected():((i||n)&&this.unexpected(),t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1),o="get"===t.kind?0:1,t.value.params.length!==o?(e=t.value.start,"get"===t.kind?this.raiseRecoverable(e,"getter should have no params"):this.raiseRecoverable(e,"setter should have exactly one param")):"set"===t.kind&&"RestElement"===t.value.params[0].type&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params"))},s.parsePropertyName=function(t){if(6<=this.options.ecmaVersion){if(this.eat(m.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(m.bracketR),t.key;t.computed=!1}return t.key=this.type===m.num||this.type===m.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},s.initFunction=function(t){t.id=null,6<=this.options.ecmaVersion&&(t.generator=t.expression=!1),8<=this.options.ecmaVersion&&(t.async=!1)},s.parseMethod=function(t,e,i){var n=this.startNode(),r=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(n),6<=this.options.ecmaVersion&&(n.generator=t),8<=this.options.ecmaVersion&&(n.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|S(e,n.generator)|(i?128:0)),this.expect(m.parenL),n.params=this.parseBindingList(m.parenR,!1,8<=this.options.ecmaVersion),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1,!0),this.yieldPos=r,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(n,"FunctionExpression")},s.parseArrowExpression=function(t,e,i){var n=this.yieldPos,r=this.awaitPos,s=this.awaitIdentPos;return this.enterScope(16|S(i,!1)),this.initFunction(t),8<=this.options.ecmaVersion&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1),this.yieldPos=n,this.awaitPos=r,this.awaitIdentPos=s,this.finishNode(t,"ArrowFunctionExpression")},s.parseFunctionBody=function(t,e,i){var n=e&&this.type!==m.braceL,r=this.strict,s=!1;n?(t.body=this.parseMaybeAssign(),t.expression=!0,this.checkParams(t,!1)):(n=7<=this.options.ecmaVersion&&!this.isSimpleParamList(t.params),r&&!n||(s=this.strictDirective(this.end))&&n&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"),n=this.labels,this.labels=[],s&&(this.strict=!0),this.checkParams(t,!r&&!s&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLVal(t.id,5),t.body=this.parseBlock(!1,void 0,s&&!r),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=n),this.exitScope()},s.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1)if("Identifier"!==i[e].type)return!1;return!0},s.checkParams=function(t,e){for(var i={},n=0,r=t.params;n<r.length;n+=1){var s=r[n];this.checkLVal(s,1,e?null:i)}},s.parseExprList=function(t,e,i,n){for(var r=[],s=!0;!this.eat(t);){if(s)s=!1;else if(this.expect(m.comma),e&&this.afterTrailingComma(t))break;var a=void 0;i&&this.type===m.comma?a=null:this.type===m.ellipsis?(a=this.parseSpread(n),n&&this.type===m.comma&&n.trailingComma<0&&(n.trailingComma=this.start)):a=this.parseMaybeAssign(!1,n),r.push(a)}return r},s.checkUnreserved=function(t){var e=t.start,i=t.end,t=t.name;this.inGenerator&&"yield"===t&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===t&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(t)&&this.raise(e,"Unexpected keyword '"+t+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(e,i).indexOf("\\")||(this.strict?this.reservedWordsStrict:this.reservedWords).test(t)&&(this.inAsync||"await"!==t||this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+t+"' is reserved"))},s.parseIdent=function(t,e){var i=this.startNode();return this.type===m.name?i.name=this.value:this.type.keyword?(i.name=this.type.keyword,"class"!==i.name&&"function"!==i.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(!!t),this.finishNode(i,"Identifier"),t||(this.checkUnreserved(i),"await"!==i.name)||this.awaitIdentPos||(this.awaitIdentPos=i.start),i},s.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===m.semi||this.canInsertSemicolon()||this.type!==m.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(m.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")},s.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!1),this.finishNode(t,"AwaitExpression")},C.prototype),s=(e.raise=function(t,e){var i=w(this.input,t),e=(e+=" ("+i.line+":"+i.column+")",new SyntaxError(e));throw e.pos=t,e.loc=i,e.raisedAt=this.pos,e},e.raiseRecoverable=e.raise,e.curPosition=function(){if(this.options.locations)return new y(this.curLine,this.pos-this.lineStart)},C.prototype),e=(s.enterScope=function(t){this.scopeStack.push(new K(t))},s.exitScope=function(){this.scopeStack.pop()},s.treatFunctionsAsVarInScope=function(t){return 2&t.flags||!this.inModule&&1&t.flags},s.declareName=function(t,e,i){var n=!1;if(2===e){var r=this.currentScope(),n=-1<r.lexical.indexOf(t)||-1<r.functions.indexOf(t)||-1<r.var.indexOf(t);r.lexical.push(t),this.inModule&&1&r.flags&&delete this.undefinedExports[t]}else if(4===e)this.currentScope().lexical.push(t);else if(3===e){r=this.currentScope();n=this.treatFunctionsAsVar?-1<r.lexical.indexOf(t):-1<r.lexical.indexOf(t)||-1<r.var.indexOf(t),r.functions.push(t)}else for(var s=this.scopeStack.length-1;0<=s;--s){var a=this.scopeStack[s];if(-1<a.lexical.indexOf(t)&&!(32&a.flags&&a.lexical[0]===t)||!this.treatFunctionsAsVarInScope(a)&&-1<a.functions.indexOf(t)){n=!0;break}if(a.var.push(t),this.inModule&&1&a.flags&&delete this.undefinedExports[t],3&a.flags)break}n&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")},s.checkLocalExport=function(t){-1===this.scopeStack[0].lexical.indexOf(t.name)&&-1===this.scopeStack[0].var.indexOf(t.name)&&(this.undefinedExports[t.name]=t)},s.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},s.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(3&e.flags)return e}},s.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(3&e.flags&&!(16&e.flags))return e}},C.prototype);function Q(t,e,i,n){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=n),this.options.ranges&&(t.range[1]=i),t}e.startNode=function(){return new E(this,this.start,this.startLoc)},e.startNodeAt=function(t,e){return new E(this,t,e)},e.finishNode=function(t,e){return Q.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};function P(t,e,i,n,r){this.token=t,this.isExpr=!!e,this.preserveSpace=!!i,this.override=n,this.generator=!!r}var L={b_stat:new P("{",!(e.finishNodeAt=function(t,e,i,n){return Q.call(this,t,e,i,n)})),b_expr:new P("{",!0),b_tmpl:new P("${",!1),p_stat:new P("(",!1),p_expr:new P("(",!0),q_tmpl:new P("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new P("function",!1),f_expr:new P("function",!0),f_expr_gen:new P("function",!0,!1,null,!0),f_gen:new P("function",!1,!1,null,!0)},s=C.prototype,e=(s.initialContext=function(){return[L.b_stat]},s.braceIsBlock=function(t){var e=this.curContext();return e===L.f_expr||e===L.f_stat||(t!==m.colon||e!==L.b_stat&&e!==L.b_expr?t===m._return||t===m.name&&this.exprAllowed?u.test(this.input.slice(this.lastTokEnd,this.start)):t===m._else||t===m.semi||t===m.eof||t===m.parenR||t===m.arrow||(t===m.braceL?e===L.b_stat:t!==m._var&&t!==m._const&&t!==m.name&&!this.exprAllowed):!e.isExpr)},s.inGeneratorContext=function(){for(var t=this.context.length-1;1<=t;t--){var e=this.context[t];if("function"===e.token)return e.generator}return!1},s.updateContext=function(t){var e,i=this.type;i.keyword&&t===m.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr},m.parenR.updateContext=m.braceR.updateContext=function(){var t;1===this.context.length?this.exprAllowed=!0:((t=this.context.pop())===L.b_stat&&"function"===this.curContext().token&&(t=this.context.pop()),this.exprAllowed=!t.isExpr)},m.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?L.b_stat:L.b_expr),this.exprAllowed=!0},m.dollarBraceL.updateContext=function(){this.context.push(L.b_tmpl),this.exprAllowed=!0},m.parenL.updateContext=function(t){t=t===m._if||t===m._for||t===m._with||t===m._while;this.context.push(t?L.p_stat:L.p_expr),this.exprAllowed=!0},m.incDec.updateContext=function(){},m._function.updateContext=m._class.updateContext=function(t){!t.beforeExpr||t===m.semi||t===m._else||t===m._return&&u.test(this.input.slice(this.lastTokEnd,this.start))||(t===m.colon||t===m.braceL)&&this.curContext()===L.b_stat?this.context.push(L.f_stat):this.context.push(L.f_expr),this.exprAllowed=!1},m.backQuote.updateContext=function(){this.curContext()===L.q_tmpl?this.context.pop():this.context.push(L.q_tmpl),this.exprAllowed=!1},m.star.updateContext=function(t){t===m._function&&(t=this.context.length-1,this.context[t]===L.f_expr?this.context[t]=L.f_expr_gen:this.context[t]=L.f_gen),this.exprAllowed=!0},m.name.updateContext=function(t){var e=!1;6<=this.options.ecmaVersion&&t!==m.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e},"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS"),s=e+" Extended_Pictographic",$={9:e,10:s,11:"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS Extended_Pictographic"},J="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",e="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",s=e+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",tt={9:e,10:s,11:"Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho"},et={};function it(t){t=et[t]={binary:v($[t]+" "+J),nonBinary:{General_Category:v(J),Script:v(tt[t])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}it(9),it(10),it(11);function O(t){this.parser=t,this.validFlags="gim"+(6<=t.options.ecmaVersion?"uy":"")+(9<=t.options.ecmaVersion?"s":""),this.unicodeProperties=et[11<=t.options.ecmaVersion?11:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]}e=C.prototype;function N(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function nt(t){return 36===t||40<=t&&t<=43||46===t||63===t||91<=t&&t<=94||123<=t&&t<=125}function rt(t){return 65<=t&&t<=90||97<=t&&t<=122}function st(t){return rt(t)||95===t}function M(t){return 48<=t&&t<=57}function at(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function ot(t){return 65<=t&&t<=70?t-65+10:97<=t&&t<=102?t-97+10:t-48}function ht(t){return 48<=t&&t<=55}O.prototype.reset=function(t,e,i){var n=-1!==i.indexOf("u");this.start=0|t,this.source=e+"",this.flags=i,this.switchU=n&&6<=this.parser.options.ecmaVersion,this.switchN=n&&9<=this.parser.options.ecmaVersion},O.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)},O.prototype.at=function(t,e){void 0===e&&(e=!1);var i,n=this.source,r=n.length;return r<=t?-1:(i=n.charCodeAt(t),!(!e&&!this.switchU||i<=55295||57344<=i||r<=t+1)&&56320<=(e=n.charCodeAt(t+1))&&e<=57343?(i<<10)+e-56613888:i)},O.prototype.nextIndex=function(t,e){void 0===e&&(e=!1);var i,n=this.source,r=n.length;return r<=t?r:(i=n.charCodeAt(t),!e&&!this.switchU||i<=55295||57344<=i||r<=t+1||(e=n.charCodeAt(t+1))<56320||57343<e?t+1:t+2)},O.prototype.current=function(t){return this.at(this.pos,t=void 0===t?!1:t)},O.prototype.lookahead=function(t){return this.at(this.nextIndex(this.pos,t=void 0===t?!1:t),t)},O.prototype.advance=function(t){this.pos=this.nextIndex(this.pos,t=void 0===t?!1:t)},O.prototype.eat=function(t,e){return this.current(e=void 0===e?!1:e)===t&&(this.advance(e),!0)},e.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,n=0;n<i.length;n++){var r=i.charAt(n);-1===e.indexOf(r)&&this.raise(t.start,"Invalid regular expression flag"),-1<i.indexOf(r,n+1)&&this.raise(t.start,"Duplicate regular expression flag")}},e.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&9<=this.options.ecmaVersion&&0<t.groupNames.length&&(t.switchN=!0,this.regexp_pattern(t))},e.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets"),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var n=i[e];-1===t.groupNames.indexOf(n)&&t.raise("Invalid named capture referenced")}},e.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")},e.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););},e.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):!(t.switchU?!this.regexp_eatAtom(t):!this.regexp_eatExtendedAtom(t))&&(this.regexp_eatQuantifier(t),!0)},e.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(9<=this.options.ecmaVersion&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1},e.regexp_eatQuantifier=function(t,e){return!!this.regexp_eatQuantifierPrefix(t,e=void 0===e?!1:e)&&(t.eat(63),!0)},e.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)},e.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var n,r=-1;if(this.regexp_eatDecimalDigits(t)&&(n=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue),t.eat(125)))return-1!==r&&r<n&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1},e.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)},e.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1},e.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1},e.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(9<=this.options.ecmaVersion?this.regexp_groupSpecifier(t):63===t.current()&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1},e.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)},e.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1},e.regexp_eatSyntaxCharacter=function(t){var e=t.current();return!!nt(e)&&(t.lastIntValue=e,t.advance(),!0)},e.regexp_eatPatternCharacters=function(t){for(var e,i=t.pos;-1!==(e=t.current())&&!nt(e);)t.advance();return t.pos!==i},e.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return!(-1===e||36===e||40<=e&&e<=43||46===e||63===e||91===e||94===e||124===e||(t.advance(),0))},e.regexp_groupSpecifier=function(t){t.eat(63)&&(this.regexp_eatGroupName(t)?(-1!==t.groupNames.indexOf(t.lastStringValue)&&t.raise("Duplicate capture group name"),t.groupNames.push(t.lastStringValue)):t.raise("Invalid group"))},e.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1},e.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=N(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=N(t.lastIntValue);return!0}return!1},e.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=11<=this.options.ecmaVersion,n=t.current(i);return t.advance(i),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(n=t.lastIntValue),o(i=n,!0)||36===i||95===i?(t.lastIntValue=n,!0):(t.pos=e,!1)},e.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=11<=this.options.ecmaVersion,n=t.current(i);return t.advance(i),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(n=t.lastIntValue),h(i=n,!0)||36===i||95===i||8204===i||8205===i?(t.lastIntValue=n,!0):(t.pos=e,!1)},e.regexp_eatAtomEscape=function(t){return!!(this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t))||(t.switchU&&(99===t.current()&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)},e.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1},e.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1},e.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)},e.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1},e.regexp_eatZero=function(t){return 48===t.current()&&!M(t.lookahead())&&(t.lastIntValue=0,t.advance(),!0)},e.regexp_eatControlEscape=function(t){var e=t.current();return 116===e?(t.lastIntValue=9,t.advance(),!0):110===e?(t.lastIntValue=10,t.advance(),!0):118===e?(t.lastIntValue=11,t.advance(),!0):102===e?(t.lastIntValue=12,t.advance(),!0):114===e&&(t.lastIntValue=13,t.advance(),!0)},e.regexp_eatControlLetter=function(t){var e=t.current();return!!rt(e)&&(t.lastIntValue=e%32,t.advance(),!0)},e.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){var i=t.pos,e=(e=void 0===e?!1:e)||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var n=t.lastIntValue;if(e&&55296<=n&&n<=56319){var r=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var s=t.lastIntValue;if(56320<=s&&s<=57343)return t.lastIntValue=1024*(n-55296)+(s-56320)+65536,!0}t.pos=r,t.lastIntValue=n}return!0}if(e&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&0<=(s=t.lastIntValue)&&s<=1114111)return!0;e&&t.raise("Invalid unicode escape"),t.pos=i}return!1},e.regexp_eatIdentityEscape=function(t){var e;return t.switchU?!!this.regexp_eatSyntaxCharacter(t)||!!t.eat(47)&&(t.lastIntValue=47,!0):!(99===(e=t.current())||t.switchN&&107===e||(t.lastIntValue=e,t.advance(),0))},e.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(49<=e&&e<=57){for(;t.lastIntValue=10*t.lastIntValue+(e-48),t.advance(),48<=(e=t.current())&&e<=57;);return!0}return!1},e.regexp_eatCharacterClassEscape=function(t){var e,i=t.current();if(100===(e=i)||68===e||115===e||83===e||119===e||87===e)return t.lastIntValue=-1,t.advance(),!0;if(t.switchU&&9<=this.options.ecmaVersion&&(80===i||112===i)){if(t.lastIntValue=-1,t.advance(),t.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(t)&&t.eat(125))return!0;t.raise("Invalid property name")}return!1},e.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i,n=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t))return i=t.lastStringValue,this.regexp_validateUnicodePropertyNameAndValue(t,n,i),!0}return t.pos=e,!!this.regexp_eatLoneUnicodePropertyNameOrValue(t)&&(n=t.lastStringValue,this.regexp_validateUnicodePropertyNameOrValue(t,n),!0)},e.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){_(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")},e.regexp_validateUnicodePropertyNameOrValue=function(t,e){t.unicodeProperties.binary.test(e)||t.raise("Invalid property name")},e.regexp_eatUnicodePropertyName=function(t){var e;for(t.lastStringValue="";st(e=t.current());)t.lastStringValue+=N(e),t.advance();return""!==t.lastStringValue},e.regexp_eatUnicodePropertyValue=function(t){var e,i;for(t.lastStringValue="";st(i=e=t.current())||M(i);)t.lastStringValue+=N(e),t.advance();return""!==t.lastStringValue},e.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)},e.regexp_eatCharacterClass=function(t){if(t.eat(91)){if(t.eat(94),this.regexp_classRanges(t),t.eat(93))return!0;t.raise("Unterminated character class")}return!1},e.regexp_classRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e,i=t.lastIntValue;t.eat(45)&&this.regexp_eatClassAtom(t)&&(e=t.lastIntValue,!t.switchU||-1!==i&&-1!==e||t.raise("Invalid character class"),-1!==i)&&-1!==e&&e<i&&t.raise("Range out of order in character class")}},e.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;t.switchU&&(99!==(i=t.current())&&!ht(i)||t.raise("Invalid class escape"),t.raise("Invalid escape")),t.pos=e}var i=t.current();return 93!==i&&(t.lastIntValue=i,t.advance(),!0)},e.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)},e.regexp_eatClassControlLetter=function(t){var e=t.current();return!(!M(e)&&95!==e||(t.lastIntValue=e%32,t.advance(),0))},e.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1},e.regexp_eatDecimalDigits=function(t){var e,i=t.pos;for(t.lastIntValue=0;M(e=t.current());)t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();return t.pos!==i},e.regexp_eatHexDigits=function(t){var e,i=t.pos;for(t.lastIntValue=0;at(e=t.current());)t.lastIntValue=16*t.lastIntValue+ot(e),t.advance();return t.pos!==i},e.regexp_eatLegacyOctalEscapeSequence=function(t){var e,i;return!!this.regexp_eatOctalDigit(t)&&(e=t.lastIntValue,this.regexp_eatOctalDigit(t)?(i=t.lastIntValue,e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=64*e+8*i+t.lastIntValue:t.lastIntValue=8*e+i):t.lastIntValue=e,!0)},e.regexp_eatOctalDigit=function(t){var e=t.current();return ht(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)},e.regexp_eatFixedHexDigits=function(t,e){for(var i=t.pos,n=t.lastIntValue=0;n<e;++n){var r=t.current();if(!at(r))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+ot(r),t.advance()}return!0};function R(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new b(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])}s=C.prototype;function lt(t){return"function"!=typeof BigInt?null:BigInt(t.replace(/_/g,""))}function ct(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}s.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new R(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},s.getToken=function(){return this.next(),new R(this)},"undefined"!=typeof Symbol&&(s[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===m.eof,value:t}}}}),s.curContext=function(){return this.context[this.context.length-1]},s.nextToken=function(){var t=this.curContext();return t&&t.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(m.eof):t.override?t.override(this):void this.readToken(this.fullCharCodeAtPos())},s.readToken=function(t){return o(t,6<=this.options.ecmaVersion)||92===t?this.readWord():this.getTokenFromCode(t)},s.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);return t<=55295||57344<=t?t:(t<<10)+this.input.charCodeAt(this.pos+1)-56613888},s.skipBlockComment=function(){var t,e=this.options.onComment&&this.curPosition(),i=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(-1===n&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(p.lastIndex=i;(t=p.exec(this.input))&&t.index<this.pos;)++this.curLine,this.lineStart=t.index+t[0].length;this.options.onComment&&this.options.onComment(!0,this.input.slice(i+2,n),i,this.pos,e,this.curPosition())},s.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),n=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!d(n);)n=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())},s.skipSpace=function(){t:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(!(8<t&&t<14||5760<=t&&f.test(String.fromCharCode(t))))break t;++this.pos}}},s.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)},s.readToken_dot=function(){var t,e=this.input.charCodeAt(this.pos+1);return 48<=e&&e<=57?this.readNumber(!0):(t=this.input.charCodeAt(this.pos+2),6<=this.options.ecmaVersion&&46===e&&46===t?(this.pos+=3,this.finishToken(m.ellipsis)):(++this.pos,this.finishToken(m.dot)))},s.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===t?this.finishOp(m.assign,2):this.finishOp(m.slash,1)},s.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,n=42===t?m.star:m.modulo;return 7<=this.options.ecmaVersion&&42===t&&42===e&&(++i,n=m.starstar,e=this.input.charCodeAt(this.pos+2)),61===e?this.finishOp(m.assign,i+1):this.finishOp(n,i)},s.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e!==t)return 61===e?this.finishOp(m.assign,2):this.finishOp(124===t?m.bitwiseOR:m.bitwiseAND,1);if(12<=this.options.ecmaVersion&&61===this.input.charCodeAt(this.pos+2))return this.finishOp(m.assign,3);return this.finishOp(124===t?m.logicalOR:m.logicalAND,2)},s.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(m.assign,2):this.finishOp(m.bitwiseXOR,1)},s.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?45!==e||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!u.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(m.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===e?this.finishOp(m.assign,2):this.finishOp(m.plusMin,1)},s.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=62===t&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+i)?this.finishOp(m.assign,i+1):this.finishOp(m.bitShift,i)):33!==e||60!==t||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?this.finishOp(m.relational,i=61===e?2:i):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},s.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return 61===e?this.finishOp(m.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===t&&62===e&&6<=this.options.ecmaVersion?(this.pos+=2,this.finishToken(m.arrow)):this.finishOp(61===t?m.eq:m.prefix,1)},s.readToken_question=function(){var t=this.options.ecmaVersion;if(11<=t){var e=this.input.charCodeAt(this.pos+1);if(46===e){var i=this.input.charCodeAt(this.pos+2);if(i<48||57<i)return this.finishOp(m.questionDot,2)}if(63===e){if(12<=t)if(61===this.input.charCodeAt(this.pos+2))return this.finishOp(m.assign,3);return this.finishOp(m.coalesce,2)}}return this.finishOp(m.question,1)},s.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(m.parenL);case 41:return++this.pos,this.finishToken(m.parenR);case 59:return++this.pos,this.finishToken(m.semi);case 44:return++this.pos,this.finishToken(m.comma);case 91:return++this.pos,this.finishToken(m.bracketL);case 93:return++this.pos,this.finishToken(m.bracketR);case 123:return++this.pos,this.finishToken(m.braceL);case 125:return++this.pos,this.finishToken(m.braceR);case 58:return++this.pos,this.finishToken(m.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(m.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(120===e||88===e)return this.readRadixNumber(16);if(6<=this.options.ecmaVersion){if(111===e||79===e)return this.readRadixNumber(8);if(98===e||66===e)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(m.prefix,1)}this.raise(this.pos,"Unexpected character '"+ct(t)+"'")},s.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)},s.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var n=this.input.charAt(this.pos);if(u.test(n)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if("["===n)e=!0;else if("]"===n&&e)e=!1;else if("/"===n&&!e)break;t="\\"===n}++this.pos}var r=this.input.slice(i,this.pos),s=(++this.pos,this.pos),a=this.readWord1(),s=(this.containsEsc&&this.unexpected(s),this.regexpState||(this.regexpState=new O(this))),s=(s.reset(i,r,a),this.validateRegExpFlags(s),this.validateRegExpPattern(s),null);try{s=new RegExp(r,a)}catch(t){}return this.finishToken(m.regexp,{pattern:r,flags:a,value:s})},s.readInt=function(t,e,i){for(var n=12<=this.options.ecmaVersion&&void 0===e,r=i&&48===this.input.charCodeAt(this.pos),i=this.pos,s=0,a=0,o=0,h=null==e?1/0:e;o<h;++o,++this.pos){var l=this.input.charCodeAt(this.pos),c=void 0;if(n&&95===l)r&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===a&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===o&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=l;else{if(t<=(c=97<=l?l-97+10:65<=l?l-65+10:48<=l&&l<=57?l-48:1/0))break;a=l,s=s*t+c}}return n&&95===a&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===i||null!=e&&this.pos-i!==e?null:s},s.readRadixNumber=function(t){var e=this.pos,i=(this.pos+=2,this.readInt(t));return null==i&&this.raise(this.start+2,"Expected number in radix "+t),11<=this.options.ecmaVersion&&110===this.input.charCodeAt(this.pos)?(i=lt(this.input.slice(e,this.pos)),++this.pos):o(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,i)},s.readNumber=function(t){var e=this.pos,i=(t||null!==this.readInt(10,void 0,!0)||this.raise(e,"Invalid number"),2<=this.pos-e&&48===this.input.charCodeAt(e)),n=(i&&this.strict&&this.raise(e,"Invalid number"),this.input.charCodeAt(this.pos));if(!i&&!t&&11<=this.options.ecmaVersion&&110===n)return t=lt(this.input.slice(e,this.pos)),++this.pos,o(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,t);i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),46!==n||i||(++this.pos,this.readInt(10),n=this.input.charCodeAt(this.pos)),69!==n&&101!==n||i||(43!==(n=this.input.charCodeAt(++this.pos))&&45!==n||++this.pos,null===this.readInt(10)&&this.raise(e,"Invalid number")),o(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");t=this.input.slice(e,this.pos);n=i?parseInt(t,8):parseFloat(t.replace(/_/g,""));return this.finishToken(m.num,n)},s.readCodePoint=function(){var t,e;return 123===this.input.charCodeAt(this.pos)?(this.options.ecmaVersion<6&&this.unexpected(),t=++this.pos,e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,1114111<e&&this.invalidStringToken(t,"Code point out of bounds")):e=this.readHexChar(4),e},s.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var n=this.input.charCodeAt(this.pos);if(n===t)break;92===n?(e=(e+=this.input.slice(i,this.pos))+this.readEscapedChar(!1),i=this.pos):(d(n,10<=this.options.ecmaVersion)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(m.string,e)};var ut={};s.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t!==ut)throw t;this.readInvalidTemplateToken()}this.inTemplateElement=!1},s.invalidStringToken=function(t,e){if(this.inTemplateElement&&9<=this.options.ecmaVersion)throw ut;this.raise(t,e)},s.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(96===i||36===i&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==m.template&&this.type!==m.invalidTemplate?(t+=this.input.slice(e,this.pos),this.finishToken(m.template,t)):36===i?(this.pos+=2,this.finishToken(m.dollarBraceL)):(++this.pos,this.finishToken(m.backQuote));if(92===i)t=(t+=this.input.slice(e,this.pos))+this.readEscapedChar(!0),e=this.pos;else if(d(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:t+="\n";break;default:t+=String.fromCharCode(i)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}},s.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(m.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},s.readEscapedChar=function(t){var e,i,n=this.input.charCodeAt(++this.pos);switch(++this.pos,n){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return ct(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(t)return e=this.pos-1,this.invalidStringToken(e,"Invalid escape sequence in template string"),null;default:return 48<=n&&n<=55?(e=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],255<(i=parseInt(e,8))&&(e=e.slice(0,-1),i=parseInt(e,8)),this.pos+=e.length-1,n=this.input.charCodeAt(this.pos),"0"===e&&56!==n&&57!==n||!this.strict&&!t||this.invalidStringToken(this.pos-1-e.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)):d(n)?"":String.fromCharCode(n)}},s.readHexChar=function(t){var e=this.pos,t=this.readInt(16,t);return null===t&&this.invalidStringToken(e,"Bad character escape sequence"),t},s.readWord1=function(){for(var t="",e=!(this.containsEsc=!1),i=this.pos,n=6<=this.options.ecmaVersion;this.pos<this.input.length;){var r=this.fullCharCodeAtPos();if(h(r,n))this.pos+=r<=65535?1:2;else{if(92!==r)break;this.containsEsc=!0,t+=this.input.slice(i,this.pos);var r=this.pos,s=(117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos,this.readCodePoint());(e?o:h)(s,n)||this.invalidStringToken(r,"Invalid Unicode escape"),t+=ct(s),i=this.pos}e=!1}return t+this.input.slice(i,this.pos)},s.readWord=function(){var t=this.readWord1(),e=m.name;return this.keywords.test(t)&&(e=l[t]),this.finishToken(e,t)};C.acorn={Parser:C,version:"7.4.1",defaultOptions:x,Position:y,SourceLocation:b,getLineInfo:w,Node:E,TokenType:n,tokTypes:m,keywordTypes:l,TokContext:P,tokContexts:L,isIdentifierChar:h,isIdentifierStart:o,Token:R,isNewLine:d,lineBreak:u,lineBreakG:p,nonASCIIwhitespace:f},t.Node=E,t.Parser=C,t.Position=y,t.SourceLocation=b,t.TokContext=P,t.Token=R,t.TokenType=n,t.defaultOptions=x,t.getLineInfo=w,t.isIdentifierChar=h,t.isIdentifierStart=o,t.isNewLine=d,t.keywordTypes=l,t.lineBreak=u,t.lineBreakG=p,t.nonASCIIwhitespace=f,t.parse=function(t,e){return C.parse(t,e)},t.parseExpressionAt=function(t,e,i){return C.parseExpressionAt(t,e,i)},t.tokContexts=L,t.tokTypes=m,t.tokenizer=function(t,e){return C.tokenizer(t,e)},t.version="7.4.1",Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof i&&void 0!==e?r(i):"function"==typeof define&&define.amd?define(["exports"],r):r((n=n||self).acorn={})},{}],13:[function(t,e,i){"use strict";i.byteLength=function(t){var t=c(t),e=t[0],t=t[1];return 3*(e+t)/4-t},i.toByteArray=function(t){var e,i,n=c(t),r=n[0],n=n[1],s=new l(function(t,e){return 3*(t+e)/4-e}(r,n)),a=0,o=0<n?r-4:r;for(i=0;i<o;i+=4)e=h[t.charCodeAt(i)]<<18|h[t.charCodeAt(i+1)]<<12|h[t.charCodeAt(i+2)]<<6|h[t.charCodeAt(i+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=255&e;2===n&&(e=h[t.charCodeAt(i)]<<2|h[t.charCodeAt(i+1)]>>4,s[a++]=255&e);1===n&&(e=h[t.charCodeAt(i)]<<10|h[t.charCodeAt(i+1)]<<4|h[t.charCodeAt(i+2)]>>2,s[a++]=e>>8&255,s[a++]=255&e);return s},i.fromByteArray=function(t){for(var e,i=t.length,n=i%3,r=[],s=0,a=i-n;s<a;s+=16383)r.push(function(t,e,i){for(var n,r=[],s=e;s<i;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),r.push(function(t){return o[t>>18&63]+o[t>>12&63]+o[t>>6&63]+o[63&t]}(n));return r.join("")}(t,s,a<s+16383?a:s+16383));1==n?(e=t[i-1],r.push(o[e>>2]+o[e<<4&63]+"==")):2==n&&(e=(t[i-2]<<8)+t[i-1],r.push(o[e>>10]+o[e>>4&63]+o[e<<2&63]+"="));return r.join("")};for(var o=[],h=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,s=n.length;r<s;++r)o[r]=n[r],h[n.charCodeAt(r)]=r;function c(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");t=t.indexOf("="),e=(t=-1===t?e:t)===e?0:4-t%4;return[t,e]}h["-".charCodeAt(0)]=62,h["_".charCodeAt(0)]=63},{}],14:[function(t,e,i){var n,r;n=this,r=function(t){"use strict";function D(t){if(t&&t.__esModule)return t;var e,i=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t)for(const n in t)"default"!==n&&(e=Object.getOwnPropertyDescriptor(t,n),Object.defineProperty(i,n,e.get?e:{enumerable:!0,get:()=>t[n]}));return i.default=t,Object.freeze(i)}const i=D(t),B=1e3,V="transitionend",j=e=>{let i=e.getAttribute("data-bs-target");if(!i||"#"===i){let t=e.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t="#"+t.split("#")[1]),i=t&&"#"!==t?t.trim():null}return i},F=t=>{t=j(t);return t&&document.querySelector(t)?t:null},r=t=>{t=j(t);return t?document.querySelector(t):null},z=t=>{t.dispatchEvent(new Event(V))},s=t=>!(!t||"object"!=typeof t)&&void 0!==(t=void 0!==t.jquery?t[0]:t).nodeType,n=t=>s(t)?t.jquery?t[0]:t:"string"==typeof t&&0<t.length?document.querySelector(t):null,a=t=>{if(!s(t)||0===t.getClientRects().length)return!1;var e="visible"===getComputedStyle(t).getPropertyValue("visibility"),i=t.closest("details:not([open])");if(i&&i!==t){t=t.closest("summary");if(t&&t.parentNode!==i)return!1;if(null===t)return!1}return e},o=t=>!t||t.nodeType!==Node.ELEMENT_NODE||!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")),q=t=>{var e;return document.documentElement.attachShadow?"function"==typeof t.getRootNode?(e=t.getRootNode())instanceof ShadowRoot?e:null:t instanceof ShadowRoot?t:t.parentNode?q(t.parentNode):null:null},h=()=>{},l=t=>{t.offsetHeight},U=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,H=[],c=()=>"rtl"===document.documentElement.dir;t=n=>{var t;t=()=>{const t=U();if(t){const e=n.NAME,i=t.fn[e];t.fn[e]=n.jQueryInterface,t.fn[e].Constructor=n,t.fn[e].noConflict=()=>(t.fn[e]=i,n.jQueryInterface)}},"loading"===document.readyState?(H.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of H)t()}),H.push(t)):t()};const u=t=>{"function"==typeof t&&t()},W=(i,n,t=!0)=>{if(t){t=(t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:i}=window.getComputedStyle(t);var t=Number.parseFloat(e),n=Number.parseFloat(i);return t||n?(e=e.split(",")[0],i=i.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(i))*B):0})(n)+5;let e=!1;const r=({target:t})=>{t===n&&(e=!0,n.removeEventListener(V,r),u(i))};n.addEventListener(V,r),setTimeout(()=>{e||z(n)},t)}else u(i)},G=(t,e,i,n)=>{var r=t.length;let s=t.indexOf(e);return-1===s?!i&&n?t[r-1]:t[0]:(s+=i?1:-1,n&&(s=(s+r)%r),t[Math.max(0,Math.min(s,r-1))])},K=/[^.]*(?=\..*)\.|.*/,Z=/\..*/,X=/::\d+$/,Y={};let Q=1;const $={mouseenter:"mouseover",mouseleave:"mouseout"},J=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function tt(t,e){return e&&e+"::"+Q++||t.uidEvent||Q++}function et(t){var e=tt(t);return t.uidEvent=e,Y[e]=Y[e]||{},Y[e]}function it(t,e,i=null){return Object.values(t).find(t=>t.callable===e&&t.delegationSelector===i)}function nt(t,e,i){var n="string"==typeof e,e=!n&&e||i;let r=at(t);return[n,e,r=J.has(r)?r:t]}function rt(n,r,s,a,o){if("string"==typeof r&&n){let[t,e,i]=nt(r,s,a);r in $&&(e=(h=e,function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return h.call(this,t)}));var h,l,c,u,p,d,a=et(n),a=a[i]||(a[i]={}),f=it(a,e,t?s:null);f?f.oneOff=f.oneOff&&o:(f=tt(e,r.replace(K,"")),(r=t?(u=n,p=s,d=e,function e(i){var n=u.querySelectorAll(p);for(let t=i["target"];t&&t!==this;t=t.parentNode)for(const r of n)if(r===t)return ot(i,{delegateTarget:t}),e.oneOff&&g.off(u,i.type,p,d),d.apply(t,[i])}):(l=n,c=e,function t(e){return ot(e,{delegateTarget:l}),t.oneOff&&g.off(l,e.type,c),c.apply(l,[e])})).delegationSelector=t?s:null,r.callable=e,r.oneOff=o,a[r.uidEvent=f]=r,n.addEventListener(i,r,t))}}function st(t,e,i,n,r){n=it(e[i],n,r);n&&(t.removeEventListener(i,n,Boolean(r)),delete e[i][n.uidEvent])}function at(t){return t=t.replace(Z,""),$[t]||t}const g={on(t,e,i,n){rt(t,e,i,n,!1)},one(t,e,i,n){rt(t,e,i,n,!0)},off(t,e,i,n){if("string"==typeof e&&t){var[n,r,s]=nt(e,i,n),a=s!==e,o=et(t),h=o[s]||{},l=e.startsWith(".");if(void 0!==r)return Object.keys(h).length?void st(t,o,s,r,n?i:null):void 0;if(l)for(const _ of Object.keys(o)){c=g=f=d=p=u=void 0;var c,u=t,p=o,d=_,f=e.slice(1),g=p[d]||{};for(const v of Object.keys(g))v.includes(f)&&st(u,p,d,(c=g[v]).callable,c.delegationSelector)}for(const y of Object.keys(h)){var m=y.replace(X,"");a&&!e.includes(m)||st(t,o,s,(m=h[y]).callable,m.delegationSelector)}}},trigger(t,e,i){if("string"!=typeof e||!t)return null;var n=U();let r=null,s=!0,a=!0,o=!1;e!==at(e)&&n&&(r=n.Event(e,i),n(t).trigger(r),s=!r.isPropagationStopped(),a=!r.isImmediatePropagationStopped(),o=r.isDefaultPrevented());n=ot(n=new Event(e,{bubbles:s,cancelable:!0}),i);return o&&n.preventDefault(),a&&t.dispatchEvent(n),n.defaultPrevented&&r&&r.preventDefault(),n}};function ot(e,t){for(const[i,n]of Object.entries(t||{}))try{e[i]=n}catch(t){Object.defineProperty(e,i,{configurable:!0,get(){return n}})}return e}const p=new Map,ht={set(t,e,i){p.has(t)||p.set(t,new Map);t=p.get(t);t.has(e)||0===t.size?t.set(e,i):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(t.keys())[0]}.`)},get(t,e){return p.has(t)&&p.get(t).get(e)||null},remove(t,e){var i;p.has(t)&&((i=p.get(t)).delete(e),0===i.size)&&p.delete(t)}};function lt(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function ct(t){return t.replace(/[A-Z]/g,t=>"-"+t.toLowerCase())}const d={setDataAttribute(t,e,i){t.setAttribute("data-bs-"+ct(e),i)},removeDataAttribute(t,e){t.removeAttribute("data-bs-"+ct(e))},getDataAttributes(e){if(!e)return{};var i={};for(const n of Object.keys(e.dataset).filter(t=>t.startsWith("bs")&&!t.startsWith("bsConfig"))){let t=n.replace(/^bs/,"");i[t=t.charAt(0).toLowerCase()+t.slice(1,t.length)]=lt(e.dataset[n])}return i},getDataAttribute(t,e){return lt(t.getAttribute("data-bs-"+ct(e)))}};class e{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){var i=s(e)?d.getDataAttribute(e,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...s(e)?d.getDataAttributes(e):{},..."object"==typeof t?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const r of Object.keys(e)){var i=e[r],n=t[r],n=s(n)?"element":null==(n=n)?""+n:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(i).test(n))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${n}" but expected type "${i}".`)}}}class f extends e{constructor(t,e){super(),(t=n(t))&&(this._element=t,this._config=this._getConfig(e),ht.set(this._element,this.constructor.DATA_KEY,this))}dispose(){ht.remove(this._element,this.constructor.DATA_KEY),g.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){W(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return ht.get(n(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.2.3"}static get DATA_KEY(){return"bs."+this.NAME}static get EVENT_KEY(){return"."+this.DATA_KEY}static eventName(t){return""+t+this.EVENT_KEY}}var ut=(e,i="hide")=>{var t="click.dismiss"+e.EVENT_KEY;const n=e.NAME;g.on(document,t,`[data-bs-dismiss="${n}"]`,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),o(this)||(t=r(this)||this.closest("."+n),e.getOrCreateInstance(t)[i]())})};class pt extends f{static get NAME(){return"alert"}close(){var t;g.trigger(this._element,"close.bs.alert").defaultPrevented||(this._element.classList.remove("show"),t=this._element.classList.contains("fade"),this._queueCallback(()=>this._destroyElement(),this._element,t))}_destroyElement(){this._element.remove(),g.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(e){return this.each(function(){var t=pt.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}ut(pt,"close"),t(pt);const dt='[data-bs-toggle="button"]';class ft extends f{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each(function(){var t=ft.getOrCreateInstance(this);"toggle"===e&&t[e]()})}}g.on(document,"click.bs.button.data-api",dt,t=>{t.preventDefault();t=t.target.closest(dt);ft.getOrCreateInstance(t).toggle()}),t(ft);const m={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(t=>t.matches(e))},parents(t,e){var i=[];let n=t.parentNode.closest(e);for(;n;)i.push(n),n=n.parentNode.closest(e);return i},prev(t,e){let i=t.previousElementSibling;for(;i;){if(i.matches(e))return[i];i=i.previousElementSibling}return[]},next(t,e){let i=t.nextElementSibling;for(;i;){if(i.matches(e))return[i];i=i.nextElementSibling}return[]},focusableChildren(t){var e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>t+':not([tabindex^="-"])').join(",");return this.find(e,t).filter(t=>!o(t)&&a(t))}},_=".bs.swipe",gt=(_,_,_,_,_,{endCallback:null,leftCallback:null,rightCallback:null}),mt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class _t extends e{constructor(t,e){super(),(this._element=t)&&_t.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return gt}static get DefaultType(){return mt}static get NAME(){return"swipe"}dispose(){g.off(this._element,_)}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),u(this._config.endCallback)}_move(t){this._deltaX=t.touches&&1<t.touches.length?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){var t=Math.abs(this._deltaX);t<=40||(t=t/this._deltaX,this._deltaX=0,t&&u(0<t?this._config.rightCallback:this._config.leftCallback))}_initEvents(){this._supportPointerEvents?(g.on(this._element,"pointerdown.bs.swipe",t=>this._start(t)),g.on(this._element,"pointerup.bs.swipe",t=>this._end(t)),this._element.classList.add("pointer-event")):(g.on(this._element,"touchstart.bs.swipe",t=>this._start(t)),g.on(this._element,"touchmove.bs.swipe",t=>this._move(t)),g.on(this._element,"touchend.bs.swipe",t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||0<navigator.maxTouchPoints}}var v=".bs.carousel";const y="next",b="prev",w="left",vt="right",yt="slid"+v;const bt="active",wt=".carousel-item";wt;const xt={ArrowLeft:vt,ArrowRight:w},St={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ct={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class x extends f{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=m.findOne(".carousel-indicators",this._element),this._addEventListeners(),"carousel"===this._config.ride&&this.cycle()}static get Default(){return St}static get DefaultType(){return Ct}static get NAME(){return"carousel"}next(){this._slide(y)}nextWhenVisible(){!document.hidden&&a(this._element)&&this.next()}prev(){this._slide(b)}pause(){this._isSliding&&z(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?g.one(this._element,yt,()=>this.cycle()):this.cycle())}to(t){var e,i=this._getItems();t>i.length-1||t<0||(this._isSliding?g.one(this._element,yt,()=>this.to(t)):(e=this._getItemIndex(this._getActive()))!==t&&(e=e<t?y:b,this._slide(e,i[t])))}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&g.on(this._element,"keydown.bs.carousel",t=>this._keydown(t)),"hover"===this._config.pause&&(g.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),g.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle())),this._config.touch&&_t.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const e of m.find(".carousel-item img",this._element))g.on(e,"dragstart.bs.carousel",t=>t.preventDefault());var t={leftCallback:()=>this._slide(this._directionToOrder(w)),rightCallback:()=>this._slide(this._directionToOrder(vt)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new _t(this._element,t)}_keydown(t){var e;/input|textarea/i.test(t.target.tagName)||(e=xt[t.key])&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){var e;this._indicatorsElement&&((e=m.findOne(".active",this._indicatorsElement)).classList.remove(bt),e.removeAttribute("aria-current"),e=m.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement))&&(e.classList.add(bt),e.setAttribute("aria-current","true"))}_updateInterval(){var t=this._activeElement||this._getActive();t&&(t=Number.parseInt(t.getAttribute("data-bs-interval"),10),this._config.interval=t||this._config.defaultInterval)}_slide(e,t=null){if(!this._isSliding){const n=this._getActive();var i=e===y;const r=t||G(this._getItems(),n,i,this._config.wrap);if(r!==n){const s=this._getItemIndex(r),a=t=>g.trigger(this._element,t,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:s});t=a("slide.bs.carousel");if(!t.defaultPrevented&&n&&r){t=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=r;const o=i?"carousel-item-start":"carousel-item-end",h=i?"carousel-item-next":"carousel-item-prev";r.classList.add(h),l(r),n.classList.add(o),r.classList.add(o);this._queueCallback(()=>{r.classList.remove(o,h),r.classList.add(bt),n.classList.remove(bt,h,o),this._isSliding=!1,a(yt)},n,this._isAnimated()),t&&this.cycle()}}}}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return m.findOne(".active.carousel-item",this._element)}_getItems(){return m.find(wt,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return c()?t===w?b:y:t===w?y:b}_orderToDirection(t){return c()?t===b?w:vt:t===b?vt:w}static jQueryInterface(e){return this.each(function(){var t=x.getOrCreateInstance(this,e);if("number"==typeof e)t.to(e);else if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}g.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",function(t){var e=r(this);e&&e.classList.contains("carousel")&&(t.preventDefault(),t=x.getOrCreateInstance(e),(e=this.getAttribute("data-bs-slide-to"))?t.to(e):"next"===d.getDataAttribute(this,"slide")?t.next():t.prev(),t._maybeEnableCycle())}),g.on(window,"load.bs.carousel.data-api",()=>{for(const t of m.find('[data-bs-ride="carousel"]'))x.getOrCreateInstance(t)}),t(x);const S="collapse",kt="collapsing",Et=(S,S,'[data-bs-toggle="collapse"]'),At={parent:null,toggle:!0},Tt={parent:"(null|element)",toggle:"boolean"};class C extends f{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];for(const r of m.find(Et)){var i=F(r),n=m.find(i).filter(t=>t===this._element);null!==i&&n.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return At}static get DefaultType(){return Tt}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(!this._isTransitioning&&!this._isShown()){let t=[];if(!(t=this._config.parent?this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(t=>t!==this._element).map(t=>C.getOrCreateInstance(t,{toggle:!1})):t).length||!t[0]._isTransitioning){var e=g.trigger(this._element,"show.bs.collapse");if(!e.defaultPrevented){for(const n of t)n.hide();const i=this._getDimension();this._element.classList.remove(S),this._element.classList.add(kt),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;e="scroll"+(i[0].toUpperCase()+i.slice(1));this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(kt),this._element.classList.add(S,"show"),this._element.style[i]="",g.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[i]=this._element[e]+"px"}}}}hide(){if(!this._isTransitioning&&this._isShown()){var t=g.trigger(this._element,"hide.bs.collapse");if(!t.defaultPrevented){t=this._getDimension();this._element.style[t]=this._element.getBoundingClientRect()[t]+"px",l(this._element),this._element.classList.add(kt),this._element.classList.remove(S,"show");for(const i of this._triggerArray){var e=r(i);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;this._element.style[t]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(kt),this._element.classList.add(S),g.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}}}_isShown(t=this._element){return t.classList.contains("show")}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=n(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(this._config.parent)for(const e of this._getFirstLevelChildren(Et)){var t=r(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}_getFirstLevelChildren(t){const e=m.find(":scope .collapse .collapse",this._config.parent);return m.find(t,this._config.parent).filter(t=>!e.includes(t))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const i of t)i.classList.toggle("collapsed",!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(e){const i={};return"string"==typeof e&&/show|hide/.test(e)&&(i.toggle=!1),this.each(function(){var t=C.getOrCreateInstance(this,i);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}}g.on(document,"click.bs.collapse.data-api",Et,function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();t=F(this);for(const e of m.find(t))C.getOrCreateInstance(e,{toggle:!1}).toggle()}),t(C);var v=".bs.dropdown",k=".data-api";var It="click"+v+k,v="keydown"+v+k;const E="show",A='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Pt=(A,".dropdown-menu"),Lt=c()?"top-end":"top-start",Ot=c()?"top-start":"top-end",Nt=c()?"bottom-end":"bottom-start",Mt=c()?"bottom-start":"bottom-end",Rt=c()?"left-start":"right-start",Dt=c()?"right-start":"left-start",Bt={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Vt={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class T extends f{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=m.next(this._element,Pt)[0]||m.prev(this._element,Pt)[0]||m.findOne(Pt,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Bt}static get DefaultType(){return Vt}static get NAME(){return"dropdown"}toggle(){return this._isShown()?this.hide():this.show()}show(){if(!o(this._element)&&!this._isShown()){var t={relatedTarget:this._element},e=g.trigger(this._element,"show.bs.dropdown",t);if(!e.defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const i of[].concat(...document.body.children))g.on(i,"mouseover",h);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(E),this._element.classList.add(E),g.trigger(this._element,"shown.bs.dropdown",t)}}}hide(){var t;!o(this._element)&&this._isShown()&&(t={relatedTarget:this._element},this._completeHide(t))}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){var e=g.trigger(this._element,"hide.bs.dropdown",t);if(!e.defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))g.off(i,"mouseover",h);this._popper&&this._popper.destroy(),this._menu.classList.remove(E),this._element.classList.remove(E),this._element.setAttribute("aria-expanded","false"),d.removeDataAttribute(this._menu,"popper"),g.trigger(this._element,"hidden.bs.dropdown",t)}}_getConfig(t){if("object"!=typeof(t=super._getConfig(t)).reference||s(t.reference)||"function"==typeof t.reference.getBoundingClientRect)return t;throw new TypeError("dropdown".toUpperCase()+': Option "reference" provided type "object" without a required "getBoundingClientRect" method.')}_createPopper(){if(void 0===i)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:s(this._config.reference)?t=n(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);var e=this._getPopperConfig();this._popper=i.createPopper(t,this._menu,e)}_isShown(){return this._menu.classList.contains(E)}_getPlacement(){var t,e=this._parent;return e.classList.contains("dropend")?Rt:e.classList.contains("dropstart")?Dt:e.classList.contains("dropup-center")?"top":e.classList.contains("dropdown-center")?"bottom":(t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim(),e.classList.contains("dropup")?t?Ot:Lt:t?Mt:Nt)}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const e=this._config["offset"];return"string"==typeof e?e.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){var t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return!this._inNavbar&&"static"!==this._config.display||(d.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,..."function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_selectMenuItem({key:t,target:e}){var i=m.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(t=>a(t));i.length&&G(i,e,"ArrowDown"===t,!i.includes(e)).focus()}static jQueryInterface(e){return this.each(function(){var t=T.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(t){if(2!==t.button&&("keyup"!==t.type||"Tab"===t.key))for(const r of m.find('[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled).show')){var e,i,n=T.getInstance(r);n&&!1!==n._config.autoClose&&(e=(i=t.composedPath()).includes(n._menu),i.includes(n._element)||"inside"===n._config.autoClose&&!e||"outside"===n._config.autoClose&&e||n._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName))||(i={relatedTarget:n._element},"click"===t.type&&(i.clickEvent=t),n._completeHide(i)))}}static dataApiKeydownHandler(t){var e=/input|textarea/i.test(t.target.tagName),i="Escape"===t.key,n=["ArrowUp","ArrowDown"].includes(t.key);!n&&!i||e&&!i||(t.preventDefault(),e=this.matches(A)?this:m.prev(this,A)[0]||m.next(this,A)[0]||m.findOne(A,t.delegateTarget.parentNode),i=T.getOrCreateInstance(e),n?(t.stopPropagation(),i.show(),i._selectMenuItem(t)):i._isShown()&&(t.stopPropagation(),i.hide(),e.focus()))}}g.on(document,v,A,T.dataApiKeydownHandler),g.on(document,v,Pt,T.dataApiKeydownHandler),g.on(document,It,T.clearMenus),g.on(document,"keyup.bs.dropdown.data-api",T.clearMenus),g.on(document,It,A,function(t){t.preventDefault(),T.getOrCreateInstance(this).toggle()}),t(T);const jt=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ft=".sticky-top",zt="padding-right",qt="margin-right";class Ut{constructor(){this._element=document.body}getWidth(){var t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,zt,t=>t+e),this._setElementAttributes(jt,zt,t=>t+e),this._setElementAttributes(Ft,qt,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,zt),this._resetElementAttributes(jt,zt),this._resetElementAttributes(Ft,qt)}isOverflowing(){return 0<this.getWidth()}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,i,n){const r=this.getWidth();this._applyManipulationCallback(t,t=>{var e;t!==this._element&&window.innerWidth>t.clientWidth+r||(this._saveInitialAttribute(t,i),e=window.getComputedStyle(t).getPropertyValue(i),t.style.setProperty(i,n(Number.parseFloat(e))+"px"))})}_saveInitialAttribute(t,e){var i=t.style.getPropertyValue(e);i&&d.setDataAttribute(t,e,i)}_resetElementAttributes(t,i){this._applyManipulationCallback(t,t=>{var e=d.getDataAttribute(t,i);null===e?t.style.removeProperty(i):(d.removeDataAttribute(t,i),t.style.setProperty(i,e))})}_applyManipulationCallback(t,e){if(s(t))e(t);else for(const i of m.find(t,this._element))e(i)}}const Ht="mousedown.bs.backdrop",Wt={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Gt={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Kt extends e{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return Wt}static get DefaultType(){return Gt}static get NAME(){return"backdrop"}show(t){var e;this._config.isVisible?(this._append(),e=this._getElement(),this._config.isAnimated&&l(e),e.classList.add("show"),this._emulateAnimation(()=>{u(t)})):u(t)}hide(t){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),u(t)})):u(t)}dispose(){this._isAppended&&(g.off(this._element,Ht),this._element.remove(),this._isAppended=!1)}_getElement(){var t;return this._element||((t=document.createElement("div")).className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t),this._element}_configAfterMerge(t){return t.rootElement=n(t.rootElement),t}_append(){var t;this._isAppended||(t=this._getElement(),this._config.rootElement.append(t),g.on(t,Ht,()=>{u(this._config.clickCallback)}),this._isAppended=!0)}_emulateAnimation(t){W(t,this._getElement(),this._config.isAnimated)}}const Zt=".bs.focustrap",Xt=(Zt,Zt,{autofocus:!0,trapElement:null}),Yt={autofocus:"boolean",trapElement:"element"};class Qt extends e{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Xt}static get DefaultType(){return Yt}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),g.off(document,Zt),g.on(document,"focusin.bs.focustrap",t=>this._handleFocusin(t)),g.on(document,"keydown.tab.bs.focustrap",t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,g.off(document,Zt))}_handleFocusin(t){var e=this._config["trapElement"];t.target===document||t.target===e||e.contains(t.target)||(0===(t=m.focusableChildren(e)).length?e:"backward"===this._lastTabNavDirection?t[t.length-1]:t[0]).focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?"backward":"forward")}}const I=".bs.modal";I,I;const $t="hidden"+I,Jt="show"+I;I,I,I,I,I;I;const te="modal-open",ee="modal-static";const ie={backdrop:!0,focus:!0,keyboard:!0},ne={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class P extends f{constructor(t,e){super(t,e),this._dialog=m.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ut,this._addEventListeners()}static get Default(){return ie}static get DefaultType(){return ne}static get NAME(){return"modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||g.trigger(this._element,Jt,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(te),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||g.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const t of[window,this._dialog])g.off(t,I);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Kt({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Qt({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;var e=m.findOne(".modal-body",this._dialog);e&&(e.scrollTop=0),l(this._element),this._element.classList.add("show");this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,g.trigger(this._element,"shown.bs.modal",{relatedTarget:t})},this._dialog,this._isAnimated())}_addEventListeners(){g.on(this._element,"keydown.dismiss.bs.modal",t=>{"Escape"===t.key&&(this._config.keyboard?(t.preventDefault(),this.hide()):this._triggerBackdropTransition())}),g.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),g.on(this._element,"mousedown.dismiss.bs.modal",e=>{g.one(this._element,"click.dismiss.bs.modal",t=>{this._element===e.target&&this._element===t.target&&("static"===this._config.backdrop?this._triggerBackdropTransition():this._config.backdrop&&this.hide())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(te),this._resetAdjustments(),this._scrollBar.reset(),g.trigger(this._element,$t)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){var t=g.trigger(this._element,"hidePrevented.bs.modal");if(!t.defaultPrevented){t=this._element.scrollHeight>document.documentElement.clientHeight;const e=this._element.style.overflowY;"hidden"===e||this._element.classList.contains(ee)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(ee),this._queueCallback(()=>{this._element.classList.remove(ee),this._queueCallback(()=>{this._element.style.overflowY=e},this._dialog)},this._dialog),this._element.focus())}}_adjustDialog(){var t,e=this._element.scrollHeight>document.documentElement.clientHeight,i=this._scrollBar.getWidth(),n=0<i;n&&!e&&(t=c()?"paddingLeft":"paddingRight",this._element.style[t]=i+"px"),!n&&e&&(t=c()?"paddingRight":"paddingLeft",this._element.style[t]=i+"px")}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,i){return this.each(function(){var t=P.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](i)}})}}g.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(t){const e=r(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),g.one(e,Jt,t=>{t.defaultPrevented||g.one(e,$t,()=>{a(this)&&this.focus()})});t=m.findOne(".modal.show");t&&P.getInstance(t).hide(),P.getOrCreateInstance(e).toggle(this)}),ut(P),t(P);k=".bs.offcanvas";const re=".offcanvas.show",se="hidePrevented"+k,ae="hidden"+k;const oe={backdrop:!0,keyboard:!0,scroll:!1},he={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class L extends f{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return oe}static get DefaultType(){return he}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||g.trigger(this._element,"show.bs.offcanvas",{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Ut).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("showing"),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove("showing"),g.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:t})},this._element,!0))}hide(){this._isShown&&!g.trigger(this._element,"hide.bs.offcanvas").defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Ut).reset(),g.trigger(this._element,ae)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){var t=Boolean(this._config.backdrop);return new Kt({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{"static"===this._config.backdrop?g.trigger(this._element,se):this.hide()}:null})}_initializeFocusTrap(){return new Qt({trapElement:this._element})}_addEventListeners(){g.on(this._element,"keydown.dismiss.bs.offcanvas",t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():g.trigger(this._element,se))})}static jQueryInterface(e){return this.each(function(){var t=L.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}g.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(t){var e=r(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),o(this)||(g.one(e,ae,()=>{a(this)&&this.focus()}),(t=m.findOne(re))&&t!==e&&L.getInstance(t).hide(),L.getOrCreateInstance(e).toggle(this))}),g.on(window,"load.bs.offcanvas.data-api",()=>{for(const t of m.find(re))L.getOrCreateInstance(t).show()}),g.on(window,"resize.bs.offcanvas",()=>{for(const t of m.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(t).position&&L.getOrCreateInstance(t).hide()}),ut(L),t(L);const le=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]);const ce=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,ue=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;v={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function pe(t,e,i){if(!t.length)return t;if(i&&"function"==typeof i)return i(t);i=(new window.DOMParser).parseFromString(t,"text/html");for(const a of[].concat(...i.body.querySelectorAll("*"))){var n=a.nodeName.toLowerCase();if(Object.keys(e).includes(n)){var r=[].concat(...a.attributes),s=[].concat(e["*"]||[],e[n]||[]);for(const o of r)((t,e)=>{const i=t.nodeName.toLowerCase();return e.includes(i)?!le.has(i)||Boolean(ce.test(t.nodeValue)||ue.test(t.nodeValue)):e.filter(t=>t instanceof RegExp).some(t=>t.test(i))})(o,s)||a.removeAttribute(o.nodeName)}else a.remove()}return i.body.innerHTML}const de={allowList:v,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},fe={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ge={entry:"(string|element|function|null)",selector:"(string|element)"};class me extends e{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return de}static get DefaultType(){return fe}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return 0<this.getContent().length}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){var t,e,i=document.createElement("div");i.innerHTML=this._maybeSanitize(this._config.template);for([t,e]of Object.entries(this._config.content))this._setContent(i,e,t);var n=i.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&n.classList.add(...r.split(" ")),n}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(var[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},ge)}_setContent(t,e,i){i=m.findOne(i,t);i&&((e=this._resolvePossibleFunction(e))?s(e)?this._putElementInTemplate(n(e),i):this._config.html?i.innerHTML=this._maybeSanitize(e):i.textContent=e:i.remove())}_maybeSanitize(t){return this._config.sanitize?pe(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return"function"==typeof t?t(this):t}_putElementInTemplate(t,e){this._config.html?(e.innerHTML="",e.append(t)):e.textContent=t.textContent}}const _e=new Set(["sanitize","allowList","sanitizeFn"]);const ve="show",ye="hide.bs.modal",O="hover",be={AUTO:"auto",TOP:"top",RIGHT:c()?"left":"right",BOTTOM:"bottom",LEFT:c()?"right":"left"},we={allowList:v,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},xe={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class N extends f{constructor(t,e){if(void 0===i)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return we}static get DefaultType(){return xe}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),g.off(this._element.closest(".modal"),ye,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(this._isWithContent()&&this._isEnabled){var t=g.trigger(this._element,this.constructor.eventName("show")),e=(q(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(!t.defaultPrevented&&e){this._disposePopper();t=this._getTipElement(),e=(this._element.setAttribute("aria-describedby",t.getAttribute("id")),this._config)["container"];if(this._element.ownerDocument.documentElement.contains(this.tip)||(e.append(t),g.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(t),t.classList.add(ve),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))g.on(i,"mouseover",h);this._queueCallback(()=>{g.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}}}hide(){if(this._isShown()){var t=g.trigger(this._element,this.constructor.eventName("hide"));if(!t.defaultPrevented){if(this._getTipElement().classList.remove(ve),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))g.off(e,"mouseover",h);this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger[O]=!1,this._isHovered=null;this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),g.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){t=this._getTemplateFactory(t).toHtml();if(!t)return null;t.classList.remove("fade",ve),t.classList.add(`bs-${this.constructor.NAME}-auto`);var e=(t=>{for(;t+=Math.floor(1e6*Math.random()),document.getElementById(t););return t})(this.constructor.NAME).toString();return t.setAttribute("id",e),this._isAnimated()&&t.classList.add("fade"),t}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new me({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains("fade")}_isShown(){return this.tip&&this.tip.classList.contains(ve)}_createPopper(t){var e="function"==typeof this._config.placement?this._config.placement.call(this,t,this._element):this._config.placement,e=be[e.toUpperCase()];return i.createPopper(this._element,t,this._getPopperConfig(e))}_getOffset(){const e=this._config["offset"];return"string"==typeof e?e.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(t){return"function"==typeof t?t.call(this._element):t}_getPopperConfig(t){t={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:t=>{this._getTipElement().setAttribute("data-popper-placement",t.state.placement)}}]};return{...t,..."function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_setListeners(){var t,e;for(const i of this._config.trigger.split(" "))"click"===i?g.on(this._element,this.constructor.eventName("click"),this._config.selector,t=>{this._initializeOnDelegatedTarget(t).toggle()}):"manual"!==i&&(t=i===O?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),e=i===O?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout"),g.on(this._element,t,this._config.selector,t=>{var e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusin"===t.type?"focus":O]=!0,e._enter()}),g.on(this._element,e,this._config.selector,t=>{var e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusout"===t.type?"focus":O]=e._element.contains(t.relatedTarget),e._leave()}));this._hideModalHandler=()=>{this._element&&this.hide()},g.on(this._element.closest(".modal"),ye,this._hideModalHandler)}_fixTitle(){var t=this._element.getAttribute("title");t&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){var e=d.getDataAttributes(this._element);for(const i of Object.keys(e))_e.has(i)&&delete e[i];return t={...e,..."object"==typeof t&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:n(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){var t={};for(const e in this._config)this.constructor.Default[e]!==this._config[e]&&(t[e]=this._config[e]);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){var t=N.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}}t(N);const Se={...N.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Ce={...N.DefaultType,content:"(null|string|element|function)"};class ke extends N{static get Default(){return Se}static get DefaultType(){return Ce}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){var t=ke.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}}t(ke);It=".bs.scrollspy";const Ee="click"+It;const M="active",Ae="[href]";const Te={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Ie={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Pe extends f{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Te}static get DefaultType(){return Ie}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=n(t.target)||document.body,t.rootMargin=t.offset?t.offset+"px 0px -30%":t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map(t=>Number.parseFloat(t))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(g.off(this._config.target,Ee),g.on(this._config.target,Ee,Ae,t=>{var e=this._observableSections.get(t.target.hash);e&&(t.preventDefault(),t=this._rootElement||window,e=e.offsetTop-this._element.offsetTop,t.scrollTo?t.scrollTo({top:e,behavior:"smooth"}):t.scrollTop=e)}))}_getNewObserver(){var t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),t)}_observerCallback(t){const e=t=>this._targetLinks.get("#"+t.target.id);var i=t=>{this._previousScrollData.visibleEntryTop=t.target.offsetTop,this._process(e(t))},n=(this._rootElement||document.documentElement).scrollTop,r=n>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=n;for(const a of t)if(a.isIntersecting){var s=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&s){if(i(a),n)continue;return}r||s||i(a)}else this._activeTarget=null,this._clearActiveClass(e(a))}_initializeTargetsAndObservables(){var t;this._targetLinks=new Map,this._observableSections=new Map;for(const e of m.find(Ae,this._config.target))e.hash&&!o(e)&&(t=m.findOne(e.hash,this._element),a(t))&&(this._targetLinks.set(e.hash,e),this._observableSections.set(e.hash,t))}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),(this._activeTarget=t).classList.add(M),this._activateParents(t),g.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item"))m.findOne(".dropdown-toggle",t.closest(".dropdown")).classList.add(M);else for(const e of m.parents(t,".nav, .list-group"))for(const i of m.prev(e,".nav-link, .nav-item > .nav-link, .list-group-item"))i.classList.add(M)}_clearActiveClass(t){t.classList.remove(M);for(const e of m.find("[href].active",t))e.classList.remove(M)}static jQueryInterface(e){return this.each(function(){var t=Pe.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}g.on(window,"load.bs.scrollspy.data-api",()=>{for(const t of m.find('[data-bs-spy="scroll"]'))Pe.getOrCreateInstance(t)}),t(Pe);const Le="ArrowRight",Oe="active";k='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]';const Ne='.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), '+k;class R extends f{constructor(t){super(t),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),g.on(this._element,"keydown.bs.tab",t=>this._keydown(t)))}static get NAME(){return"tab"}show(){var t,e,i=this._element;this._elemIsActive(i)||(e=(t=this._getActiveElem())?g.trigger(t,"hide.bs.tab",{relatedTarget:i}):null,g.trigger(i,"show.bs.tab",{relatedTarget:t}).defaultPrevented)||e&&e.defaultPrevented||(this._deactivate(t,i),this._activate(i,t))}_activate(t,e){t&&(t.classList.add(Oe),this._activate(r(t)),this._queueCallback(()=>{"tab"!==t.getAttribute("role")?t.classList.add("show"):(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),g.trigger(t,"shown.bs.tab",{relatedTarget:e}))},t,t.classList.contains("fade")))}_deactivate(t,e){t&&(t.classList.remove(Oe),t.blur(),this._deactivate(r(t)),this._queueCallback(()=>{"tab"!==t.getAttribute("role")?t.classList.remove("show"):(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),g.trigger(t,"hidden.bs.tab",{relatedTarget:e}))},t,t.classList.contains("fade")))}_keydown(t){var e;["ArrowLeft",Le,"ArrowUp","ArrowDown"].includes(t.key)&&(t.stopPropagation(),t.preventDefault(),e=[Le,"ArrowDown"].includes(t.key),t=G(this._getChildren().filter(t=>!o(t)),t.target,e,!0))&&(t.focus({preventScroll:!0}),R.getOrCreateInstance(t).show())}_getChildren(){return m.find(Ne,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const i of e)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);var e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",e),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){var e=r(t);e&&(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id)&&this._setAttributeIfNotExists(e,"aria-labelledby","#"+t.id)}_toggleDropDown(t,i){const n=this._getOuterElement(t);n.classList.contains("dropdown")&&((t=(t,e)=>{t=m.findOne(t,n);t&&t.classList.toggle(e,i)})(".dropdown-toggle",Oe),t(".dropdown-menu","show"),n.setAttribute("aria-expanded",i))}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(Oe)}_getInnerElement(t){return t.matches(Ne)?t:m.findOne(Ne,t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(e){return this.each(function(){var t=R.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}g.on(document,"click.bs.tab",k,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),o(this)||R.getOrCreateInstance(this).show()}),g.on(window,"load.bs.tab",()=>{for(const t of m.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))R.getOrCreateInstance(t)}),t(R);const Me="show",Re="showing",De={animation:"boolean",autohide:"boolean",delay:"number"},Be={animation:!0,autohide:!0,delay:5e3};class Ve extends f{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Be}static get DefaultType(){return De}static get NAME(){return"toast"}show(){g.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),l(this._element),this._element.classList.add(Me,Re),this._queueCallback(()=>{this._element.classList.remove(Re),g.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!g.trigger(this._element,"hide.bs.toast").defaultPrevented&&(this._element.classList.add(Re),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Re,Me),g.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Me),super.dispose()}isShown(){return this._element.classList.contains(Me)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}e?this._clearTimeout():(t=t.relatedTarget,this._element===t||this._element.contains(t)||this._maybeScheduleHide())}_setListeners(){g.on(this._element,"mouseover.bs.toast",t=>this._onInteraction(t,!0)),g.on(this._element,"mouseout.bs.toast",t=>this._onInteraction(t,!1)),g.on(this._element,"focusin.bs.toast",t=>this._onInteraction(t,!0)),g.on(this._element,"focusout.bs.toast",t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){var t=Ve.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}})}}return ut(Ve),t(Ve),{Alert:pt,Button:ft,Carousel:x,Collapse:C,Dropdown:T,Modal:P,Offcanvas:L,Popover:ke,ScrollSpy:Pe,Tab:R,Toast:Ve,Tooltip:N}},"object"==typeof i&&void 0!==e?e.exports=r(t("@popperjs/core")):"function"==typeof define&&define.amd?define(["@popperjs/core"],r):(n="undefined"!=typeof globalThis?globalThis:n||self).bootstrap=r(n.Popper)},{"@popperjs/core":10}],15:[function(t,e,i){},{}],16:[function(t,e,i){arguments[4][15][0].apply(i,arguments)},{dup:15}],17:[function(t,T,I){!function(A){!function(){var t=this,e="object"==typeof I&&I&&!I.nodeType&&I,i="object"==typeof T&&T&&!T.nodeType&&T,n="object"==typeof A&&A;n.global!==n&&n.window!==n&&n.self!==n||(t=n);var r,s,m=2147483647,_=36,v=26,a=38,o=700,h=/^xn--/,l=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,u={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=_-1,y=Math.floor,b=String.fromCharCode;function w(t){throw new RangeError(u[t])}function d(t,e){for(var i=t.length,n=[];i--;)n[i]=e(t[i]);return n}function f(t,e){var i=t.split("@"),n="",i=(1<i.length&&(n=i[0]+"@",t=i[1]),(t=t.replace(c,".")).split("."));return n+d(i,e).join(".")}function x(t){for(var e,i,n=[],r=0,s=t.length;r<s;)55296<=(e=t.charCodeAt(r++))&&e<=56319&&r<s?56320==(64512&(i=t.charCodeAt(r++)))?n.push(((1023&e)<<10)+(1023&i)+65536):(n.push(e),r--):n.push(e);return n}function g(t){return d(t,function(t){var e="";return 65535<t&&(e+=b((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=b(t)}).join("")}function S(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function C(t,e,i){var n=0;for(t=i?y(t/o):t>>1,t+=y(t/e);p*v>>1<t;n+=_)t=y(t/p);return y(n+(p+1)*t/(t+a))}function k(t){var e,i,n,r,s,a,o,h=[],l=t.length,c=0,u=128,p=72,d=t.lastIndexOf("-");for(d<0&&(d=0),i=0;i<d;++i)128<=t.charCodeAt(i)&&w("not-basic"),h.push(t.charCodeAt(i));for(n=0<d?d+1:0;n<l;){for(r=c,s=1,a=_;l<=n&&w("invalid-input"),o=t.charCodeAt(n++),(_<=(o=o-48<10?o-22:o-65<26?o-65:o-97<26?o-97:_)||o>y((m-c)/s))&&w("overflow"),c+=o*s,!(o<(o=a<=p?1:p+v<=a?v:a-p));a+=_)s>y(m/(o=_-o))&&w("overflow"),s*=o;p=C(c-r,e=h.length+1,0==r),y(c/e)>m-u&&w("overflow"),u+=y(c/e),c%=e,h.splice(c++,0,u)}return g(h)}function E(t){for(var e,i,n,r,s,a,o,h,l,c,u=[],p=(t=x(t)).length,d=128,f=72,g=e=0;g<p;++g)(o=t[g])<128&&u.push(b(o));for(i=n=u.length,n&&u.push("-");i<p;){for(r=m,g=0;g<p;++g)d<=(o=t[g])&&o<r&&(r=o);for(r-d>y((m-e)/(h=i+1))&&w("overflow"),e+=(r-d)*h,d=r,g=0;g<p;++g)if((o=t[g])<d&&++e>m&&w("overflow"),o==d){for(s=e,a=_;!(s<(l=a<=f?1:f+v<=a?v:a-f));a+=_)u.push(b(S(l+(c=s-l)%(l=_-l),0))),s=y(c/l);u.push(b(S(s,0))),f=C(e,h,i==n),e=0,++i}++e,++d}return u.join("")}if(r={version:"1.4.1",ucs2:{decode:x,encode:g},decode:k,encode:E,toASCII:function(t){return f(t,function(t){return l.test(t)?"xn--"+E(t):t})},toUnicode:function(t){return f(t,function(t){return h.test(t)?k(t.slice(4).toLowerCase()):t})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return r});else if(e&&i)if(T.exports==e)i.exports=r;else for(s in r)r.hasOwnProperty(s)&&(e[s]=r[s]);else t.punycode=r}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(L,t,O){!function(t){!function(){"use strict";var C=L("base64-js"),s=L("ieee754"),e=(O.Buffer=u,O.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},O.INSPECT_MAX_BYTES=50,2147483647);function h(t){if(e<t)throw new RangeError('The value "'+t+'" is invalid for option "size"');t=new Uint8Array(t);return t.__proto__=u.prototype,t}function u(t,e,i){if("number"!=typeof t)return n(t,e,i);if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return a(t)}function n(t,e,i){if("string"==typeof t){var n=t,r=e;if(u.isEncoding(r="string"==typeof r&&""!==r?r:"utf8"))return s=0|p(n,r),a=h(s),a=(n=a.write(n,r))!==s?a.slice(0,n):a;throw new TypeError("Unknown encoding: "+r)}if(ArrayBuffer.isView(t))return l(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(I(t,ArrayBuffer)||t&&I(t.buffer,ArrayBuffer)){var s=t,n=e,a=i;if(n<0||s.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(s.byteLength<n+(a||0))throw new RangeError('"length" is outside of buffer bounds');return(s=void 0===n&&void 0===a?new Uint8Array(s):void 0===a?new Uint8Array(s,n):new Uint8Array(s,n,a)).__proto__=u.prototype,s}if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return u.from(r,e,i);var o=function(t){{var e,i;if(u.isBuffer(t))return e=0|c(t.length),0!==(i=h(e)).length&&t.copy(i,0,0,e),i}if(void 0!==t.length)return"number"!=typeof t.length||P(t.length)?h(0):l(t);if("Buffer"===t.type&&Array.isArray(t.data))return l(t.data)}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function r(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function a(t){return r(t),h(t<0?0:0|c(t))}function l(t){for(var e=t.length<0?0:0|c(t.length),i=h(e),n=0;n<e;n+=1)i[n]=255&t[n];return i}function c(t){if(e<=t)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e.toString(16)+" bytes");return 0|t}function p(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||I(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var i=t.length,n=2<arguments.length&&!0===arguments[2];if(!n&&0===i)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return E(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return A(t).length;default:if(r)return n?-1:E(t).length;e=(""+e).toLowerCase(),r=!0}}function i(t,e,i){var n,r=!1;if((e=void 0===e||e<0?0:e)>this.length)return"";if((i=void 0===i||i>this.length?this.length:i)<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":var s=this,a=e,o=i,h=s.length;(!o||o<0||h<o)&&(o=h);for(var l="",c=a=!a||a<0?0:a;c<o;++c)l+=function(t){return t<16?"0"+t.toString(16):t.toString(16)}(s[c]);return l;case"utf8":case"utf-8":return k(this,e,i);case"ascii":var u=this,h=e,p=i,d="";p=Math.min(u.length,p);for(var f=h;f<p;++f)d+=String.fromCharCode(127&u[f]);return d;case"latin1":case"binary":var g=this,a=e,m=i,_="";m=Math.min(g.length,m);for(var v=a;v<m;++v)_+=String.fromCharCode(g[v]);return _;case"base64":return y=this,n=i,0===(b=e)&&n===y.length?C.fromByteArray(y):C.fromByteArray(y.slice(b,n));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var y=e,b=i,w=this.slice(y,b),x="",S=0;S<w.length;S+=2)x+=String.fromCharCode(w[S]+256*w[S+1]);return x;default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function o(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function d(t,e,i,n,r){if(0===t.length)return-1;if("string"==typeof i?(n=i,i=0):2147483647<i?i=2147483647:i<-2147483648&&(i=-2147483648),(i=(i=P(i=+i)?r?0:t.length-1:i)<0?t.length+i:i)>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:f(t,e,i,n,r);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?(r?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(t,e,i):f(t,[e],i,n,r);throw new TypeError("val must be string, number or Buffer")}function f(t,e,i,n,r){var s=1,a=t.length,o=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a/=s=2,o/=2,i/=2}function h(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(r)for(var l=-1,c=i;c<a;c++)if(h(t,c)===h(e,-1===l?0:c-l)){if(c-(l=-1===l?c:l)+1===o)return l*s}else-1!==l&&(c-=c-l),l=-1;else for(c=i=a<i+o?a-o:i;0<=c;c--){for(var u=!0,p=0;p<o;p++)if(h(t,c+p)!==h(e,p)){u=!1;break}if(u)return c}return-1}function m(t,e,i,n){return T(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,n)}function _(t,e,i,n){return T(function(t,e){for(var i,n,r=[],s=0;s<t.length&&!((e-=2)<0);++s)i=t.charCodeAt(s),n=i>>8,r.push(i%256),r.push(n);return r}(e,t.length-i),t,i,n)}function k(t,e,i){i=Math.min(t.length,i);for(var n=[],r=e;r<i;){var s,a,o,h,l=t[r],c=null,u=239<l?4:223<l?3:191<l?2:1;if(r+u<=i)switch(u){case 1:l<128&&(c=l);break;case 2:128==(192&(s=t[r+1]))&&127<(h=(31&l)<<6|63&s)&&(c=h);break;case 3:s=t[r+1],a=t[r+2],128==(192&s)&&128==(192&a)&&2047<(h=(15&l)<<12|(63&s)<<6|63&a)&&(h<55296||57343<h)&&(c=h);break;case 4:s=t[r+1],a=t[r+2],o=t[r+3],128==(192&s)&&128==(192&a)&&128==(192&o)&&65535<(h=(15&l)<<18|(63&s)<<12|(63&a)<<6|63&o)&&h<1114112&&(c=h)}null===c?(c=65533,u=1):65535<c&&(n.push((c-=65536)>>>10&1023|55296),c=56320|1023&c),n.push(c),r+=u}var p=n,d=p.length;if(d<=v)return String.fromCharCode.apply(String,p);for(var f="",g=0;g<d;)f+=String.fromCharCode.apply(String,p.slice(g,g+=v));return f}O.kMaxLength=e,(u.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),u.poolSize=8192,u.from=n,u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,u.alloc=function(t,e,i){return e=e,i=i,r(t=t),!(t<=0)&&void 0!==e?"string"==typeof i?h(t).fill(e,i):h(t).fill(e):h(t)},u.allocUnsafe=a,u.allocUnsafeSlow=a,u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(I(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),I(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var i=t.length,n=e.length,r=0,s=Math.min(i,n);r<s;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);if(void 0===e)for(r=e=0;r<t.length;++r)e+=t[r].length;for(var i=u.allocUnsafe(e),n=0,r=0;r<t.length;++r){var s=t[r];if(I(s,Uint8Array)&&(s=u.from(s)),!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,n),n+=s.length}return i},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)o(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)o(this,e,e+3),o(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)o(this,e,e+7),o(this,e+1,e+6),o(this,e+2,e+5),o(this,e+3,e+4);return this},u.prototype.toLocaleString=u.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?k(this,0,t):i.apply(this,arguments)},u.prototype.equals=function(t){if(u.isBuffer(t))return this===t||0===u.compare(this,t);throw new TypeError("Argument must be a Buffer")},u.prototype.inspect=function(){var t="",e=O.INSPECT_MAX_BYTES,t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim();return this.length>e&&(t+=" ... "),"<Buffer "+t+">"},u.prototype.compare=function(t,e,i,n,r){if(I(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),(e=void 0===e?0:e)<0||i>t.length||n<0||r>this.length)throw new RangeError("out of range index");if(r<=n&&i<=e)return 0;if(r<=n)return-1;if(i<=e)return 1;if(this===t)return 0;for(var s=(r>>>=0)-(n>>>=0),a=(i>>>=0)-(e>>>=0),o=Math.min(s,a),h=this.slice(n,r),l=t.slice(e,i),c=0;c<o;++c)if(h[c]!==l[c]){s=h[c],a=l[c];break}return s<a?-1:a<s?1:0},u.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},u.prototype.indexOf=function(t,e,i){return d(this,t,e,i,!0)},u.prototype.lastIndexOf=function(t,e,i){return d(this,t,e,i,!1)},u.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(i)?(i>>>=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-e;if((void 0===i||r<i)&&(i=r),0<t.length&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n=n||"utf8";for(var s,a,o,h=!1;;)switch(n){case"hex":var l=this,c=t,u=e,p=i,d=(u=Number(u)||0,l.length-u);(!p||d<(p=Number(p)))&&(p=d),(d=c.length)/2<p&&(p=d/2);for(var f=0;f<p;++f){var g=parseInt(c.substr(2*f,2),16);if(P(g))return f;l[u+f]=g}return f;case"utf8":case"utf-8":return d=e,o=i,T(E(t,(a=this).length-d),a,d,o);case"ascii":return m(this,t,e,i);case"latin1":case"binary":return m(this,t,e,i);case"base64":return a=this,o=e,s=i,T(A(t),a,o,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,e,i);default:if(h)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),h=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var v=4096;function g(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(i<t+e)throw new RangeError("Trying to access beyond buffer length")}function y(t,e,i,n,r,s){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r<e||e<s)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function b(t,e,i,n){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function w(t,e,i,n,r){return e=+e,i>>>=0,r||b(t,0,i,4),s.write(t,e,i,n,23,4),i+4}function x(t,e,i,n,r){return e=+e,i>>>=0,r||b(t,0,i,8),s.write(t,e,i,n,52,8),i+8}u.prototype.slice=function(t,e){var i=this.length,i=((t=~~t)<0?(t+=i)<0&&(t=0):i<t&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):i<e&&(e=i),e<t&&(e=t),this.subarray(t,e));return i.__proto__=u.prototype,i},u.prototype.readUIntLE=function(t,e,i){t>>>=0,e>>>=0,i||g(t,e,this.length);for(var n=this[t],r=1,s=0;++s<e&&(r*=256);)n+=this[t+s]*r;return n},u.prototype.readUIntBE=function(t,e,i){t>>>=0,e>>>=0,i||g(t,e,this.length);for(var n=this[t+--e],r=1;0<e&&(r*=256);)n+=this[t+--e]*r;return n},u.prototype.readUInt8=function(t,e){return t>>>=0,e||g(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||g(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||g(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||g(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||g(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,i){t>>>=0,e>>>=0,i||g(t,e,this.length);for(var n=this[t],r=1,s=0;++s<e&&(r*=256);)n+=this[t+s]*r;return(r*=128)<=n&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,i){t>>>=0,e>>>=0,i||g(t,e,this.length);for(var n=e,r=1,s=this[t+--n];0<n&&(r*=256);)s+=this[t+--n]*r;return(r*=128)<=s&&(s-=Math.pow(2,8*e)),s},u.prototype.readInt8=function(t,e){return t>>>=0,e||g(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||g(t,2,this.length);e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},u.prototype.readInt16BE=function(t,e){t>>>=0,e||g(t,2,this.length);e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||g(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||g(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return t>>>=0,e||g(t,4,this.length),s.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||g(t,4,this.length),s.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||g(t,8,this.length),s.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||g(t,8,this.length),s.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,i,n){t=+t,e>>>=0,i>>>=0,n||y(this,t,e,i,Math.pow(2,8*i)-1,0);var r=1,s=0;for(this[e]=255&t;++s<i&&(r*=256);)this[e+s]=t/r&255;return e+i},u.prototype.writeUIntBE=function(t,e,i,n){t=+t,e>>>=0,i>>>=0,n||y(this,t,e,i,Math.pow(2,8*i)-1,0);var r=i-1,s=1;for(this[e+r]=255&t;0<=--r&&(s*=256);)this[e+r]=t/s&255;return e+i},u.prototype.writeUInt8=function(t,e,i){return t=+t,e>>>=0,i||y(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,i){return t=+t,e>>>=0,i||y(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUInt16BE=function(t,e,i){return t=+t,e>>>=0,i||y(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUInt32LE=function(t,e,i){return t=+t,e>>>=0,i||y(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUInt32BE=function(t,e,i){return t=+t,e>>>=0,i||y(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeIntLE=function(t,e,i,n){t=+t,e>>>=0,n||y(this,t,e,i,(n=Math.pow(2,8*i-1))-1,-n);var r=0,s=1,a=0;for(this[e]=255&t;++r<i&&(s*=256);)t<0&&0===a&&0!==this[e+r-1]&&(a=1),this[e+r]=(t/s>>0)-a&255;return e+i},u.prototype.writeIntBE=function(t,e,i,n){t=+t,e>>>=0,n||y(this,t,e,i,(n=Math.pow(2,8*i-1))-1,-n);var r=i-1,s=1,a=0;for(this[e+r]=255&t;0<=--r&&(s*=256);)t<0&&0===a&&0!==this[e+r+1]&&(a=1),this[e+r]=(t/s>>0)-a&255;return e+i},u.prototype.writeInt8=function(t,e,i){return t=+t,e>>>=0,i||y(this,t,e,1,127,-128),this[e]=255&(t=t<0?255+t+1:t),e+1},u.prototype.writeInt16LE=function(t,e,i){return t=+t,e>>>=0,i||y(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,i){return t=+t,e>>>=0,i||y(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,i){return t=+t,e>>>=0,i||y(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,i){return t=+t,e>>>=0,i||y(this,t,e,4,2147483647,-2147483648),this[e]=(t=t<0?4294967295+t+1:t)>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeFloatLE=function(t,e,i){return w(this,t,e,!0,i)},u.prototype.writeFloatBE=function(t,e,i){return w(this,t,e,!1,i)},u.prototype.writeDoubleLE=function(t,e,i){return x(this,t,e,!0,i)},u.prototype.writeDoubleBE=function(t,e,i){return x(this,t,e,!1,i)},u.prototype.copy=function(t,e,i,n){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(i=i||0,n||0===n||(n=this.length),e>=t.length&&(e=t.length),(n=0<n&&n<i?i:n)===i)return 0;if(0===t.length||0===this.length)return 0;if((e=e||0)<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length);var r=(n=t.length-e<n-i?t.length-e+i:n)-i;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,i,n);else if(this===t&&i<e&&e<n)for(var s=r-1;0<=s;--s)t[s+e]=this[s+i];else Uint8Array.prototype.set.call(t,this.subarray(i,n),e);return r},u.prototype.fill=function(t,e,i,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var r;1===t.length&&(r=t.charCodeAt(0),"utf8"===n&&r<128||"latin1"===n)&&(t=r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");var s;if(!(i<=e))if(e>>>=0,i=void 0===i?this.length:i>>>0,"number"==typeof(t=t||0))for(s=e;s<i;++s)this[s]=t;else{var a=u.isBuffer(t)?t:u.from(t,n),o=a.length;if(0===o)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(s=0;s<i-e;++s)this[s+e]=a[s%o]}return this};var S=/[^+/0-9A-Za-z-_]/g;function E(t,e){e=e||1/0;for(var i,n=t.length,r=null,s=[],a=0;a<n;++a){if(55295<(i=t.charCodeAt(a))&&i<57344){if(!r){if(56319<i){-1<(e-=3)&&s.push(239,191,189);continue}if(a+1===n){-1<(e-=3)&&s.push(239,191,189);continue}r=i;continue}if(i<56320){-1<(e-=3)&&s.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&-1<(e-=3)&&s.push(239,191,189);if(r=null,i<128){if(--e<0)break;s.push(i)}else if(i<2048){if((e-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function A(t){return C.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(S,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function T(t,e,i,n){for(var r=0;r<n&&!(r+i>=e.length||r>=t.length);++r)e[r+i]=t[r];return r}function I(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function P(t){return t!=t}}.call(this)}.call(this,L("buffer").Buffer)},{"base64-js":13,buffer:18,ieee754:22}],19:[function(t,e,i){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],20:[function(t,e,i){"use strict";var n="object"==typeof Reflect?Reflect:null,h=n&&"function"==typeof n.apply?n.apply:function(t,e,i){return Function.prototype.apply.call(t,e,i)};var r=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)},s=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(o,h){return new Promise(function(t,e){function i(t){o.removeListener(h,n),e(t)}function n(){"function"==typeof o.removeListener&&o.removeListener("error",i),t([].slice.call(arguments))}var r,s,a;m(o,h,n,{once:!0}),"error"!==h&&(s=i,a={once:!0},"function"==typeof(r=o).on)&&m(r,"error",s,a)})},(a.EventEmitter=a).prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function l(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function u(t,e,i,n){var r,s;return l(i),void 0===(r=t._events)?(r=t._events=Object.create(null),t._eventsCount=0):(void 0!==r.newListener&&(t.emit("newListener",e,i.listener||i),r=t._events),s=r[e]),void 0===s?(s=r[e]=i,++t._eventsCount):("function"==typeof s?s=r[e]=n?[i,s]:[s,i]:n?s.unshift(i):s.push(i),0<(r=c(t))&&s.length>r&&!s.warned&&(s.warned=!0,(n=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",n.emitter=t,n.type=e,n.count=s.length,i=n,console)&&console.warn&&console.warn(i)),t}function p(t,e,i){t={fired:!1,wrapFn:void 0,target:t,type:e,listener:i},e=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(t);return e.listener=i,t.wrapFn=e}function d(t,e,i){t=t._events;if(void 0===t)return[];t=t[e];if(void 0===t)return[];if("function"==typeof t)return i?[t.listener||t]:[t];if(i){for(var n=t,r=new Array(n.length),s=0;s<r.length;++s)r[s]=n[s].listener||n[s];return r}return g(t,t.length)}function f(t){var e=this._events;if(void 0!==e){e=e[t];if("function"==typeof e)return 1;if(void 0!==e)return e.length}return 0}function g(t,e){for(var i=new Array(e),n=0;n<e;++n)i[n]=t[n];return i}function m(i,n,r,s){if("function"==typeof i.on)s.once?i.once(n,r):i.on(n,r);else{if("function"!=typeof i.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof i);i.addEventListener(n,function t(e){s.once&&i.removeEventListener(n,t),r(e)})}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");o=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);var n="error"===t,r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){if((s=0<e.length?e[0]:s)instanceof Error)throw s;n=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw n.context=s,n}var s=r[t];if(void 0===s)return!1;if("function"==typeof s)h(s,this,e);else for(var a=s.length,o=g(s,a),i=0;i<a;++i)h(o[i],this,e);return!0},a.prototype.on=a.prototype.addListener=function(t,e){return u(this,t,e,!1)},a.prototype.prependListener=function(t,e){return u(this,t,e,!0)},a.prototype.once=function(t,e){return l(e),this.on(t,p(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return l(e),this.prependListener(t,p(this,t,e)),this},a.prototype.off=a.prototype.removeListener=function(t,e){var i,n,r,s,a;if(l(e),void 0!==(n=this._events)&&void 0!==(i=n[t]))if(i===e||i.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,i.listener||e));else if("function"!=typeof i){for(r=-1,s=i.length-1;0<=s;s--)if(i[s]===e||i[s].listener===e){a=i[s].listener,r=s;break}if(r<0)return this;if(0===r)i.shift();else{for(var o=i,h=r;h+1<o.length;h++)o[h]=o[h+1];o.pop()}1===i.length&&(n[t]=i[0]),void 0!==n.removeListener&&this.emit("removeListener",t,a||e)}return this},a.prototype.removeAllListeners=function(t){var e,i=this._events;if(void 0!==i)if(void 0===i.removeListener)0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[t]);else if(0===arguments.length){for(var n,r=Object.keys(i),s=0;s<r.length;++s)"removeListener"!==(n=r[s])&&this.removeAllListeners(n);this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0}else if("function"==typeof(e=i[t]))this.removeListener(t,e);else if(void 0!==e)for(s=e.length-1;0<=s;s--)this.removeListener(t,e[s]);return this},a.prototype.listeners=function(t){return d(this,t,!0)},a.prototype.rawListeners=function(t){return d(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):f.call(t,e)},a.prototype.listenerCount=f,a.prototype.eventNames=function(){return 0<this._eventsCount?r(this._events):[]}},{}],21:[function(t,e,i){var n,r=t("http"),s=t("url"),a=e.exports;for(n in r)r.hasOwnProperty(n)&&(a[n]=r[n]);function o(t){if((t="string"==typeof t?s.parse(t):t).protocol||(t.protocol="https:"),"https:"!==t.protocol)throw new Error('Protocol "'+t.protocol+'" not supported. Expected "https:"');return t}a.request=function(t,e){return t=o(t),r.request.call(this,t,e)},a.get=function(t,e){return t=o(t),r.get.call(this,t,e)}},{http:30,url:50}],22:[function(t,e,i){i.read=function(t,e,i,n,r){var s,a,o=8*r-n-1,h=(1<<o)-1,l=h>>1,c=-7,u=i?r-1:0,p=i?-1:1,r=t[e+u];for(u+=p,s=r&(1<<-c)-1,r>>=-c,c+=o;0<c;s=256*s+t[e+u],u+=p,c-=8);for(a=s&(1<<-c)-1,s>>=-c,c+=n;0<c;a=256*a+t[e+u],u+=p,c-=8);if(0===s)s=1-l;else{if(s===h)return a?NaN:1/0*(r?-1:1);a+=Math.pow(2,n),s-=l}return(r?-1:1)*a*Math.pow(2,s-n)},i.write=function(t,e,i,n,r,s){var a,o,h=8*s-r-1,l=(1<<h)-1,c=l>>1,u=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,d=n?1:-1,s=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(n=Math.pow(2,-a))<1&&(a--,n*=2),2<=(e+=1<=a+c?u/n:u*Math.pow(2,1-c))*n&&(a++,n/=2),l<=a+c?(o=0,a=l):1<=a+c?(o=(e*n-1)*Math.pow(2,r),a+=c):(o=e*Math.pow(2,c-1)*Math.pow(2,r),a=0));8<=r;t[i+p]=255&o,p+=d,o/=256,r-=8);for(a=a<<r|o,h+=r;0<h;t[i+p]=255&a,p+=d,a/=256,h-=8);t[i+p-d]|=128*s}},{}],23:[function(t,e,i){"function"==typeof Object.create?e.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,e){var i;e&&(t.super_=e,(i=function(){}).prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t)}},{}],24:[function(t,e,i){arguments[4][7][0].apply(i,arguments)},{"./node/extend.js":15,"./node/self.js":15,acorn:12,dup:7}],25:[function(t,e,i){var n,r,e=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}function o(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return(n=setTimeout)(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}var h,l=[],c=!1,u=-1;function p(){c&&h&&(c=!1,h.length?l=h.concat(l):u=-1,l.length)&&d()}function d(){if(!c){for(var t=o(p),e=(c=!0,l.length);e;){for(h=l,l=[];++u<e;)h&&h[u].run();u=-1,e=l.length}h=null,c=!1,!function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return(r=clearTimeout)(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function g(){}e.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];l.push(new f(t,e)),1!==l.length||c||o(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=g,e.addListener=g,e.once=g,e.off=g,e.removeListener=g,e.removeAllListeners=g,e.emit=g,e.prependListener=g,e.prependOnceListener=g,e.listeners=function(t){return[]},e.binding=function(t){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(t){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},{}],26:[function(t,e,i){"use strict";e.exports=function(t,e,i,n){e=e||"&",i=i||"=";var r={};if("string"==typeof t&&0!==t.length){var s=/\+/g,e=(t=t.split(e),1e3),a=(n&&"number"==typeof n.maxKeys&&(e=n.maxKeys),t.length);0<e&&e<a&&(a=e);for(var o=0;o<a;++o){var h,l=t[o].replace(s,"%20"),c=l.indexOf(i),c=0<=c?(h=l.substr(0,c),l.substr(c+1)):(h=l,""),l=decodeURIComponent(h),c=decodeURIComponent(c);Object.prototype.hasOwnProperty.call(r,l)?u(r[l])?r[l].push(c):r[l]=[r[l],c]:r[l]=c}}return r};var u=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],27:[function(t,e,i){"use strict";function s(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}e.exports=function(i,n,r,t){return n=n||"&",r=r||"=","object"==typeof(i=null===i?void 0:i)?o(h(i),function(t){var e=encodeURIComponent(s(t))+r;return a(i[t])?o(i[t],function(t){return e+encodeURIComponent(s(t))}).join(n):e+encodeURIComponent(s(i[t]))}).join(n):t?encodeURIComponent(s(t))+r+encodeURIComponent(s(i)):""};var a=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var i=[],n=0;n<t.length;n++)i.push(e(t[n],n));return i}var h=Object.keys||function(t){var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i}},{}],28:[function(t,e,i){"use strict";i.decode=i.parse=t("./decode"),i.encode=i.stringify=t("./encode")},{"./decode":26,"./encode":27}],29:[function(t,e,i){var n=t("buffer"),r=n.Buffer;function s(t,e){for(var i in t)e[i]=t[i]}function a(t,e,i){return r(t,e,i)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(s(n,i),i.Buffer=a),a.prototype=Object.create(r.prototype),s(r,a),a.from=function(t,e,i){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,i)},a.alloc=function(t,e,i){if("number"!=typeof t)throw new TypeError("Argument must be a number");t=r(t);return void 0!==e?"string"==typeof i?t.fill(e,i):t.fill(e):t.fill(0),t},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},{buffer:18}],30:[function(n,t,r){!function(l){!function(){var a=n("./lib/request"),t=n("./lib/response"),o=n("xtend"),e=n("builtin-status-codes"),h=n("url"),i=r;i.request=function(t,e){t="string"==typeof t?h.parse(t):o(t);var i=-1===l.location.protocol.search(/^https?:$/)?"http:":"",i=t.protocol||i,n=t.hostname||t.host,r=t.port,s=t.path||"/",i=(n&&-1!==n.indexOf(":")&&(n="["+n+"]"),t.url=(n?i+"//"+n:"")+(r?":"+r:"")+s,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{},new a(t));return e&&i.on("response",e),i},i.get=function(t,e){t=i.request(t,e);return t.end(),t},i.ClientRequest=a,i.IncomingMessage=t.IncomingMessage,i.Agent=function(){},i.Agent.defaultMaxSockets=4,i.globalAgent=new i.Agent,i.STATUS_CODES=e,i.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/request":32,"./lib/response":33,"builtin-status-codes":19,url:50,xtend:53}],31:[function(t,e,s){!function(r){!function(){var e;function i(){if(void 0===e)if(r.XMLHttpRequest){e=new r.XMLHttpRequest;try{e.open("GET",r.XDomainRequest?"/":"https://example.com")}catch(t){e=null}}else e=null;return e}function t(t){var e=i();if(e)try{return e.responseType=t,e.responseType===t}catch(t){}return!1}function n(t){return"function"==typeof t}s.fetch=n(r.fetch)&&n(r.ReadableStream),s.writableStream=n(r.WritableStream),s.abortController=n(r.AbortController),s.arraybuffer=s.fetch||t("arraybuffer"),s.msstream=!s.fetch&&t("ms-stream"),s.mozchunkedarraybuffer=!s.fetch&&t("moz-chunked-arraybuffer"),s.overrideMimeType=s.fetch||!!i()&&n(i().overrideMimeType),e=null}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],32:[function(a,o,t){!function(c,u,s){!function(){var h=a("./capability"),t=a("inherits"),e=a("./response"),r=a("readable-stream"),i=e.IncomingMessage,l=e.readyStates;e=o.exports=function(e){var t,i=this,n=(r.Writable.call(i),i._opts=e,i._body=[],i._headers={},e.auth&&i.setHeader("Authorization","Basic "+s.from(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(t){i.setHeader(t,e.headers[t])}),!0);if("disable-fetch"===e.mode||"requestTimeout"in e&&!h.abortController)t=!(n=!1);else if("prefer-streaming"===e.mode)t=!1;else if("allow-wrong-content-type"===e.mode)t=!h.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");t=!0}i._mode=(t=t,n=n,h.fetch&&n?"fetch":h.mozchunkedarraybuffer?"moz-chunked-arraybuffer":h.msstream?"ms-stream":h.arraybuffer&&t?"arraybuffer":"text"),i._fetchTimer=null,i._socketTimeout=null,i._socketTimer=null,i.on("finish",function(){i._onFinish()})};t(e,r.Writable),e.prototype.setHeader=function(t,e){var i=t.toLowerCase();-1===n.indexOf(i)&&(this._headers[i]={name:t,value:e})},e.prototype.getHeader=function(t){t=this._headers[t.toLowerCase()];return t?t.value:null},e.prototype.removeHeader=function(t){delete this._headers[t.toLowerCase()]},e.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts,i=("timeout"in t&&0!==t.timeout&&e.setTimeout(t.timeout),e._headers),n=null,r=("GET"!==t.method&&"HEAD"!==t.method&&(n=new Blob(e._body,{type:(i["content-type"]||{}).value||""})),[]);if(Object.keys(i).forEach(function(t){var e=i[t].name,t=i[t].value;Array.isArray(t)?t.forEach(function(t){r.push([e,t])}):r.push([e,t])}),"fetch"===e._mode){var s,a=null;h.abortController&&(a=(s=new AbortController).signal,e._fetchAbortController=s,"requestTimeout"in t)&&0!==t.requestTimeout&&(e._fetchTimer=u.setTimeout(function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()},t.requestTimeout)),u.fetch(e._opts.url,{method:e._opts.method,headers:r,body:n||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:a}).then(function(t){e._fetchResponse=t,e._resetTimers(!1),e._connect()},function(t){e._resetTimers(!0),e._destroyed||e.emit("error",t)})}else{var o=e._xhr=new u.XMLHttpRequest;try{o.open(e._opts.method,e._opts.url,!0)}catch(t){return void c.nextTick(function(){e.emit("error",t)})}"responseType"in o&&(o.responseType=e._mode),"withCredentials"in o&&(o.withCredentials=!!t.withCredentials),"text"===e._mode&&"overrideMimeType"in o&&o.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(o.timeout=t.requestTimeout,o.ontimeout=function(){e.emit("requestTimeout")}),r.forEach(function(t){o.setRequestHeader(t[0],t[1])}),e._response=null,o.onreadystatechange=function(){switch(o.readyState){case l.LOADING:case l.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(o.onprogress=function(){e._onXHRProgress()}),o.onerror=function(){e._destroyed||(e._resetTimers(!0),e.emit("error",new Error("XHR error")))};try{o.send(n)}catch(t){c.nextTick(function(){e.emit("error",t)})}}}},e.prototype._onXHRProgress=function(){this._resetTimers(!1),function(t){try{var e=t.status;return null!==e&&0!==e}catch(t){}}(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress(this._resetTimers.bind(this)))},e.prototype._connect=function(){var e=this;e._destroyed||(e._response=new i(e._xhr,e._fetchResponse,e._mode,e._resetTimers.bind(e)),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},e.prototype._write=function(t,e,i){this._body.push(t),i()},e.prototype._resetTimers=function(t){var e=this;u.clearTimeout(e._socketTimer),e._socketTimer=null,t?(u.clearTimeout(e._fetchTimer),e._fetchTimer=null):e._socketTimeout&&(e._socketTimer=u.setTimeout(function(){e.emit("timeout")},e._socketTimeout))},e.prototype.abort=e.prototype.destroy=function(t){this._destroyed=!0,this._resetTimers(!0),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort(),t&&this.emit("error",t)},e.prototype.end=function(t,e,i){"function"==typeof t&&(i=t,t=void 0),r.Writable.prototype.end.call(this,t,e,i)},e.prototype.setTimeout=function(t,e){e&&this.once("timeout",e),this._socketTimeout=t,this._resetTimers(!1)},e.prototype.flushHeaders=function(){},e.prototype.setNoDelay=function(){},e.prototype.setSocketKeepAlive=function(){};var n=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}.call(this)}.call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},a("buffer").Buffer)},{"./capability":31,"./response":33,_process:25,buffer:18,inherits:23,"readable-stream":48}],33:[function(i,t,n){!function(l,c,u){!function(){var a=i("./capability"),t=i("inherits"),o=i("readable-stream"),h=n.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},e=n.IncomingMessage=function(t,e,i,n){var r=this;if(o.Readable.call(r),r._mode=i,r.headers={},r.rawHeaders=[],r.trailers={},r.rawTrailers=[],r.on("end",function(){l.nextTick(function(){r.emit("close")})}),"fetch"===i){if(r._fetchResponse=e,r.url=e.url,r.statusCode=e.status,r.statusMessage=e.statusText,e.headers.forEach(function(t,e){r.headers[e.toLowerCase()]=t,r.rawHeaders.push(e,t)}),a.writableStream){var i=new WritableStream({write:function(i){return n(!1),new Promise(function(t,e){r._destroyed?e():r.push(u.from(i))?t():r._resumeFetch=t})},close:function(){n(!0),r._destroyed||r.push(null)},abort:function(t){n(!0),r._destroyed||r.emit("error",t)}});try{return void e.body.pipeTo(i).catch(function(t){n(!0),r._destroyed||r.emit("error",t)})}catch(t){}}var s=e.body.getReader();!function e(){s.read().then(function(t){r._destroyed||(n(t.done),t.done?r.push(null):(r.push(u.from(t.value)),e()))}).catch(function(t){n(!0),r._destroyed||r.emit("error",t)})}()}else r._xhr=t,r._pos=0,r.url=t.responseURL,r.statusCode=t.status,r.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach(function(t){var e,t=t.match(/^([^:]+):\s*(.*)/);t&&("set-cookie"===(e=t[1].toLowerCase())?(void 0===r.headers[e]&&(r.headers[e]=[]),r.headers[e].push(t[2])):void 0!==r.headers[e]?r.headers[e]+=", "+t[2]:r.headers[e]=t[2],r.rawHeaders.push(t[1],t[2]))}),r._charset="x-user-defined",a.overrideMimeType||((i=r.rawHeaders["mime-type"])&&(e=i.match(/;\s*charset=([^;])(;|$)/))&&(r._charset=e[1].toLowerCase()),r._charset)||(r._charset="utf-8")};t(e,o.Readable),e.prototype._read=function(){var t=this._resumeFetch;t&&(this._resumeFetch=null,t())},e.prototype._onXHRProgress=function(t){var e=this,i=e._xhr,n=null;switch(e._mode){case"text":if((n=i.responseText).length>e._pos){var r=n.substr(e._pos);if("x-user-defined"===e._charset){for(var s=u.alloc(r.length),a=0;a<r.length;a++)s[a]=255&r.charCodeAt(a);e.push(s)}else e.push(r,e._charset);e._pos=n.length}break;case"arraybuffer":i.readyState===h.DONE&&i.response&&(n=i.response,e.push(u.from(new Uint8Array(n))));break;case"moz-chunked-arraybuffer":n=i.response,i.readyState===h.LOADING&&n&&e.push(u.from(new Uint8Array(n)));break;case"ms-stream":var o,n=i.response;i.readyState===h.LOADING&&((o=new c.MSStreamReader).onprogress=function(){o.result.byteLength>e._pos&&(e.push(u.from(new Uint8Array(o.result.slice(e._pos)))),e._pos=o.result.byteLength)},o.onload=function(){t(!0),e.push(null)},o.readAsArrayBuffer(n))}e._xhr.readyState===h.DONE&&"ms-stream"!==e._mode&&(t(!0),e.push(null))}}.call(this)}.call(this,i("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},i("buffer").Buffer)},{"./capability":31,_process:25,buffer:18,inherits:23,"readable-stream":48}],34:[function(t,e,i){"use strict";var n={};function r(t,r,e){var i=function(n){var t,e;function i(t,e,i){return n.call(this,(t=t,e=e,i=i,"string"==typeof r?r:r(t,e,i)))||this}return e=n,(t=i).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e,i}(e=e||Error);i.prototype.name=e.name,i.prototype.code=t,n[t]=i}function h(t,e){var i;return Array.isArray(t)?(i=t.length,t=t.map(function(t){return String(t)}),2<i?"one of ".concat(e," ").concat(t.slice(0,i-1).join(", "),", or ")+t[i-1]:2===i?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])):"of ".concat(e," ").concat(String(t))}r("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(t,e,i){var n,r,s,a,o;return"string"==typeof e&&(a="not ",e.substr(!s||s<0?0:+s,a.length)===a)?(n="must not be",e=e.replace(/^not /,"")):n="must be",s=t,a=" argument",(void 0===o||o>s.length)&&(o=s.length),s=(s.substring(o-a.length,o)===a?"The ".concat(t," "):(o=(r="number"!=typeof r?0:r)+(s=".").length>(o=t).length||-1===o.indexOf(s,r)?"argument":"property",'The "'.concat(t,'" ').concat(o," "))).concat(n," ").concat(h(e,"type")),s+=". Received type ".concat(typeof i)},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=n},{}],35:[function(c,u,t){!function(l){!function(){"use strict";var t=Object.keys||function(t){var e,i=[];for(e in t)i.push(e);return i},e=(u.exports=a,c("./_stream_readable")),i=c("./_stream_writable");c("inherits")(a,e);for(var n=t(i.prototype),r=0;r<n.length;r++){var s=n[r];a.prototype[s]||(a.prototype[s]=i.prototype[s])}function a(t){if(!(this instanceof a))return new a(t);e.call(this,t),i.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen)&&(this.allowHalfOpen=!1,this.once("end",o))}function o(){this._writableState.ended||l.nextTick(h,this)}function h(t){t.end()}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}.call(this)}.call(this,c("_process"))},{"./_stream_readable":37,"./_stream_writable":39,_process:25,inherits:23}],36:[function(t,e,i){"use strict";e.exports=r;var n=t("./_stream_transform");function r(t){if(!(this instanceof r))return new r(t);n.call(this,t)}t("inherits")(r,n),r.prototype._transform=function(t,e,i){i(null,t)}},{"./_stream_transform":38,inherits:23}],37:[function(j,F,t){!function(B,V){!function(){"use strict";function f(t,e){return t.listeners(e).length}(F.exports=b).ReadableState=y,j("events").EventEmitter;var n,r=j("./internal/streams/stream"),c=j("buffer").Buffer,u=V.Uint8Array||function(){};var s,t,i,e=j("util"),g=e&&e.debuglog?e.debuglog("stream"):function(){},a=j("./internal/streams/buffer_list"),e=j("./internal/streams/destroy"),o=j("./internal/streams/state").getHighWaterMark,h=j("../errors").codes,p=h.ERR_INVALID_ARG_TYPE,d=h.ERR_STREAM_PUSH_AFTER_EOF,l=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,_=(j("inherits")(b,r),e.errorOrDestroy),v=["error","close","destroy","pause","resume"];function y(t,e,i){n=n||j("./_stream_duplex"),t=t||{},"boolean"!=typeof i&&(i=e instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=o(this,t,"readableHighWaterMark",i),this.buffer=new a,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(s=s||j("string_decoder/").StringDecoder,this.decoder=new s(t.encoding),this.encoding=t.encoding)}function b(t){if(n=n||j("./_stream_duplex"),!(this instanceof b))return new b(t);var e=this instanceof n;this._readableState=new y(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy)&&(this._destroy=t.destroy),r.call(this)}function w(t,e,i,n,r){g("readableAddChunk",e);var s,a,o,h,l=t._readableState;if(null===e)l.reading=!1,a=t,o=l,g("onEofChunk"),o.ended||(o.decoder&&(h=o.decoder.end())&&h.length&&(o.buffer.push(h),o.length+=o.objectMode?1:h.length),o.ended=!0,o.sync?k(a):(o.needReadable=!1,o.emittedReadable||(o.emittedReadable=!0,E(a))));else if(s=r?s:function(t,e){var i;!function(t){return c.isBuffer(t)||t instanceof u}(e)&&"string"!=typeof e&&void 0!==e&&!t.objectMode&&(i=new p("chunk",["string","Buffer","Uint8Array"],e));return i}(l,e))_(t,s);else if(l.objectMode||e&&0<e.length)if("string"==typeof e||l.objectMode||Object.getPrototypeOf(e)===c.prototype||(h=e,e=c.from(h)),n)l.endEmitted?_(t,new m):x(t,l,e,!0);else if(l.ended)_(t,new d);else{if(l.destroyed)return!1;l.reading=!1,!l.decoder||i||(e=l.decoder.write(e),l.objectMode)||0!==e.length?x(t,l,e,!1):A(t,l)}else n||(l.reading=!1,A(t,l));return!l.ended&&(l.length<l.highWaterMark||0===l.length)}function x(t,e,i,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",i)):(e.length+=e.objectMode?1:i.length,n?e.buffer.unshift(i):e.buffer.push(i),e.needReadable&&k(t)),A(t,e)}Object.defineProperty(b.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=e.destroy,b.prototype._undestroy=e.undestroy,b.prototype._destroy=function(t,e){e(t)},b.prototype.push=function(t,e){var i,n=this._readableState;return n.objectMode?i=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=c.from(t,e),e=""),i=!0),w(this,t,e,!1,i)},b.prototype.unshift=function(t){return w(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){for(var e=new(s=s||j("string_decoder/").StringDecoder)(t),i=(this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding,this._readableState.buffer.head),n="";null!==i;)n+=e.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var S=1073741824;function C(t,e){var i;return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?(e.flowing&&e.length?e.buffer.head.data:e).length:(t>e.highWaterMark&&(e.highWaterMark=(S<=(i=t)?i=S:(i--,i=(i=(i=(i=(i|=i>>>1)|i>>>2)|i>>>4)|i>>>8)|i>>>16,i++),i)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function k(t){var e=t._readableState;g("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(g("emitReadable",e.flowing),e.emittedReadable=!0,B.nextTick(E,t))}function E(t){var e=t._readableState;g("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,O(t)}function A(t,e){e.readingMore||(e.readingMore=!0,B.nextTick(T,t,e))}function T(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var i=e.length;if(g("maybeReadMore read 0"),t.read(0),i===e.length)break}e.readingMore=!1}function I(t){var e=t._readableState;e.readableListening=0<t.listenerCount("readable"),e.resumeScheduled&&!e.paused?e.flowing=!0:0<t.listenerCount("data")&&t.resume()}function P(t){g("readable nexttick read 0"),t.read(0)}function L(t,e){g("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),O(t),e.flowing&&!e.reading&&t.read(0)}function O(t){var e=t._readableState;for(g("flow",e.flowing);e.flowing&&null!==t.read(););}function N(t,e){var i;return 0===e.length?null:(e.objectMode?i=e.buffer.shift():!t||t>=e.length?(i=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):i=e.buffer.consume(t,e.decoder),i)}function M(t){var e=t._readableState;g("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,B.nextTick(D,e,t))}function D(t,e){g("endReadableNT",t.endEmitted,t.length),t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy&&(!(t=e._writableState)||t.autoDestroy&&t.finished)&&e.destroy())}function R(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1}b.prototype.read=function(t){g("read",t),t=parseInt(t,10);var e,i=this._readableState,n=t;return 0!==t&&(i.emittedReadable=!1),0===t&&i.needReadable&&((0!==i.highWaterMark?i.length>=i.highWaterMark:0<i.length)||i.ended)?(g("read: emitReadable",i.length,i.ended),(0===i.length&&i.ended?M:k)(this),null):0===(t=C(t,i))&&i.ended?(0===i.length&&M(this),null):(e=i.needReadable,g("need readable",e),(0===i.length||i.length-t<i.highWaterMark)&&g("length less than watermark",e=!0),i.ended||i.reading?g("reading or ended",e=!1):e&&(g("do read"),i.reading=!0,i.sync=!0,0===i.length&&(i.needReadable=!0),this._read(i.highWaterMark),i.sync=!1,i.reading||(t=C(n,i))),null===(e=0<t?N(t,i):null)?(i.needReadable=i.length<=i.highWaterMark,t=0):(i.length-=t,i.awaitDrain=0),0===i.length&&(i.ended||(i.needReadable=!0),n!==t)&&i.ended&&M(this),null!==e&&this.emit("data",e),e)},b.prototype._read=function(t){_(this,new l("_read()"))},b.prototype.pipe=function(i,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=i;break;case 1:r.pipes=[r.pipes,i];break;default:r.pipes.push(i)}r.pipesCount+=1,g("pipe count=%d opts=%j",r.pipesCount,t);t=(!t||!1!==t.end)&&i!==B.stdout&&i!==B.stderr?a:d;function s(t,e){g("onunpipe"),t===n&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,g("cleanup"),i.removeListener("close",u),i.removeListener("finish",p),i.removeListener("drain",o),i.removeListener("error",c),i.removeListener("unpipe",s),n.removeListener("end",a),n.removeListener("end",d),n.removeListener("data",l),h=!0,!r.awaitDrain||i._writableState&&!i._writableState.needDrain||o())}function a(){g("onend"),i.end()}r.endEmitted?B.nextTick(t):n.once("end",t),i.on("unpipe",s);e=n;var e,o=function(){var t=e._readableState;g("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&f(e,"data")&&(t.flowing=!0,O(e))},h=(i.on("drain",o),!1);function l(t){g("ondata");t=i.write(t);g("dest.write",t),!1===t&&((1===r.pipesCount&&r.pipes===i||1<r.pipesCount&&-1!==R(r.pipes,i))&&!h&&(g("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function c(t){g("onerror",t),d(),i.removeListener("error",c),0===f(i,"error")&&_(i,t)}function u(){i.removeListener("finish",p),d()}function p(){g("onfinish"),i.removeListener("close",u),d()}function d(){g("unpipe"),n.unpipe(i)}return n.on("data",l),function(t,e,i){if("function"==typeof t.prependListener)return t.prependListener(e,i);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(i):t._events[e]=[i,t._events[e]]:t.on(e,i)}(i,"error",c),i.once("close",u),i.once("finish",p),i.emit("pipe",n),r.flowing||(g("pipe resume"),n.resume()),i},b.prototype.unpipe=function(t){var e=this._readableState,i={hasUnpiped:!1};if(0!==e.pipesCount)if(1===e.pipesCount)t&&t!==e.pipes||(t=t||e.pipes,e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,i));else if(t){var n=R(e.pipes,t);-1!==n&&(e.pipes.splice(n,1),--e.pipesCount,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,i))}else{var r=e.pipes,s=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var a=0;a<s;a++)r[a].emit("unpipe",this,{hasUnpiped:!1})}return this},b.prototype.addListener=b.prototype.on=function(t,e){var e=r.prototype.on.call(this,t,e),i=this._readableState;return"data"===t?(i.readableListening=0<this.listenerCount("readable"),!1!==i.flowing&&this.resume()):"readable"!==t||i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,g("on readable",i.length,i.reading),i.length?k(this):i.reading||B.nextTick(P,this)),e},b.prototype.removeListener=function(t,e){e=r.prototype.removeListener.call(this,t,e);return"readable"===t&&B.nextTick(I,this),e},b.prototype.removeAllListeners=function(t){var e=r.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||B.nextTick(I,this),e},b.prototype.resume=function(){var t,e,i=this._readableState;return i.flowing||(g("resume"),i.flowing=!i.readableListening,t=this,(e=i).resumeScheduled)||(e.resumeScheduled=!0,B.nextTick(L,t,e)),i.paused=!1,this},b.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},b.prototype.wrap=function(e){var t,i=this,n=this._readableState,r=!1;for(t in e.on("end",function(){var t;g("wrapped end"),n.decoder&&!n.ended&&(t=n.decoder.end())&&t.length&&i.push(t),i.push(null)}),e.on("data",function(t){g("wrapped data"),n.decoder&&(t=n.decoder.write(t)),n.objectMode&&null==t||(n.objectMode||t&&t.length)&&!i.push(t)&&(r=!0,e.pause())}),e)void 0===this[t]&&"function"==typeof e[t]&&(this[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t));for(var s=0;s<v.length;s++)e.on(v[s],this.emit.bind(this,v[s]));return this._read=function(t){g("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(b.prototype[Symbol.asyncIterator]=function(){return(t=void 0===t?j("./internal/streams/async_iterator"):t)(this)}),Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(b.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(b.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),b._fromList=N,Object.defineProperty(b.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(b.from=function(t,e){return(i=void 0===i?j("./internal/streams/from"):i)(b,t,e)})}.call(this)}.call(this,j("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":34,"./_stream_duplex":35,"./internal/streams/async_iterator":40,"./internal/streams/buffer_list":41,"./internal/streams/destroy":42,"./internal/streams/from":44,"./internal/streams/state":46,"./internal/streams/stream":47,_process:25,buffer:18,events:20,inherits:23,"string_decoder/":49,util:15}],38:[function(t,e,i){"use strict";e.exports=h;var e=t("../errors").codes,n=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,s=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=e.ERR_TRANSFORM_WITH_LENGTH_0,o=t("./_stream_duplex");function h(t){if(!(this instanceof h))return new h(t);o.call(this,t),this._transformState={afterTransform:function(t,e){var i=this._transformState,n=(i.transforming=!1,i.writecb);if(null===n)return this.emit("error",new r);i.writechunk=null,(i.writecb=null)!=e&&this.push(e),n(t),(i=this._readableState).reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush)&&(this._flush=t.flush),this.on("prefinish",l)}function l(){var i=this;"function"!=typeof this._flush||this._readableState.destroyed?c(this,null,null):this._flush(function(t,e){c(i,t,e)})}function c(t,e,i){if(e)return t.emit("error",e);if(null!=i&&t.push(i),t._writableState.length)throw new a;if(t._transformState.transforming)throw new s;t.push(null)}t("inherits")(h,o),h.prototype.push=function(t,e){return this._transformState.needTransform=!1,o.prototype.push.call(this,t,e)},h.prototype._transform=function(t,e,i){i(new n("_transform()"))},h.prototype._write=function(t,e,i){var n=this._transformState;n.writecb=i,n.writechunk=t,n.writeencoding=e,!n.transforming&&(i=this._readableState,n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)},h.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},h.prototype._destroy=function(t,e){o.prototype._destroy.call(this,t,function(t){e(t)})}},{"../errors":34,"./_stream_duplex":35,inherits:23}],39:[function(P,L,t){!function(T,I){!function(){"use strict";function u(s){var a=this;this.next=null,this.entry=null,this.finish=function(){var t=a,e=s,i=void 0,n=t.entry;for(t.entry=null;n;){var r=n.callback;e.pendingcb--,r(i),n=n.next}e.corkedRequestsFree.next=t}}(L.exports=w).WritableState=b;var i,t={deprecate:P("util-deprecate")},n=P("./internal/streams/stream"),l=P("buffer").Buffer,c=I.Uint8Array||function(){};var r,e=P("./internal/streams/destroy"),s=P("./internal/streams/state").getHighWaterMark,a=P("../errors").codes,p=a.ERR_INVALID_ARG_TYPE,o=a.ERR_METHOD_NOT_IMPLEMENTED,d=a.ERR_MULTIPLE_CALLBACK,h=a.ERR_STREAM_CANNOT_PIPE,f=a.ERR_STREAM_DESTROYED,g=a.ERR_STREAM_NULL_VALUES,m=a.ERR_STREAM_WRITE_AFTER_END,_=a.ERR_UNKNOWN_ENCODING,v=e.errorOrDestroy;function y(){}function b(t,c,e){i=i||P("./_stream_duplex"),t=t||{},"boolean"!=typeof e&&(e=c instanceof i),this.objectMode=!!t.objectMode,e&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=s(this,t,"writableHighWaterMark",e),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;e=(this.destroyed=!1)===t.decodeStrings;this.decodeStrings=!e,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){var e=c,i=e._writableState,n=i.sync,r=i.writecb;if("function"!=typeof r)throw new d;var s,a,o,h,l=i;l.writing=!1,l.writecb=null,l.length-=l.writelen,l.writelen=0,t?(l=e,a=n,o=t,h=r,--(s=i).pendingcb,a?(T.nextTick(h,o),T.nextTick(A,l,s),l._writableState.errorEmitted=!0,v(l,o)):(h(o),l._writableState.errorEmitted=!0,v(l,o),A(l,s))):((t=k(i)||e.destroyed)||i.corked||i.bufferProcessing||!i.bufferedRequest||C(e,i),n?T.nextTick(S,e,i,t,r):S(e,i,t,r))},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}P("inherits")(w,n),b.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e};try{Object.defineProperty(b.prototype,"buffer",{get:t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}function w(t){var e=this instanceof(i=i||P("./_stream_duplex"));if(!e&&!r.call(w,this))return new w(t);this._writableState=new b(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final)&&(this._final=t.final),n.call(this)}function x(t,e,i,n,r,s,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new f("write")):i?t._writev(r,e.onwrite):t._write(r,s,e.onwrite),e.sync=!1}function S(t,e,i,n){var r;i||(i=t,0===(r=e).length&&r.needDrain&&(r.needDrain=!1,i.emit("drain"))),e.pendingcb--,n(),A(t,e)}function C(t,e){e.bufferProcessing=!0;var i=e.bufferedRequest;if(t._writev&&i&&i.next){for(var n=e.bufferedRequestCount,r=new Array(n),n=e.corkedRequestsFree,s=(n.entry=i,0),a=!0;i;)(r[s]=i).isBuf||(a=!1),i=i.next,s+=1;r.allBuffers=a,x(t,e,!0,e.length,r,"",n.finish),e.pendingcb++,e.lastBufferedRequest=null,n.next?(e.corkedRequestsFree=n.next,n.next=null):e.corkedRequestsFree=new u(e),e.bufferedRequestCount=0}else{for(;i;){var o=i.chunk,h=i.encoding,l=i.callback;if(x(t,e,!1,e.objectMode?1:o.length,o,h,l),i=i.next,e.bufferedRequestCount--,e.writing)break}null===i&&(e.lastBufferedRequest=null)}e.bufferedRequest=i,e.bufferProcessing=!1}function k(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function E(e,i){e._final(function(t){i.pendingcb--,t&&v(e,t),i.prefinished=!0,e.emit("prefinish"),A(e,i)})}function A(t,e){var i,n,r=k(e);return r&&(i=t,(n=e).prefinished||n.finalCalled||("function"!=typeof i._final||n.destroyed?(n.prefinished=!0,i.emit("prefinish")):(n.pendingcb++,n.finalCalled=!0,T.nextTick(E,i,n))),0===e.pendingcb)&&(e.finished=!0,t.emit("finish"),e.autoDestroy)&&(!(i=t._readableState)||i.autoDestroy&&i.endEmitted)&&t.destroy(),r}"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(r=Function.prototype[Symbol.hasInstance],Object.defineProperty(w,Symbol.hasInstance,{value:function(t){return!!r.call(this,t)||this===w&&t&&t._writableState instanceof b}})):r=function(t){return t instanceof this},w.prototype.pipe=function(){v(this,new h)},w.prototype.write=function(t,e,i){var n,r,s,a=this._writableState,o=!1,h=!a.objectMode&&(h=t,l.isBuffer(h)||h instanceof c);return h&&!l.isBuffer(t)&&(n=t,t=l.from(n)),"function"==typeof e&&(i=e,e=null),e=h?"buffer":e||a.defaultEncoding,"function"!=typeof i&&(i=y),a.ending?(n=this,r=i,s=new m,v(n,s),T.nextTick(r,s)):(h||function(t,e,i,n){var r;if(null===i?r=new g:"string"==typeof i||e.objectMode||(r=new p("chunk",["string","Buffer"],i)),!r)return 1;v(t,r),T.nextTick(n,r)}(this,a,t,i))&&(a.pendingcb++,o=function(t,e,i,n,r,s){i||(a=function(t,e,i){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=l.from(e,i));return e}(e,n,r),n!==a&&(i=!0,r="buffer",n=a));var a=e.objectMode?1:n.length,o=(e.length+=a,e.length<e.highWaterMark);o||(e.needDrain=!0);{var h;e.writing||e.corked?(h=e.lastBufferedRequest,e.lastBufferedRequest={chunk:n,encoding:r,isBuf:i,callback:s,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1):x(t,e,!1,a,n,r,s)}return o}(this,a,h,t,e,i)),o},w.prototype.cork=function(){this._writableState.corked++},w.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||C(this,t))},w.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase()))return this._writableState.defaultEncoding=t,this;throw new _(t)},Object.defineProperty(w.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(w.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),w.prototype._write=function(t,e,i){i(new o("_write()"))},w.prototype._writev=null,w.prototype.end=function(t,e,i){var n=this._writableState;if("function"==typeof t?(i=t,e=t=null):"function"==typeof e&&(i=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),!n.ending){t=this,e=n,n=i;e.ending=!0,A(t,e),n&&(e.finished?T.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}return this},Object.defineProperty(w.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(w.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),w.prototype.destroy=e.destroy,w.prototype._undestroy=e.undestroy,w.prototype._destroy=function(t,e){e(t)}}.call(this)}.call(this,P("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":34,"./_stream_duplex":35,"./internal/streams/destroy":42,"./internal/streams/state":46,"./internal/streams/stream":47,_process:25,buffer:18,inherits:23,"util-deprecate":52}],40:[function(n,m,t){!function(g){!function(){"use strict";var t;function i(t,e,i){e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}var r=n("./end-of-stream"),s=Symbol("lastResolve"),a=Symbol("lastReject"),o=Symbol("error"),h=Symbol("ended"),l=Symbol("lastPromise"),c=Symbol("handlePromise"),u=Symbol("stream");function p(t,e){return{value:t,done:e}}function d(t){var e,i=t[s];null!==i&&null!==(e=t[u].read())&&(t[l]=null,t[s]=null,t[a]=null,i(p(e,!1)))}var e=Object.getPrototypeOf(function(){}),f=Object.setPrototypeOf((i(t={get stream(){return this[u]},next:function(){var i=this,t=this[o];if(null!==t)return Promise.reject(t);if(this[h])return Promise.resolve(p(void 0,!0));if(this[u].destroyed)return new Promise(function(t,e){g.nextTick(function(){i[o]?e(i[o]):t(p(void 0,!0))})});var e,n,r,t=this[l];if(t)e=new Promise((n=t,r=this,function(t,e){n.then(function(){r[h]?t(p(void 0,!0)):r[c](t,e)},e)}));else{t=this[u].read();if(null!==t)return Promise.resolve(p(t,!1));e=new Promise(this[c])}return this[l]=e}},Symbol.asyncIterator,function(){return this}),i(t,"return",function(){var t=this;return new Promise(function(e,i){t[u].destroy(null,function(t){t?i(t):e(p(void 0,!0))})})}),t),e);m.exports=function(t){var e,n=Object.create(f,(i(e={},u,{value:t,writable:!0}),i(e,s,{value:null,writable:!0}),i(e,a,{value:null,writable:!0}),i(e,o,{value:null,writable:!0}),i(e,h,{value:t._readableState.endEmitted,writable:!0}),i(e,c,{value:function(t,e){var i=n[u].read();i?(n[l]=null,n[s]=null,n[a]=null,t(p(i,!1))):(n[s]=t,n[a]=e)},writable:!0}),e));return n[l]=null,r(t,function(t){var e;t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code?(null!==(e=n[a])&&(n[l]=null,n[s]=null,n[a]=null,e(t)),n[o]=t):(null!==(e=n[s])&&(n[l]=null,n[s]=null,e(p(void 0,!(n[a]=null)))),n[h]=!0)}),t.on("readable",function(t){g.nextTick(d,t)}.bind(null,n)),n}}.call(this)}.call(this,n("_process"))},{"./end-of-stream":43,_process:25}],41:[function(t,e,i){"use strict";function s(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function r(n){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var e,i;e=n,i=r[t=t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(r,t))})}return n}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=t("buffer").Buffer,h=t("util").inspect,l=h&&h.custom||"inspect";e.exports=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.head=null,this.tail=null,this.length=0}var e,i,n;return e=t,(i=[{key:"push",value:function(t){t={data:t,next:null};0<this.length?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(t){t={data:t,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){var t;if(0!==this.length)return t=this.head.data,1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,i=""+e.data;e=e.next;)i+=t+e.data;return i}},{key:"concat",value:function(t){if(0===this.length)return o.alloc(0);for(var e,i,n=o.allocUnsafe(t>>>0),r=this.head,s=0;r;)e=r.data,i=s,o.prototype.copy.call(e,n,i),s+=r.data.length,r=r.next;return n}},{key:"consume",value:function(t,e){var i;return t<this.head.data.length?(i=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):i=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,i=1,n=e.data;for(t-=n.length;e=e.next;){var r=e.data,s=t>r.length?r.length:t;if(s===r.length?n+=r:n+=r.slice(0,t),0===(t-=s)){s===r.length?(++i,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e).data=r.slice(s);break}++i}return this.length-=i,n}},{key:"_getBuffer",value:function(t){var e=o.allocUnsafe(t),i=this.head,n=1;for(i.data.copy(e),t-=i.data.length;i=i.next;){var r=i.data,s=t>r.length?r.length:t;if(r.copy(e,e.length-t,0,s),0===(t-=s)){s===r.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i).data=r.slice(s);break}++n}return this.length-=n,e}},{key:l,value:function(t,e){return h(this,r({},e,{depth:0,customInspect:!1}))}}])&&a(e.prototype,i),n&&a(e,n),t}()},{buffer:18,util:15}],42:[function(t,e,i){!function(h){!function(){"use strict";function s(t,e){o(t,e),a(t)}function a(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function o(t,e){t.emit("error",e)}e.exports={destroy:function(t,e){var i=this,n=this._readableState&&this._readableState.destroyed,r=this._writableState&&this._writableState.destroyed;return n||r?e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,h.nextTick(o,this,t)):h.nextTick(o,this,t)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?i._writableState?i._writableState.errorEmitted?h.nextTick(a,i):(i._writableState.errorEmitted=!0,h.nextTick(s,i,t)):h.nextTick(s,i,t):e?(h.nextTick(a,i),e(t)):h.nextTick(a,i)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var i=t._readableState,n=t._writableState;i&&i.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}}}.call(this)}.call(this,t("_process"))},{_process:25}],43:[function(t,e,i){"use strict";var _=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function v(){}e.exports=function t(e,i,n){var r,s,a,o,h,l,c,u,p,d,f,g,m;return"function"==typeof i?t(e,null,i):(r=n||v,s=!1,n=function(){if(!s){s=!0;for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];r.apply(this,e)}},a=(i=i||{}).readable||!1!==i.readable&&e.readable,o=i.writable||!1!==i.writable&&e.writable,h=function(){e.writable||c()},l=e._writableState&&e._writableState.finished,c=function(){l=!(o=!1),a||n.call(e)},u=e._readableState&&e._readableState.endEmitted,p=function(){u=!(a=!1),o||n.call(e)},d=function(t){n.call(e,t)},f=function(){var t;return a&&!u?(e._readableState&&e._readableState.ended||(t=new _),n.call(e,t)):o&&!l?(e._writableState&&e._writableState.ended||(t=new _),n.call(e,t)):void 0},g=function(){e.req.on("finish",c)},(m=e).setHeader&&"function"==typeof m.abort?(e.on("complete",c),e.on("abort",f),e.req?g():e.on("request",g)):o&&!e._writableState&&(e.on("end",h),e.on("close",h)),e.on("end",p),e.on("finish",c),!1!==i.error&&e.on("error",d),e.on("close",f),function(){e.removeListener("complete",c),e.removeListener("abort",f),e.removeListener("request",g),e.req&&e.req.removeListener("finish",c),e.removeListener("end",h),e.removeListener("close",h),e.removeListener("finish",c),e.removeListener("end",p),e.removeListener("error",d),e.removeListener("close",f)})}},{"../../../errors":34}],44:[function(t,e,i){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],45:[function(h,t,e){"use strict";var l;var i=h("../../../errors").codes,o=i.ERR_MISSING_ARGS,c=i.ERR_STREAM_DESTROYED;function u(t){if(t)throw t}function p(i,t,e,n){r=n,s=!1;var r,s,a=!(n=function(){s||(s=!0,r.apply(void 0,arguments))}),o=(i.on("close",function(){a=!0}),(l=void 0===l?h("./end-of-stream"):l)(i,{readable:t,writable:e},function(t){if(t)return n(t);a=!0,n()}),!1);return function(t){var e;if(!a&&!o)return o=!0,(e=i).setHeader&&"function"==typeof e.abort?i.abort():"function"==typeof i.destroy?i.destroy():void n(t||new c("pipe"))}}function d(t){t()}function f(t,e){return t.pipe(e)}t.exports=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];var i,r,s=!(i=n).length||"function"!=typeof i[i.length-1]?u:i.pop();if((n=Array.isArray(n[0])?n[0]:n).length<2)throw new o("streams");var a=n.map(function(t,e){var i=e<n.length-1;return p(t,i,0<e,function(t){r=r||t,t&&a.forEach(d),i||(a.forEach(d),s(r))})});return n.reduce(f)}},{"../../../errors":34,"./end-of-stream":43}],46:[function(t,e,i){"use strict";var a=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(t,e,i,n){s=n,r=i;var r,s=null!=(e=e).highWaterMark?e.highWaterMark:s?e[r]:null;if(null==s)return t.objectMode?16:16384;if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new a(n?i:"highWaterMark",s);return Math.floor(s)}}},{"../../../errors":34}],47:[function(t,e,i){e.exports=t("events").EventEmitter},{events:20}],48:[function(t,e,i){(((i=e.exports=t("./lib/_stream_readable.js")).Stream=i).Readable=i).Writable=t("./lib/_stream_writable.js"),i.Duplex=t("./lib/_stream_duplex.js"),i.Transform=t("./lib/_stream_transform.js"),i.PassThrough=t("./lib/_stream_passthrough.js"),i.finished=t("./lib/internal/streams/end-of-stream.js"),i.pipeline=t("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":35,"./lib/_stream_passthrough.js":36,"./lib/_stream_readable.js":37,"./lib/_stream_transform.js":38,"./lib/_stream_writable.js":39,"./lib/internal/streams/end-of-stream.js":43,"./lib/internal/streams/pipeline.js":45}],49:[function(t,e,i){"use strict";var n=t("safe-buffer").Buffer,r=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"==typeof e||n.isEncoding!==r&&r(t))return e||t;throw new Error("Unknown encoding: "+t)}function a(t){var e;switch(this.encoding=s(t),this.encoding){case"utf16le":this.text=l,this.end=c,e=4;break;case"utf8":this.fillLast=h,e=4;break;case"base64":this.text=u,this.end=p,e=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function o(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function h(t){var e,i=this.lastTotal-this.lastNeed,n=(e=this,128!=(192&(n=t)[0])?(e.lastNeed=0,"�"):1<e.lastNeed&&1<n.length?128!=(192&n[1])?(e.lastNeed=1,"�"):2<e.lastNeed&&2<n.length&&128!=(192&n[2])?(e.lastNeed=2,"�"):void 0:void 0);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,i,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,i,0,t.length),void(this.lastNeed-=t.length))}function l(t,e){if((t.length-e)%2!=0)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1);e=t.toString("utf16le",e);if(e){var i=e.charCodeAt(e.length-1);if(55296<=i&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],e.slice(0,-1)}return e}function c(t){var e,t=t&&t.length?this.write(t):"";return this.lastNeed?(e=this.lastTotal-this.lastNeed,t+this.lastChar.toString("utf16le",0,e)):t}function u(t,e){var i=(t.length-e)%3;return 0==i?t.toString("base64",e):(this.lastNeed=3-i,this.lastTotal=3,1==i?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-i))}function p(t){t=t&&t.length?this.write(t):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(t){return t.toString(this.encoding)}function f(t){return t&&t.length?this.write(t):""}(i.StringDecoder=a).prototype.write=function(t){if(0===t.length)return"";var e,i;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<t.length?e?e+this.text(t,i):this.text(t,i):e||""},a.prototype.end=function(t){t=t&&t.length?this.write(t):"";return this.lastNeed?t+"�":t},a.prototype.text=function(t,e){var i=function(t,e,i){var n=e.length-1;if(!(n<i)){var r=o(e[n]);if(0<=r)return 0<r&&(t.lastNeed=r-1),r;if(!(--n<i||-2===r)){if(0<=(r=o(e[n])))return 0<r&&(t.lastNeed=r-2),r;if(!(--n<i||-2===r)&&0<=(r=o(e[n])))return 0<r&&(2===r?r=0:t.lastNeed=r-3),r}}return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=i;i=t.length-(i-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},{"safe-buffer":29}],50:[function(t,e,i){"use strict";var S=t("punycode"),C=t("./util");function w(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}i.parse=r,i.resolve=function(t,e){return r(t,!1,!0).resolve(e)},i.resolveObject=function(t,e){return t?r(t,!1,!0).resolveObject(e):e},i.format=function(t){C.isString(t)&&(t=r(t));return t instanceof w?t.format():w.prototype.format.call(t)},i.Url=w;var k=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,E=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,i=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),A=["'"].concat(i),T=["%","/","?",";","#"].concat(A),I=["/","?","#"],P=/^[+a-z0-9A-Z_-]{0,63}$/,L=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,O={javascript:!0,"javascript:":!0},N={javascript:!0,"javascript:":!0},M={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},R=t("querystring");function r(t,e,i){var n;return t&&C.isObject(t)&&t instanceof w?t:((n=new w).parse(t,e,i),n)}w.prototype.parse=function(t,e,i){if(!C.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),n=-1!==n&&n<t.indexOf("#")?"?":"#",r=t.split(n);r[0]=r[0].replace(/\\/g,"/");var s=(s=t=r.join(n)).trim();if(!i&&1===t.split("#").length){r=E.exec(s);if(r)return this.path=s,this.href=s,this.pathname=r[1],r[2]?(this.search=r[2],this.query=e?R.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var a,n=k.exec(s);if(n&&(a=(n=n[0]).toLowerCase(),this.protocol=a,s=s.substr(n.length)),!(i||n||s.match(/^\/\/[^@\/]+@[^@\/]+/))||!(b="//"===s.substr(0,2))||n&&N[n]||(s=s.substr(2),this.slashes=!0),!N[n]&&(b||n&&!M[n])){for(var o=-1,h=0;h<I.length;h++)-1!==(l=s.indexOf(I[h]))&&(-1===o||l<o)&&(o=l);-1!==(t=-1===o?s.lastIndexOf("@"):s.lastIndexOf("@",o))&&(r=s.slice(0,t),s=s.slice(t+1),this.auth=decodeURIComponent(r));for(var l,o=-1,h=0;h<T.length;h++)-1!==(l=s.indexOf(T[h]))&&(-1===o||l<o)&&(o=l);-1===o&&(o=s.length),this.host=s.slice(0,o),s=s.slice(o),this.parseHost(),this.hostname=this.hostname||"";i="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!i)for(var c=this.hostname.split(/\./),h=0,u=c.length;h<u;h++){var p=c[h];if(p&&!p.match(P)){for(var d="",f=0,g=p.length;f<g;f++)127<p.charCodeAt(f)?d+="x":d+=p[f];if(!d.match(P)){var m=c.slice(0,h),_=c.slice(h+1),v=p.match(L);v&&(m.push(v[1]),_.unshift(v[2])),_.length&&(s="/"+_.join(".")+s),this.hostname=m.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),i||(this.hostname=S.toASCII(this.hostname));var y=this.port?":"+this.port:"",b=this.hostname||"";this.host=b+y,this.href+=this.host,i&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0])&&(s="/"+s)}if(!O[a])for(h=0,u=A.length;h<u;h++){var w,x=A[h];-1!==s.indexOf(x)&&((w=encodeURIComponent(x))===x&&(w=escape(x)),s=s.split(x).join(w))}n=s.indexOf("#"),-1!==n&&(this.hash=s.substr(n),s=s.slice(0,n)),t=s.indexOf("?");return-1!==t?(this.search=s.substr(t),this.query=s.substr(t+1),e&&(this.query=R.parse(this.query)),s=s.slice(0,t)):e&&(this.search="",this.query={}),s&&(this.pathname=s),M[a]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(y=this.pathname||"",r=this.search||"",this.path=y+r),this.href=this.format(),this},w.prototype.format=function(){var t=this.auth||"",e=(t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@"),this.protocol||""),i=this.pathname||"",n=this.hash||"",r=!1,s="",t=(this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port)&&(r+=":"+this.port),this.query&&C.isObject(this.query)&&Object.keys(this.query).length&&(s=R.stringify(this.query)),this.search||s&&"?"+s||"");return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||M[e])&&!1!==r?(r="//"+(r||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):r=r||"",n&&"#"!==n.charAt(0)&&(n="#"+n),t&&"?"!==t.charAt(0)&&(t="?"+t),e+r+(i=i.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(t=t.replace("#","%23"))+n},w.prototype.resolve=function(t){return this.resolveObject(r(t,!1,!0)).format()},w.prototype.resolveObject=function(t){C.isString(t)&&((p=new w).parse(t,!1,!0),t=p);for(var e=new w,i=Object.keys(this),n=0;n<i.length;n++){var r=i[n];e[r]=this[r]}if(e.hash=t.hash,""!==t.href)if(t.slashes&&!t.protocol){for(var s=Object.keys(t),a=0;a<s.length;a++){var o=s[a];"protocol"!==o&&(e[o]=t[o])}M[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/")}else if(t.protocol&&t.protocol!==e.protocol)if(M[t.protocol]){if(e.protocol=t.protocol,t.host||N[t.protocol])e.pathname=t.pathname;else{for(var h=(t.pathname||"").split("/");h.length&&!(t.host=h.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),e.pathname=h.join("/")}e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,(e.pathname||e.search)&&(p=e.pathname||"",d=e.search||"",e.path=p+d),e.slashes=e.slashes||t.slashes}else for(var l=Object.keys(t),c=0;c<l.length;c++){var u=l[c];e[u]=t[u]}else{var p=e.pathname&&"/"===e.pathname.charAt(0),d=t.host||t.pathname&&"/"===t.pathname.charAt(0),p=d||p||e.host&&t.pathname,f=p,g=e.pathname&&e.pathname.split("/")||[],h=t.pathname&&t.pathname.split("/")||[],m=e.protocol&&!M[e.protocol];if(m&&(e.hostname="",e.port=null,e.host&&(""===g[0]?g[0]=e.host:g.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===h[0]?h[0]=t.host:h.unshift(t.host)),t.host=null),p=p&&(""===h[0]||""===g[0])),d)e.host=(t.host||""===t.host?t:e).host,e.hostname=(t.hostname||""===t.hostname?t:e).hostname,e.search=t.search,e.query=t.query,g=h;else if(h.length)(g=g||[]).pop(),g=g.concat(h),e.search=t.search,e.query=t.query;else if(!C.isNullOrUndefined(t.search))return m&&(e.hostname=e.host=g.shift(),b=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=b.shift(),e.host=e.hostname=b.shift()),e.search=t.search,e.query=t.query,C.isNull(e.pathname)&&C.isNull(e.search)||(e.path=(e.pathname||"")+(e.search||"")),e.href=e.format(),e;if(g.length){for(var _=g.slice(-1)[0],d=(e.host||t.host||1<g.length)&&("."===_||".."===_)||""===_,v=0,y=g.length;0<=y;y--)"."===(_=g[y])?g.splice(y,1):".."===_?(g.splice(y,1),v++):v&&(g.splice(y,1),v--);if(!p&&!f)for(;v--;)g.unshift("..");!p||""===g[0]||g[0]&&"/"===g[0].charAt(0)||g.unshift(""),d&&"/"!==g.join("/").substr(-1)&&g.push("");var b,f=""===g[0]||g[0]&&"/"===g[0].charAt(0);m&&(e.hostname=e.host=!f&&g.length?g.shift():"",b=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=b.shift(),e.host=e.hostname=b.shift()),(p=p||e.host&&g.length)&&!f&&g.unshift(""),g.length?e.pathname=g.join("/"):(e.pathname=null,e.path=null),C.isNull(e.pathname)&&C.isNull(e.search)||(e.path=(e.pathname||"")+(e.search||"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes}else e.pathname=null,e.search?e.path="/"+e.search:e.path=null}return e.href=e.format(),e},w.prototype.parseHost=function(){var t=this.host,e=n.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":51,punycode:17,querystring:28}],51:[function(t,e,i){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],52:[function(t,i,e){!function(e){!function(){function n(t){try{if(!e.localStorage)return}catch(t){return}t=e.localStorage[t];return null!=t&&"true"===String(t).toLowerCase()}i.exports=function(t,e){if(n("noDeprecation"))return t;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],53:[function(t,e,i){e.exports=function(){for(var t={},e=0;e<arguments.length;e++){var i,n=arguments[e];for(i in n)r.call(n,i)&&(t[i]=n[i])}return t};var r=Object.prototype.hasOwnProperty},{}],54:[function(l,c,t){!function(h){!function(){"use strict";const e=l("https");var t=l("@tarekraafat/autocomplete.js");let s={};var i="#search-id";let r=10;const a=document.querySelector(i),n=()=>{let r={};return new Promise((i,n)=>{var t=a.getAttribute("data-npc");t||i([]),e.get(t,t=>{let e=[];t.on("data",t=>{e.push(t)}),t.on("error",t=>n(t)),t.on("end",()=>{JSON.parse(h.concat(e).toString()).forEach(t=>{r[t.loc]||(r[t.loc]=[]),r[t.loc].push(t.name),s[t.name]=s[t.name]?s[t.name].concat([t.loc]):[t.loc]}),i(r)})})})};let o;o=new t({selector:i,data:{src:async()=>{await n();let t=Object.keys(s);return t=t.map(t=>({value:s[t],text:t}))},keys:["text"],cache:!0},resultItem:{tag:"a",class:"dropdown-item",selected:"active",highlight:!0},resultsList:{tag:"div",class:"npc-autocomplete dropdown-menu show",maxResults:void 0,destination:"#search .advancedAutoComplete"},submit:!1}),document.querySelector(i).addEventListener("selection",function(t){t.detail.selection.value instanceof Function?t.detail.selection.value():(a.value=t.detail.selection.value.value[0],a.form.requestSubmit())}),document.querySelector(i).addEventListener("keyup",t=>{13!=t.keyCode||""===a.value.trim()||isNaN(a.value)||a.form.requestSubmit()}),document.querySelector(i).addEventListener("results",function(n){let t=n.detail.results;var e=t.length;0<e&&(t.sort((t,e)=>{var t=t.value.text.toLowerCase(),e=e.value.text.toLowerCase(),i=n.detail.query.toLowerCase();return t.startsWith(i)&&!e.startsWith(i)?-1:!t.startsWith(n.detail.query)&&e.startsWith(i)?1:t.localeCompare(e)}),t=t.slice(0,r),e>r)&&t.push({value:function(){var t=r+10;o.start(),r=t},match:"Więcej..."}),n.detail.results=t}),a.addEventListener("input",t=>{r=10}),c.exports={downloadNpc:n,findNpc:t=>{return null!=(t=s[t])&&t}}}.call(this)}.call(this,l("buffer").Buffer)},{"@tarekraafat/autocomplete.js":11,buffer:18,https:21}],55:[function(t,e,i){"use strict";t("paper");e.exports={Preview:class{constructor(t,e){this.map=t,this.preview=document.querySelector(".preview-container"),this.previewImgContainer=document.querySelector(".preview"),this.previewImg=document.querySelector(".preview-img"),this.previewPanContainer=document.querySelector(".preview-pan-container"),this.previewPan=document.querySelector(".preview-pan"),this.pageControls=e}init(t){return this.controls=t,this.view=t.renderer.paper.view,window.view=this.view,this.backgroundLayer=t.renderer.backgroundLayer,window.pv=this,window.backgroundLayer=this.backgroundLayer,this.baseBounds={left:this.view.bounds.left,top:this.view.bounds.top},new Promise((i,t)=>{setTimeout(()=>{var t=this.view.size.width/this.backgroundLayer.bounds.width,e=this.view.size.height/this.backgroundLayer.bounds.height;this.view.size.width>this.view.size.height?(this.previewImg.style.maxWidth=100*t+"%",this.previewImg.style.maxHeight="100%"):(this.previewImg.style.maxWidth="100%",this.previewImg.style.maxHeight=100*e+"%"),this.previewImg.setAttribute("src",this.map.toDataURL()),this.previewImg.addEventListener("load",()=>{this.previewPanContainer.style.width=this.previewImg.width+"px",this.previewPanContainer.style.height=this.previewImg.height+"px",this.update(),i()},{once:!0}),this.preview.style.opacity=0,this.previewImgContainer.style.background=this.controls.renderer.settings.mapBackground,this.previewImg.style.background=this.controls.renderer.settings.mapBackground},10)})}update(){var t;this.pageControls.settings.preview&&(this.preview.style.opacity=1,clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.preview.style.opacity=0,4e3),t=this.view.minZoom/this.view.zoom,this.previewPan.style.width=100*t+"%",this.previewPan.style.height=100*t+"%",this.previewPan.style.left=-((this.baseBounds.left-this.view.bounds.left)/this.view.bounds.width)*(100*t)+"%",this.previewPan.style.top=-((this.baseBounds.top-this.view.bounds.top)/this.view.bounds.height)*(100*t)+"%")}}}},{paper:24}],56:[function(t,e,i){!function(s){!function(){"use strict";const r=t("https");e.exports={downloadVersion:(t,e)=>new Promise((i,n)=>{r.get(e.replace("%tag%",t),t=>{let e=[];t.on("data",t=>{e.push(t)}),t.on("error",t=>n(t)),t.on("end",()=>{var t=JSON.parse(s.concat(e).toString());i(t)})})}),downloadTags:t=>new Promise((i,n)=>{r.get(t,t=>{let e=[];t.on("data",t=>{e.push(t)}),t.on("error",t=>n(t)),t.on("end",()=>{var t=JSON.parse(s.concat(e).toString());i(t.map(t=>t.tag_name))})})})}}.call(this)}.call(this,t("buffer").Buffer)},{buffer:18,https:21}]},{},[8]);
